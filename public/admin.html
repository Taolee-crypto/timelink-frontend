<!DOCTYPE html>
<html lang="ko">
<head>
<style>
:root {
  --purple: #8b5cf6;
  --purple-dark: #7c3aed;
  --purple-darker: #6d28d9;
  --purple-light: #ede9fe;
  --purple-pale: #f5f3ff;
  --green: #10b981;
  --green-light: #d1fae5;
  --yellow: #f59e0b;
  --yellow-light: #fef3c7;
  --red: #ef4444;
  --red-light: #fee2e2;
  --blue: #3b82f6;
  --blue-light: #dbeafe;
  --gray-50: #f9fafb;
  --gray-100: #f3f4f6;
  --gray-200: #e5e7eb;
  --gray-300: #d1d5db;
  --gray-500: #6b7280;
  --gray-700: #374151;
  --gray-900: #111827;
  --text: #0f172a;
  --border: #e5e7eb;
  --surface: #f8fafc;
  --font: 'Inter', 'Noto Sans KR', sans-serif;
}
</style>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ê´€ë¦¬ì í˜ì´ì§€ - TimeLink</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: Inter, sans-serif; background: #f1f5f9; color: #0f172a; }

/* ë„¤ë¹„ê²Œì´ì…˜ */
.navbar {
  background: white; border-bottom: 1px solid #e2e8f0; padding: 0 24px; height: 64px;
  display: flex; align-items: center; justify-content: space-between; position: sticky; top: 0; z-index: 100;
}
.logo { display: flex; align-items: center; gap: 10px; font-size: 20px; font-weight: 800; color: #0f172a; text-decoration: none; }
.logo-icon { width: 32px; height: 32px; background: #8b5cf6; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 16px; }
.logo span { color: #8b5cf6; }

/* ê´€ë¦¬ì ë°°ì§€ */
.admin-badge {
  background: #3b82f6; color: white; padding: 4px 12px; border-radius: 999px;
  font-size: 12px; font-weight: 600; margin-left: 12px;
}

/* íƒ­ ë©”ë‰´ */
.tabs {
  background: white; border-bottom: 1px solid #e2e8f0; padding: 0 24px; display: flex; gap: 4px;
}
.tab {
  padding: 12px 20px; font-size: 14px; font-weight: 600; color: #64748b;
  cursor: pointer; border-bottom: 2px solid transparent; transition: all 0.2s;
  text-decoration: none;
}
.tab:hover { color: #3b82f6; }
.tab.active { color: #3b82f6; border-bottom-color: #3b82f6; }

/* ë©”ì¸ ì»¨í…ì¸  */
.container { max-width: 1400px; margin: 0 auto; padding: 24px; }

/* í†µê³„ ì¹´ë“œ */
.stats-grid {
  display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 24px;
}
.stat-card {
  background: white; border-radius: 16px; padding: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}
.stat-label { font-size: 14px; color: #64748b; margin-bottom: 8px; }
.stat-value { font-size: 32px; font-weight: 700; color: #0f172a; }
.stat-change { font-size: 13px; color: #8b5cf6; margin-top: 4px; }

/* ë°ì´í„° í…Œì´ë¸” */
.data-card {
  background: white; border-radius: 16px; padding: 24px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  margin-bottom: 24px;
}
.card-header {
  display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;
}
.card-title { font-size: 18px; font-weight: 700; }
.card-title span { color: #64748b; font-size: 14px; font-weight: normal; margin-left: 8px; }

table {
  width: 100%; border-collapse: collapse;
}
th {
  text-align: left; padding: 12px; background: #f8fafc; color: #475569; font-size: 13px; font-weight: 600;
}
td {
  padding: 12px; border-bottom: 1px solid #e2e8f0; font-size: 14px;
}
tr:hover td { background: #f8fafc; }

/* ë°°ì§€ */
.badge {
  display: inline-block; padding: 4px 8px; border-radius: 999px; font-size: 11px; font-weight: 600;
}
.badge-success { background: #ede9fe; color: #065f46; }
.badge-warning { background: #fed7aa; color: #92400e; }
.badge-danger { background: #fee2e2; color: #991b1b; }
.badge-info { background: #dbeafe; color: #1e40af; }

/* ë²„íŠ¼ */
.btn {
  padding: 8px 16px; border-radius: 8px; font-size: 13px; font-weight: 600;
  cursor: pointer; border: none; transition: all 0.2s;
}
.btn-primary { background: #8b5cf6; color: white; }
.btn-primary:hover { background: #7c3aed; }
.btn-outline { background: white; border: 1px solid #e2e8f0; color: #475569; }
.btn-outline:hover { background: #f8fafc; }
.btn-sm { padding: 4px 8px; font-size: 12px; }
.btn-danger { background: #ef4444; color: white; }
.btn-danger:hover { background: #dc2626; }

/* í•„í„° ë°” */
.filter-bar {
  display: flex; gap: 12px; margin-bottom: 20px; flex-wrap: wrap;
}
.filter-input {
  padding: 8px 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 13px;
  min-width: 200px;
}
.filter-select {
  padding: 8px 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 13px;
  background: white;
}

/* ëª¨ë‹¬ */
.modal-overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,0.5); display: none;
  align-items: center; justify-content: center; z-index: 1000;
}
.modal-overlay.show { display: flex; }
.modal {
  background: white; border-radius: 16px; padding: 24px; width: 90%; max-width: 400px;
}
.modal-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; }
.modal-title { font-size: 18px; font-weight: 700; }
.modal-close { background: none; border: none; font-size: 20px; cursor: pointer; color: #64748b; }

/* ì¸ì¦ ì½”ë“œ ì…ë ¥ */
.verify-input {
  width: 100%; padding: 12px; border: 1px solid #e2e8f0; border-radius: 8px;
  font-size: 16px; text-align: center; letter-spacing: 4px; margin-bottom: 16px;
}
.verify-info {
  background: #dbeafe; border-radius: 8px; padding: 12px; margin-bottom: 16px;
  font-size: 14px; color: #1e40af; text-align: center;
}

/* ë¡œê·¸ì¸ í¼ */
.login-container {
  max-width: 360px; margin: 100px auto; padding: 32px;
  background: white; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
}
.login-title { font-size: 24px; font-weight: 700; text-align: center; margin-bottom: 24px; }
.login-input {
  width: 100%; padding: 12px; border: 1px solid #e2e8f0; border-radius: 8px;
  margin-bottom: 16px; font-size: 14px;
}
.login-btn {
  width: 100%; padding: 12px; background: #3b82f6; color: white; border: none;
  border-radius: 8px; font-weight: 600; cursor: pointer;
}
.login-btn:hover { background: #2563eb; }

.hidden { display: none !important; }
.page-footer {
  background: #f9fafb;
  border-top: 1px solid #e5e7eb;
  padding: 48px 24px 24px;
  margin-top: 60px;
}
.footer-grid {
  max-width: 1100px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: 1.5fr 1fr 1fr 1fr;
  gap: 40px;
  margin-bottom: 40px;
}
.footer-logo {
  font-size: 18px;
  font-weight: 800;
  margin-bottom: 10px;
  color: #0f172a;
}
.footer-tagline {
  font-size: 13px;
  color: #9ca3af;
  line-height: 1.6;
}
.footer-col-title {
  font-size: 12px;
  font-weight: 700;
  color: #9ca3af;
  text-transform: uppercase;
  letter-spacing: 0.8px;
  margin-bottom: 14px;
}
.footer-col a {
  display: block;
  font-size: 14px;
  color: #6b7280;
  text-decoration: none;
  margin-bottom: 8px;
  transition: color 0.2s;
}
.footer-col a:hover { color: #8b5cf6; }
.footer-bottom {
  max-width: 1100px;
  margin: 0 auto;
  padding-top: 24px;
  border-top: 1px solid #e5e7eb;
  font-size: 12px;
  color: #9ca3af;
  text-align: center;
}
@media (max-width: 768px) {
  .footer-grid { grid-template-columns: 1fr 1fr; gap: 28px; }
}
@media (max-width: 480px) {
  .footer-grid { grid-template-columns: 1fr; }
}
</style>

<script>
// ====== ê³µí†µ ë¡œê·¸ì¸ ìƒíƒœ ê´€ë¦¬ ======
let currentUser = JSON.parse(localStorage.getItem("tl_user") || "null");
let carMode = localStorage.getItem("tl_car") === true;

// ë„¤ë¹„ê²Œì´ì…˜ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
function updateNavbar() {
  const navAuth = document.getElementById(av-auth);
  const navGuest = document.getElementById(av-guest);
  const balanceTl = document.getElementById(balance-tl);
  const balanceTlc = document.getElementById(balance-tlc);
  const avatarLetter = document.getElementById(avatar-letter);
  const carStatus = document.getElementById(car-status);
  const carIndicator = document.getElementById(car-indicator);

  if (currentUser) {
    // ë¡œê·¸ì¸ ìƒíƒœ
    if (navAuth) navAuth.classList.remove("hidden");
    if (navGuest) navGuest.classList.add("hidden");
    if (balanceTl) balanceTl.innerHTML = `<span data-currency="${currentUser.tl || 0}">${(currentUser.tl || 0).toLocaleString()}</span>`;
    if (balanceTlc) balanceTlc.textContent = (currentUser.tlc || 0).toFixed(4);
    if (avatarLetter) avatarLetter.textContent = (currentUser.username || U).charAt(0).toUpperCase();
  } else {
    // ë¡œê·¸ì•„ì›ƒ ìƒíƒœ
    if (navAuth) navAuth.classList.add("hidden");
    if (navGuest) navGuest.classList.remove("hidden");
  }
  
  // Car Mode í‘œì‹œ
  if (carStatus) carStatus.textContent = carMode ? ON : Off;
  if (carIndicator) carIndicator.className = car-indicator + (carMode ?  on : );
}

// ë“œë¡­ë‹¤ìš´ í† ê¸€
function toggleDropdown() {
  document.getElementById("dropdown")?.classList.toggle("show");
}

// ì™¸ë¶€ í´ë¦­ì‹œ ë“œë¡­ë‹¤ìš´ ë‹«ê¸°
document.addEventListener(click, (e) => {
  if (!e.target.closest(.avatar)) {
    document.getElementById("dropdown")?.classList.remove("show");
  }
});

// ë¡œê·¸ì•„ì›ƒ í•¨ìˆ˜ (ëª¨ë“  í˜ì´ì§€ì—ì„œ ë™ì¼í•˜ê²Œ ë™ì‘)
function logout() {
  // ì‚¬ìš©ì ì •ë³´ ì‚­ì œ
  localStorage.removeItem(tl_user);
  localStorage.removeItem(auth_token);
  
  // currentUser ë³€ìˆ˜ ì—…ë°ì´íŠ¸
  currentUser = null;
  
  // ë„¤ë¹„ê²Œì´ì…˜ ì—…ë°ì´íŠ¸
  updateNavbar();
  
  // ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™
  window.location.href = index.html;
}

// í˜ì´ì§€ ë¡œë“œì‹œ ì‹¤í–‰
document.addEventListener(DOMContentLoaded, function() {
  updateNavbar();
  
  // ë¡œê·¸ì¸ ìƒíƒœ ë³€ê²½ ê°ì§€ (ë‹¤ë¥¸ íƒ­ì—ì„œ ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ì‹œ)
  window.addEventListener(storage, function(e) {
    if (e.key === tl_user) {
      currentUser = JSON.parse(e.newValue || null);
      updateNavbar();
    }
  });
});
</script>
<script>
// ====== ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ ======
(function() {
  // í˜„ì¬ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
  const currentUser = JSON.parse(localStorage.getItem("tl_user") || "null");
  const navAuth = document.getElementById(av-auth);
  const navGuest = document.getElementById(av-guest);
  
  // ë””ë²„ê¹…ìš© ë¡œê·¸
  console.log(Current user:, currentUser);
  console.log(avAuth exists:, !!navAuth);
  console.log(avGuest exists:, !!navGuest);
  
  // ë„¤ë¹„ê²Œì´ì…˜ ì—…ë°ì´íŠ¸
  if (currentUser) {
    if (navAuth) {
      navAuth.classList.remove("hidden");
      console.log(avAuth hidden ì œê±°ë¨);
    }
    if (navGuest) {
      navGuest.classList.add("hidden");
      console.log(avGuest hidden ì¶”ê°€ë¨);
    }
    
    // ì‚¬ìš©ì ì •ë³´ í‘œì‹œ
    const balanceTl = document.getElementById(balance-tl);
    const balanceTlc = document.getElementById(balance-tlc);
    const avatarLetter = document.getElementById(avatar-letter);
    
    if (balanceTl) balanceTl.textContent = (currentUser.tl || 0).toLocaleString();
    if (balanceTlc) balanceTlc.textContent = (currentUser.tlc || 0).toFixed(4);
    if (avatarLetter) avatarLetter.textContent = (currentUser.username || U).charAt(0).toUpperCase();
  } else {
    if (navAuth) {
      navAuth.classList.add("hidden");
      console.log(avAuth hidden ì¶”ê°€ë¨);
    }
    if (navGuest) {
      navGuest.classList.remove("hidden");
      console.log(avGuest hidden ì œê±°ë¨);
    }
  }
  
  // Car Mode í‘œì‹œ
  const carMode = localStorage.getItem("tl_car") === true;
  const carStatus = document.getElementById(car-status);
  const carIndicator = document.getElementById(car-indicator);
  
  if (carStatus) carStatus.textContent = carMode ? ON : Off;
  if (carIndicator) carIndicator.className = car-indicator + (carMode ?  on : );
})();

// ë“œë¡­ë‹¤ìš´ í† ê¸€
function toggleDropdown() {
  document.getElementById("dropdown")?.classList.toggle("show");
}

// ì™¸ë¶€ í´ë¦­ì‹œ ë“œë¡­ë‹¤ìš´ ë‹«ê¸°
document.addEventListener(click, (e) => {
  if (!e.target.closest(.avatar)) {
    document.getElementById("dropdown")?.classList.remove("show");
  }
});

// ë¡œê·¸ì•„ì›ƒ í•¨ìˆ˜
function logout() {
  localStorage.removeItem(tl_user);
  localStorage.removeItem(auth_token);
  alert(ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.);
  window.location.href = index.html;
}
</script>
<script>
// ====== ë¡œê·¸ì¸ ìƒíƒœ ê´€ë¦¬ ======
(function() {
  // í˜„ì¬ ë¡œê·¸ì¸ ì‚¬ìš©ì í™•ì¸
  const currentUser = JSON.parse(localStorage.getItem("tl_user") || "null");
  
  // DOM ìš”ì†Œë“¤
  const navAuth = document.getElementById(av-auth);     // ì‚¬ìš©ì ë©”ë‰´ (TL/TLC/ì•„ë°”íƒ€)
  const navGuest = document.getElementById(av-guest);   // ë¡œê·¸ì¸/ì‹œì‘í•˜ê¸° ë²„íŠ¼
  
  console.log(ë¡œê·¸ì¸ ìƒíƒœ:, currentUser ? âœ… ë¡œê·¸ì¸ë¨ : âŒ ë¡œê·¸ì•„ì›ƒë¨);
  
  if (currentUser) {
    // âœ… ë¡œê·¸ì¸ë¨: ì‚¬ìš©ì ë©”ë‰´ ë³´ì„, ë¡œê·¸ì¸ ë²„íŠ¼ ìˆ¨ê¹€
    if (navAuth) {
      navAuth.classList.remove("hidden");
      console.log(ì‚¬ìš©ì ë©”ë‰´ í‘œì‹œ);
    }
    if (navGuest) {
      navGuest.classList.add("hidden");
      console.log(ë¡œê·¸ì¸ ë²„íŠ¼ ìˆ¨ê¹€);
    }
    
    // ì‚¬ìš©ì ì •ë³´ ì—…ë°ì´íŠ¸
    const balanceTl = document.getElementById(balance-tl);
    const balanceTlc = document.getElementById(balance-tlc);
    const avatarLetter = document.getElementById(avatar-letter);
    
    if (balanceTl) balanceTl.textContent = (currentUser.tl || 0).toLocaleString();
    if (balanceTlc) balanceTlc.textContent = (currentUser.tlc || 0).toFixed(4);
    if (avatarLetter) avatarLetter.textContent = (currentUser.username || U).charAt(0).toUpperCase();
    
  } else {
    // âŒ ë¡œê·¸ì•„ì›ƒë¨: ë¡œê·¸ì¸ ë²„íŠ¼ ë³´ì„, ì‚¬ìš©ì ë©”ë‰´ ìˆ¨ê¹€
    if (navAuth) {
      navAuth.classList.add("hidden");
      console.log(ì‚¬ìš©ì ë©”ë‰´ ìˆ¨ê¹€);
    }
    if (navGuest) {
      navGuest.classList.remove("hidden");
      console.log(ë¡œê·¸ì¸ ë²„íŠ¼ í‘œì‹œ);
    }
  }
  
  // Car Mode í‘œì‹œ
  const carMode = localStorage.getItem("tl_car") === true;
  const carStatus = document.getElementById(car-status);
  const carIndicator = document.getElementById(car-indicator);
  
  if (carStatus) carStatus.textContent = carMode ? ON : Off;
  if (carIndicator) carIndicator.className = car-indicator + (carMode ?  on : );
})();

// ë“œë¡­ë‹¤ìš´ í† ê¸€ (ì‚¬ìš©ì ì•„ì´ì½˜ í´ë¦­)
function toggleDropdown() {
  const dropdown = document.getElementById("dropdown");
  if (dropdown) {
    dropdown.classList.toggle("show");
    console.log(ë“œë¡­ë‹¤ìš´ í† ê¸€);
  }
}

// ì™¸ë¶€ í´ë¦­ì‹œ ë“œë¡­ë‹¤ìš´ ë‹«ê¸°
document.addEventListener(click, function(e) {
  if (!e.target.closest(.avatar)) {
    const dropdown = document.getElementById("dropdown");
    if (dropdown) dropdown.classList.remove("show");
  }
});

// ë¡œê·¸ì•„ì›ƒ í•¨ìˆ˜
function logout() {
  console.log(ë¡œê·¸ì•„ì›ƒ ì‹¤í–‰);
  localStorage.removeItem(tl_user);
  localStorage.removeItem(auth_token);
  alert(ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.);
  window.location.href = index.html;
}
</script>
  <script src="/activity.js"></script>`n
<!-- ===== ê°„ë‹¨í•œ ë¡œì»¬ ì‹œê°„ ë³€í™˜ ===== -->
<script>
// UTC ì‹œê°„ì„ ì‚¬ìš©ì ë¡œì»¬ ì‹œê°„ìœ¼ë¡œ ë³€í™˜
function displayLocalTime() {
  document.querySelectorAll([data-utc]).forEach(el => {
    const utc = el.getAttribute(data-utc);
    if (utc) {
      el.textContent = new Date(utc).toLocaleString();
    }
  });
}

// í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
document.addEventListener(DOMContentLoaded, displayLocalTime);
</script>
<style>
/* ê¸€ë¡œë²Œ ì»¨íŠ¸ë¡¤ - ë¼ì´íŠ¸ í…Œë§ˆ ì˜¤ë²„ë¼ì´ë“œ */
.navbar #global-controls button,
nav #global-controls button {
  background: rgba(139,92,246,0.08) !important;
  border: 1px solid rgba(139,92,246,0.2) !important;
  color: #374151 !important;
}
.navbar #global-controls button:hover,
nav #global-controls button:hover {
  background: rgba(139,92,246,0.15) !important;
}
</style>
  <meta property="og:title" content="ê´€ë¦¬ì - TimeLink">
  <meta property="og:description" content="TimeLink ê´€ë¦¬ì í˜ì´ì§€">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://taolee-crypto.github.io/timelink-frontend/public/admin.html">
  <meta property="og:image" content="https://taolee-crypto.github.io/timelink-frontend/public/og-image.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ê´€ë¦¬ì - TimeLink">
  <meta name="twitter:description" content="TimeLink ê´€ë¦¬ì í˜ì´ì§€">
  <meta name="description" content="TimeLink ê´€ë¦¬ì í˜ì´ì§€">
  <link rel="canonical" href="https://taolee-crypto.github.io/timelink-frontend/public/admin.html">
</head>
<body>
<div id="admin-login" class="login-container">
  <div class="login-title">ğŸ” ê´€ë¦¬ì ë¡œê·¸ì¸</div>
  <input type="text" id="admin-id" class="login-input" placeholder="ê´€ë¦¬ì ID" value="admin">
  <input type="password" id="admin-pw" class="login-input" placeholder="ë¹„ë°€ë²ˆí˜¸" value="admin1234">
  <button class="login-btn" onclick="adminLogin()"><span data-i18n="login" data-i18n="nav_login">ë¡œê·¸ì¸</span></button>
</div>

<div id="admin-panel" class="hidden">
  <nav class="navbar">
    <a href="index.html" class="logo"><div class="logo-icon">âš¡</div><div>Time<span>Link</span> <span class="admin-badge">ADMIN</span></div></a>
    <div style="display: flex; gap: 12px;">
      <span style="color: #64748b;">ê´€ë¦¬ì: <strong id="admin-name">admin</strong></span>
      <a href="charge.html" style="padding:6px 14px;background:#8b5cf6;color:white;border-radius:999px;font-size:13px;font-weight:700;text-decoration:none;margin-right:8px;">ğŸ’³ TL ì¶©ì „</a><button class="btn btn-outline btn-sm" onclick="logout()"><span data-i18n="logout" data-i18n="nav_logout">ë¡œê·¸ì•„ì›ƒ</span></button>
    </div>
    <div id="global-controls" style="display:flex;align-items:center;gap:8px;margin-left:8px;">
    <div id="lang-selector"></div>
    <div id="currency-selector"></div>
  </div>
  </nav>

  <div class="tabs">
  <a href="index.html" class="tab">ğŸ  í™ˆ</a>
  <a href="shareplace.html" class="tab">ğŸ›ï¸ SharePlace</a>
  <a href="library.html" class="tab">ğŸ” ë¼ì´ë¸ŒëŸ¬ë¦¬</a>
  <a href="create.html" class="tab">ğŸ“¤ ì—…ë¡œë“œ</a>
  <a href="radio.html" class="tab">â˜• ì¹´í˜ë°©ì†¡</a>
  <a href="car.html" class="tab">ğŸ§ Moving Radio</a>
  <a href="ads.html" class="tab">ğŸ“£ ê´‘ê³ </a>
  <a href="wallet.html" class="tab">ğŸ‘› ì§€ê°‘</a>
  <a href="chart.html" class="tab">ğŸ“Š ì°¨íŠ¸</a>
  <a href="dashboard.html" class="tab">ğŸ“Š ëŒ€ì‹œë³´ë“œ</a>
</div>

  <!-- ì–´ë“œë¯¼ íƒ­ ë²„íŠ¼ -->
  <div style="background:white;border-bottom:1px solid #e5e7eb;padding:0 24px;display:flex;gap:4px;overflow-x:auto;">
    <button class="admin-tab-btn active" onclick="showAdminTab('dashboard',this)">ğŸ“Š ëŒ€ì‹œë³´ë“œ</button>
    <button class="admin-tab-btn" onclick="showAdminTab('users',this)">ğŸ‘¥ ì‚¬ìš©ì</button>
    <button class="admin-tab-btn" onclick="showAdminTab('tracks',this)">ğŸµ íŠ¸ë™</button>
    <button class="admin-tab-btn" onclick="showAdminTab('exchanges',this)">ğŸ’³ í™˜ì „</button>
    <button class="admin-tab-btn" onclick="showAdminTab('branches',this)">ğŸŒ ê¸€ë¡œë²Œ ë¸Œëœì¹˜</button>
    <button class="admin-tab-btn" onclick="showAdminTab('settings',this)">âš™ï¸ ì„¤ì •</button>
  </div>
  <style>
  .admin-tab-btn { padding:12px 20px;background:none;border:none;border-bottom:3px solid transparent;font-size:13px;font-weight:600;cursor:pointer;white-space:nowrap;color:#64748b;font-family:'Inter',sans-serif;transition:all 0.2s; }
  .admin-tab-btn:hover { color:#8b5cf6; }
  .admin-tab-btn.active { color:#8b5cf6;border-bottom-color:#8b5cf6; }
  .branch-admin-card { background:white;border:1px solid #e5e7eb;border-radius:16px;padding:20px;position:relative; }
  .branch-admin-card .badge { position:absolute;top:14px;right:14px;font-size:10px;font-weight:700;padding:2px 10px;border-radius:20px; }
  </style>

  <div class="container">

    <!-- ê¸€ë¡œë²Œ ë¸Œëœì¹˜ ê´€ë¦¬ -->
    <div id="branches-tab" class="hidden">
      <div class="data-card">
        <div class="card-header">
          <div class="card-title">ğŸŒ ê¸€ë¡œë²Œ ë¸Œëœì¹˜ ê´€ë¦¬</div>
          <button class="btn btn-primary btn-sm" onclick="openBranchModal(null)">+ ë¸Œëœì¹˜ ì¶”ê°€</button>
        </div>
        <div id="branch-admin-grid" style="display:grid;grid-template-columns:repeat(2,1fr);gap:16px;padding:8px 0;"></div>
      </div>
    </div>

    <!-- ëŒ€ì‹œë³´ë“œ -->
    <div id="dashboard-tab">
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-label">ì´ ì‚¬ìš©ì</div>
          <div class="stat-value" id="total-users">0</div>
          <div class="stat-change" id="new-users-today">+0 ì˜¤ëŠ˜</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">ì´ íŠ¸ë™</div>
          <div class="stat-value" id="total-tracks">0</div>
          <div class="stat-change" id="new-tracks-today">+0 ì˜¤ëŠ˜</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">ì´ TL</div>
          <div class="stat-value" id="total-tl">0</div>
          <div class="stat-change">ìœ í†µëŸ‰</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">í™˜ì „ ìš”ì²­</div>
          <div class="stat-value" id="pending-exchanges">0</div>
          <div class="stat-change">ëŒ€ê¸° ì¤‘</div>
        </div>
      </div>

      <div class="data-card">
        <div class="card-header">
          <div class="card-title">ìµœê·¼ ê°€ì…ì</div>
          <button class="btn btn-outline btn-sm" onclick="refreshData()">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
        </div>
        <table id="recent-users-table">
          <thead><tr><th>ID</th><th>ì‚¬ìš©ìëª…</th><th>ì´ë©”ì¼</th><th>ì—­í• </th><th>TL</th><th>ê°€ì…ì¼</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <!-- ì‚¬ìš©ì ê´€ë¦¬ -->
    <div id="users-tab" class="hidden">
      <div class="data-card">
        <div class="card-header">
          <div class="card-title">ì „ì²´ ì‚¬ìš©ì ëª©ë¡</div>
          <div style="display: flex; gap: 8px;">
            <input type="text" class="filter-input" id="user-search" placeholder="ê²€ìƒ‰...">
            <button class="btn btn-primary btn-sm" onclick="searchUsers()">ê²€ìƒ‰</button>
          </div>
        </div>
        <table id="users-table">
          <thead><tr><th>ID</th><th>ì‚¬ìš©ìëª…</th><th>ì´ë©”ì¼</th><th>ì—­í• </th><th>TL</th><th>TLC</th><th>ì‚¬ì—…ì</th><th>ê°€ì…ì¼</th><th>ê´€ë¦¬</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <!-- íŠ¸ë™ ê´€ë¦¬ -->
    <div id="tracks-tab" class="hidden">
      <div class="data-card">
        <div class="card-header">
          <div class="card-title">ì „ì²´ íŠ¸ë™ ëª©ë¡</div>
          <button class="btn btn-primary btn-sm" onclick="refreshTracks()">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
        </div>
        <table id="tracks-table">
          <thead><tr><th>ID</th><th>ì œëª©</th><th>ì•„í‹°ìŠ¤íŠ¸</th><th>ì¥ë¥´</th><th>TL</th><th>Pulse</th><th>ì¸ì¦</th><th>ì—…ë¡œë“œì¼</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <!-- í™˜ì „ ê´€ë¦¬ -->
    <div id="exchanges-tab" class="hidden">
      <div class="data-card">
        <div class="card-header">
          <div class="card-title">í™˜ì „ ìš”ì²­ ëª©ë¡</div>
          <select class="filter-select" onchange="filterExchanges(this.value)">
            <option value="all">ì „ì²´</option>
            <option value="pending">ëŒ€ê¸°ì¤‘</option>
            <option value="completed">ì™„ë£Œ</option>
          </select>
        </div>
        <table id="exchanges-table">
          <thead><tr><th>ID</th><th>ì‚¬ìš©ì</th><th>ê¸ˆì•¡(TL)</th><th>ê²°ì œë°©ì‹</th><th>ìƒíƒœ</th><th>ìš”ì²­ì¼</th><th>ì²˜ë¦¬</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <!-- ì„¤ì • (ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ + 2ì°¨ ì¸ì¦) -->
    <div id="settings-tab" class="hidden">
      <div class="data-card">
        <div class="card-header">
          <div class="card-title">âš™ï¸ ì‹œìŠ¤í…œ ì„¤ì •</div>
        </div>
        
        <!-- í™˜ìœ¨ ì„¤ì • -->
        <div style="padding: 20px; border-bottom: 1px solid #e2e8f0;">
          <h3 style="font-size: 16px; margin-bottom: 16px;">ğŸ’° í™˜ìœ¨ ì„¤ì •</h3>
          <div style="display: flex; align-items: center; gap: 12px;">
            <label style="min-width: 100px;">1TL = </label>
            <input type="number" id="exchange-rate" value="1" min="0.1" step="0.1" style="padding: 8px; border: 1px solid #e2e8f0; border-radius: 8px; width: 100px;">
            <span>ì›</span>
            <button class="btn btn-primary btn-sm" onclick="updateRate()">ì €ì¥</button>
          </div>
        </div>

        <!-- ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ (2ì°¨ ì¸ì¦ í¬í•¨) -->
        <div style="padding: 20px;">
          <h3 style="font-size: 16px; margin-bottom: 16px;">ğŸ” ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</h3>
          
          <!-- í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ í™•ì¸ -->
          <div style="margin-bottom: 16px;">
            <label style="display: block; font-weight: 600; margin-bottom: 8px;">í˜„ì¬ ë¹„ë°€ë²ˆí˜¸</label>
            <input type="password" id="current-pw" placeholder="í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥" style="width: 100%; max-width: 300px; padding: 8px; border: 1px solid #e2e8f0; border-radius: 8px;">
          </div>

          <!-- 2ì°¨ ì¸ì¦ ìš”ì²­ ë²„íŠ¼ -->
          <div style="margin-bottom: 16px;">
            <button class="btn btn-primary" onclick="requestVerification()" id="request-verify-btn">
              ğŸ“§ ì´ë©”ì¼ë¡œ ì¸ì¦ì½”ë“œ ë°›ê¸°
            </button>
            <span id="verify-timer" style="margin-left: 12px; color: #64748b;"></span>
          </div>

          <!-- ì¸ì¦ ì½”ë“œ ì…ë ¥ (ì²˜ìŒì—ëŠ” ìˆ¨ê¹€) -->
          <div id="verify-section" style="margin-bottom: 16px; display: none;">
            <label style="display: block; font-weight: 600; margin-bottom: 8px;">ì¸ì¦ì½”ë“œ (<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="274a52495249404b424267404a464e4b0944484a">[email&#160;protected]</a>ìœ¼ë¡œ ë°œì†¡ë¨)</label>
            <div style="display: flex; gap: 8px; align-items: center;">
              <input type="text" id="verify-code" placeholder="6ìë¦¬ ì½”ë“œ ì…ë ¥" maxlength="6" style="flex: 1; padding: 8px; border: 1px solid #e2e8f0; border-radius: 8px; text-align: center; letter-spacing: 4px;">
              <button class="btn btn-outline btn-sm" onclick="verifyCode()">í™•ì¸</button>
            </div>
            <div id="verify-message" style="margin-top: 8px; font-size: 13px;"></div>
          </div>

          <!-- ìƒˆ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ (ì¸ì¦æˆåŠŸå í‘œì‹œ) -->
          <div id="new-password-section" style="display: none;">
            <div style="background: #ede9fe; border-radius: 8px; padding: 12px; margin-bottom: 16px;">
              âœ… ì´ë©”ì¼ ì¸ì¦ ì™„ë£Œ! ìƒˆ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”.
            </div>
            <div style="margin-bottom: 12px;">
              <label style="display: block; font-weight: 600; margin-bottom: 8px;">ìƒˆ ë¹„ë°€ë²ˆí˜¸</label>
              <input type="password" id="new-pw" placeholder="ìƒˆ ë¹„ë°€ë²ˆí˜¸" style="width: 100%; max-width: 300px; padding: 8px; border: 1px solid #e2e8f0; border-radius: 8px;">
            </div>
            <div style="margin-bottom: 12px;">
              <label style="display: block; font-weight: 600; margin-bottom: 8px;">ìƒˆ ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
              <input type="password" id="confirm-pw" placeholder="ë¹„ë°€ë²ˆí˜¸ í™•ì¸" style="width: 100%; max-width: 300px; padding: 8px; border: 1px solid #e2e8f0; border-radius: 8px;">
            </div>
            <button class="btn btn-primary" onclick="changePassword()">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ì¸ì¦ ì½”ë“œ ëª¨ë‹¬ (ì‹¤ì œë¡œëŠ” ìœ„ì— ì„¹ì…˜ìœ¼ë¡œ ëŒ€ì²´) -->
<div id="verify-modal" class="modal-overlay">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title">ğŸ“§ ì´ë©”ì¼ ì¸ì¦</div>
      <button class="modal-close" onclick="closeModal(verify-modal)">âœ•</button>
    </div>
    <div class="verify-info">
      <strong><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2449514a514a43484141644349454d480a474b49">[email&#160;protected]</a></strong> ìœ¼ë¡œ<br>6ìë¦¬ ì¸ì¦ì½”ë“œê°€ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.
    </div>
    <input type="text" id="modal-verify-code" class="verify-input" placeholder="000000" maxlength="6">
    <div style="display: flex; gap: 8px;">
      <button class="btn btn-outline" style="flex: 1;" onclick="resendCode()">ì¬ì „ì†¡</button>
      <button class="btn btn-primary" style="flex: 1;" onclick="confirmCode()">í™•ì¸</button>
    </div>
  </div>
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
const API_URL = https://timelink-api.mununglee.workers.dev;
const ADMIN_EMAIL = mununglee@gmail.com;

// ì„ì‹œ ì €ì¥ì†Œ
let verificationCode = null;
let isVerified = false;
let timerInterval = null;

// ê´€ë¦¬ì ë¡œê·¸ì¸
function adminLogin() {
  const id = document.getElementById(admin-id).value;
  const pw = document.getElementById(admin-pw).value;
  
  if (id === admin && pw === admin1234) {
    document.getElementById(admin-login).classList.add("hidden");
    document.getElementById(admin-panel).classList.remove("hidden");
    loadDashboard();
  } else {
    alert(ê´€ë¦¬ì ê³„ì •ì´ ì•„ë‹™ë‹ˆë‹¤.);
  }
}

// ë¡œê·¸ì•„ì›ƒ
function logout() {
  document.getElementById(admin-login).classList.remove("hidden");
  document.getElementById(admin-panel).classList.add("hidden");
  isVerified = false;
  resetPasswordSection();
}

// íƒ­ ì „í™˜
function showTab(tab) {
  document.querySelectorAll('.admin-tab-btn').forEach(t => t.classList.remove('active'));
  if (event && event.target) event.target.classList.add('active');
  document.querySelectorAll('[id$="-tab"]').forEach(t => t.classList.add('hidden'));
  document.getElementById(`${tab}-tab`).classList.remove('hidden');
  if (tab === 'users') loadUsers();
  if (tab === 'tracks') loadTracks();
  if (tab === 'exchanges') loadExchanges();
  if (tab === 'branches') loadBranchAdmin();
}

function showAdminTab(tab, btn) {
  document.querySelectorAll('.admin-tab-btn').forEach(t => t.classList.remove('active'));
  if (btn) btn.classList.add('active');
  document.querySelectorAll('[id$="-tab"]').forEach(t => t.classList.add('hidden'));
  document.getElementById(`${tab}-tab`).classList.remove('hidden');
  if (tab === 'users') loadUsers();
  if (tab === 'tracks') loadTracks();
  if (tab === 'exchanges') loadExchanges();
  if (tab === 'branches') loadBranchAdmin();
}

// â”€â”€ ë¸Œëœì¹˜ CRUD â”€â”€
const BRANCH_DEFAULTS = [
  { id:1, flag:'ğŸ‡°ğŸ‡·', country:'ëŒ€í•œë¯¼êµ­', city:'ì¸ì²œ Â· ì„œìš¸', role:'ë³¸ì‚¬ Â· ì•„ì‹œì•„ ì´ê´„',
    address:'ì¸ì²œê´‘ì—­ì‹œ ì„œêµ¬ ì²­ë¼ë™', phone:'+82-32-000-0000', email:'hq@timelink.kr',
    status:'open', lat:37.40, lng:126.65,
    market:'K-pop ë³¸ê±°ì§€. í”Œë«í¼ ì „ì²´ ìš´ì˜ ì´ê´„. í•œêµ­Â·ì¼ë³¸Â·ë™ë‚¨ì•„ ì‹œì¥ ë¦¬ë“œ.' },
  { id:2, flag:'ğŸ‡¯ğŸ‡µ', country:'ì¼ë³¸', city:'ë„ì¿„ Â· ì‹œë¶€ì•¼', role:'J-pop Â· ì• ë‹ˆ OST í—ˆë¸Œ',
    address:'æ±äº¬éƒ½æ¸‹è°·åŒº TimeLink Japan', phone:'+81-3-0000-0000', email:'japan@timelink.kr',
    status:'planned', lat:35.658, lng:139.701,
    market:'ì„¸ê³„ 2ìœ„ ìŒì•… ì‹œì¥. J-popÂ·ì• ë‹ˆ OST ë¼ì´ì„ ì‹± íŠ¹í™”.' },
  { id:3, flag:'ğŸ‡ºğŸ‡¸', country:'ë¯¸êµ­', city:'Los Angeles', role:'K-pop ì„œêµ¬ ê±°ì  Â· ì—”í„°',
    address:'6255 Sunset Blvd, Hollywood CA', phone:'+1-323-000-0000', email:'us@timelink.kr',
    status:'planned', lat:34.098, lng:-118.327,
    market:'ì„¸ê³„ ìµœëŒ€ ìŒì•… ì†Œë¹„êµ­. K-pop ë¯¸ì£¼ íŒ¬ë¤ ì§‘ì¤‘.' },
  { id:4, flag:'ğŸ‡¬ğŸ‡§', country:'ì˜êµ­', city:'London', role:'ìœ ëŸ½ ì´ê´„',
    address:'20 Farringdon St, London EC4A', phone:'+44-20-0000-0000', email:'eu@timelink.kr',
    status:'planned', lat:51.519, lng:-0.103,
    market:'ìœ ëŸ½ ìµœëŒ€ ìŒì•… ì‹œì¥. EU ê·œì œ ëŒ€ì‘.' },
  { id:5, flag:'ğŸ‡¸ğŸ‡¬', country:'ì‹±ê°€í¬ë¥´', city:'Singapore', role:'ë™ë‚¨ì•„ Â· ë¸”ë¡ì²´ì¸ í—ˆë¸Œ',
    address:'1 Raffles Place, Singapore 048616', phone:'+65-6000-0000', email:'sg@timelink.kr',
    status:'planned', lat:1.284, lng:103.851,
    market:'ë™ë‚¨ì•„ ê¸ˆìœµÂ·ë¸”ë¡ì²´ì¸ í—ˆë¸Œ. TON ì²´ì¸ ì—°ë™.' },
  { id:6, flag:'ğŸ‡§ğŸ‡·', country:'ë¸Œë¼ì§ˆ', city:'SÃ£o Paulo', role:'ì¤‘ë‚¨ë¯¸ ì´ê´„',
    address:'Av. Paulista 1374, SÃ£o Paulo', phone:'+55-11-0000-0000', email:'latam@timelink.kr',
    status:'planned', lat:-23.561, lng:-46.656,
    market:'K-pop ë‚¨ë¯¸ íŒ¬ë¤ + ì‹ í¥ ìŠ¤íŠ¸ë¦¬ë° ìµœëŒ€êµ­.' },
  { id:7, flag:'ğŸ‡¦ğŸ‡ª', country:'UAE', city:'Dubai', role:'ì¤‘ë™ Â· ì•„í”„ë¦¬ì¹´ ì´ê´„',
    address:'Dubai Media City, Building 4', phone:'+971-4-000-0000', email:'mena@timelink.kr',
    status:'planned', lat:25.093, lng:55.156,
    market:'ì¤‘ë™ ë¯¸ë””ì–´Â·í•€í…Œí¬ í—ˆë¸Œ. ì•„í”„ë¦¬ì¹´ ì„ ì .' },
  { id:8, flag:'ğŸ‡®ğŸ‡³', country:'ì¸ë„', city:'Mumbai', role:'ë‚¨ì•„ì‹œì•„ ì´ê´„',
    address:'Bandra Kurla Complex, Mumbai', phone:'+91-22-0000-0000', email:'india@timelink.kr',
    status:'planned', lat:19.059, lng:72.865,
    market:'14ì–µ ì¸êµ¬Â·ë³¼ë¦¬ìš°ë“œ. ì„¸ê³„ ìµœê³  ìŠ¤íŠ¸ë¦¬ë° ì„±ì¥ë¥ .' }
];

function getBranches() {
  try { const s = localStorage.getItem('tl_branches'); return s ? JSON.parse(s) : BRANCH_DEFAULTS; }
  catch(e) { return BRANCH_DEFAULTS; }
}
function saveBranches(branches) {
  localStorage.setItem('tl_branches', JSON.stringify(branches));
  // about.htmlì˜ ì§€ë„ë„ ê°±ì‹  (storage ì´ë²¤íŠ¸)
  window.dispatchEvent(new StorageEvent('storage', {key:'tl_branches'}));
}

function loadBranchAdmin() {
  const branches = getBranches();
  const g = document.getElementById('branch-admin-grid');
  g.innerHTML = branches.map(b => `
    <div class="branch-admin-card">
      <span class="badge" style="${b.status==='open'?'background:#d1fae5;color:#065f46;':'background:#fef3c7;color:#92400e;'}">
        ${b.status==='open'?'âœ… ìš´ì˜ ì¤‘':'ğŸ”œ ì¤€ë¹„ ì¤‘'}
      </span>
      <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px;">
        <span style="font-size:32px;">${b.flag}</span>
        <div>
          <div style="font-size:16px;font-weight:800;">${b.country}</div>
          <div style="font-size:12px;color:#6b7280;">ğŸ™ ${b.city}</div>
          <div style="font-size:11px;color:#8b5cf6;font-weight:700;margin-top:2px;">${b.role}</div>
        </div>
      </div>
      <div style="font-size:12px;color:#374151;display:flex;flex-direction:column;gap:4px;margin-bottom:14px;">
        <span>ğŸ“ ${b.address}</span>
        <span>ğŸ“ ${b.phone}</span>
        <span>âœ‰ï¸ ${b.email}</span>
        <span style="color:#6b7280;font-size:11px;margin-top:4px;">${b.market}</span>
      </div>
      <div style="display:flex;gap:8px;">
        <button onclick="openBranchModal(${b.id})" style="flex:1;padding:8px;background:#ede9fe;color:#8b5cf6;border:none;border-radius:8px;font-size:12px;font-weight:700;cursor:pointer;">âœï¸ ìˆ˜ì •</button>
        <button onclick="toggleBranchStatus(${b.id})" style="flex:1;padding:8px;background:#f1f5f9;color:#374151;border:none;border-radius:8px;font-size:12px;font-weight:700;cursor:pointer;">${b.status==='open'?'â¸ ì¤€ë¹„ì¤‘ìœ¼ë¡œ':'â–¶ ìš´ì˜ì¤‘ìœ¼ë¡œ'}</button>
        <button onclick="deleteBranch(${b.id})" style="padding:8px 12px;background:#fee2e2;color:#dc2626;border:none;border-radius:8px;font-size:12px;font-weight:700;cursor:pointer;">ğŸ—‘</button>
      </div>
    </div>`).join('');
}

let editingBranchId = null;
function openBranchModal(id) {
  editingBranchId = id;
  const branches = getBranches();
  const b = id ? branches.find(x => x.id === id) : null;
  const modal = document.createElement('div');
  modal.id = 'branch-modal';
  modal.style.cssText = 'position:fixed;inset:0;background:rgba(0,0,0,0.5);z-index:9999;display:flex;align-items:center;justify-content:center;padding:20px;';
  modal.innerHTML = `
    <div style="background:white;border-radius:20px;padding:32px;width:100%;max-width:560px;max-height:90vh;overflow-y:auto;">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;">
        <h3 style="font-size:18px;font-weight:800;">${id ? 'âœï¸ ë¸Œëœì¹˜ ìˆ˜ì •' : '+ ë¸Œëœì¹˜ ì¶”ê°€'}</h3>
        <button onclick="document.getElementById('branch-modal').remove()" style="background:none;border:none;font-size:20px;cursor:pointer;color:#9ca3af;">âœ•</button>
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
        ${field('flag','êµ­ê¸° ì´ëª¨ì§€', b?.flag||'ğŸ³')}
        ${field('country','êµ­ê°€ëª…', b?.country||'')}
        ${field('city','ë„ì‹œ', b?.city||'')}
        ${field('role','ì—­í• ', b?.role||'')}
        ${field('address','ì£¼ì†Œ', b?.address||'')}
        ${field('phone','ì „í™”ë²ˆí˜¸', b?.phone||'')}
        ${field('email','ì´ë©”ì¼', b?.email||'')}
        <div>
          <label style="font-size:12px;font-weight:700;display:block;margin-bottom:4px;">ìƒíƒœ</label>
          <select id="bf-status" style="width:100%;padding:10px;border:1.5px solid #e5e7eb;border-radius:8px;font-size:13px;">
            <option value="open" ${b?.status==='open'?'selected':''}>âœ… ìš´ì˜ ì¤‘</option>
            <option value="planned" ${b?.status!=='open'?'selected':''}>ğŸ”œ ì¤€ë¹„ ì¤‘</option>
          </select>
        </div>
        ${field('lat','ìœ„ë„', b?.lat||0)}
        ${field('lng','ê²½ë„', b?.lng||0)}
      </div>
      <div style="margin-top:12px;">
        <label style="font-size:12px;font-weight:700;display:block;margin-bottom:4px;">ì‹œì¥ ì„¤ëª…</label>
        <textarea id="bf-market" style="width:100%;padding:10px;border:1.5px solid #e5e7eb;border-radius:8px;font-size:13px;height:80px;resize:none;">${b?.market||''}</textarea>
      </div>
      <button onclick="saveBranchModal()" style="width:100%;margin-top:20px;padding:14px;background:#8b5cf6;color:white;border:none;border-radius:12px;font-size:15px;font-weight:700;cursor:pointer;">ğŸ’¾ ì €ì¥</button>
    </div>`;
  document.body.appendChild(modal);
}

function field(id, label, val) {
  return `<div>
    <label style="font-size:12px;font-weight:700;display:block;margin-bottom:4px;">${label}</label>
    <input id="bf-${id}" value="${val}" style="width:100%;padding:10px;border:1.5px solid #e5e7eb;border-radius:8px;font-size:13px;outline:none;" onfocus="this.style.borderColor='#8b5cf6'" onblur="this.style.borderColor='#e5e7eb'">
  </div>`;
}

function saveBranchModal() {
  const branches = getBranches();
  const newB = {
    id: editingBranchId || Date.now(),
    flag:    document.getElementById('bf-flag').value,
    country: document.getElementById('bf-country').value,
    city:    document.getElementById('bf-city').value,
    role:    document.getElementById('bf-role').value,
    address: document.getElementById('bf-address').value,
    phone:   document.getElementById('bf-phone').value,
    email:   document.getElementById('bf-email').value,
    status:  document.getElementById('bf-status').value,
    lat:     parseFloat(document.getElementById('bf-lat').value) || 0,
    lng:     parseFloat(document.getElementById('bf-lng').value) || 0,
    market:  document.getElementById('bf-market').value,
  };
  if (editingBranchId) {
    const idx = branches.findIndex(b => b.id === editingBranchId);
    if (idx > -1) branches[idx] = newB;
  } else {
    branches.push(newB);
  }
  saveBranches(branches);
  document.getElementById('branch-modal').remove();
  loadBranchAdmin();
  alert('âœ… ë¸Œëœì¹˜ ì •ë³´ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤. about.html ì§€ë„ì— ìë™ ë°˜ì˜ë©ë‹ˆë‹¤.');
}

function toggleBranchStatus(id) {
  const branches = getBranches();
  const b = branches.find(x => x.id === id);
  if (b) { b.status = b.status === 'open' ? 'planned' : 'open'; saveBranches(branches); loadBranchAdmin(); }
}

function deleteBranch(id) {
  if (!confirm('ì´ ë¸Œëœì¹˜ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;
  const branches = getBranches().filter(b => b.id !== id);
  saveBranches(branches);
  loadBranchAdmin();
}

// ====== ì´ë©”ì¼ ì¸ì¦ ê´€ë ¨ í•¨ìˆ˜ ======

// ì¸ì¦ì½”ë“œ ìš”ì²­
function requestVerification() {
  const currentPw = document.getElementById(current-pw).value;
  
  if (!currentPw) {
    alert(í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.);
    return;
  }
  
  if (currentPw !== admin1234) {
    alert(í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.);
    return;
  }
  
  // 6ìë¦¬ ëœë¤ ì½”ë“œ ìƒì„±
  verificationCode = Math.floor(100000 + Math.random() * 900000).toString();
  
  // ì´ë©”ì¼ ë°œì†¡ ì‹œë®¬ë ˆì´ì…˜ (ì‹¤ì œë¡œëŠ” ë°±ì—”ë“œ API í˜¸ì¶œ)
  console.log(`[ì´ë©”ì¼ ë°œì†¡] ${ADMIN_EMAIL}ë¡œ ì¸ì¦ì½”ë“œ ${verificationCode} ì „ì†¡`);
  
  // UI ì—…ë°ì´íŠ¸
  document.getElementById(verify-section).style.display = block;
  document.getElementById(request-verify-btn).disabled = true;
  document.getElementById(request-verify-btn).style.opacity = 0.5;
  
  // íƒ€ì´ë¨¸ ì‹œì‘ (3ë¶„)
  let timeLeft = 180;
  const timerDisplay = document.getElementById(verify-timer);
  
  if (timerInterval) clearInterval(timerInterval);
  
  timerInterval = setInterval(() => {
    timeLeft--;
    if (timeLeft <= 0) {
      clearInterval(timerInterval);
      timerDisplay.textContent = â° ì¸ì¦ì‹œê°„ ë§Œë£Œ;
      verificationCode = null;
      document.getElementById(request-verify-btn).disabled = false;
      document.getElementById(request-verify-btn).style.opacity = 1;
    } else {
      const min = Math.floor(timeLeft / 60);
      const sec = timeLeft % 60;
      timerDisplay.textContent = `â±ï¸ ${min}:${sec.toString().padStart(2, 0)}`;
    }
  }, 1000);
  
  alert(`ğŸ“§ ${ADMIN_EMAIL}ë¡œ ì¸ì¦ì½”ë“œê°€ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤. (í…ŒìŠ¤íŠ¸ìš© ì½”ë“œ: ${verificationCode})`);
}

// ì¸ì¦ì½”ë“œ í™•ì¸
function verifyCode() {
  const inputCode = document.getElementById(verify-code).value;
  
  if (!verificationCode) {
    document.getElementById(verify-message).innerHTML = âŒ ì¸ì¦ì½”ë“œê°€ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ìš”ì²­í•´ì£¼ì„¸ìš”.;
    document.getElementById(verify-message).style.color = #ef4444;
    return;
  }
  
  if (inputCode === verificationCode) {
    document.getElementById(verify-message).innerHTML = âœ… ì¸ì¦ ì™„ë£Œ! ìƒˆ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”.;
    document.getElementById(verify-message).style.color = #8b5cf6;
    
    // ì¸ì¦ ì„±ê³µ
    isVerified = true;
    
    // íƒ€ì´ë¨¸ ì¤‘ì§€
    if (timerInterval) clearInterval(timerInterval);
    document.getElementById(verify-timer).textContent = âœ… ì¸ì¦ì™„ë£Œ;
    
    // ìƒˆ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ ì„¹ì…˜ í‘œì‹œ
    document.getElementById(ew-password-section).style.display = block;
    document.getElementById(verify-section).style.display = one;
    document.getElementById(request-verify-btn).style.display = one;
  } else {
    document.getElementById(verify-message).innerHTML = âŒ ì¸ì¦ì½”ë“œê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.;
    document.getElementById(verify-message).style.color = #ef4444;
  }
}

// ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
function changePassword() {
  if (!isVerified) {
    alert(ë¨¼ì € ì´ë©”ì¼ ì¸ì¦ì„ ì™„ë£Œí•´ì£¼ì„¸ìš”.);
    return;
  }
  
  const newPw = document.getElementById(ew-pw).value;
  const confirmPw = document.getElementById(confirm-pw).value;
  
  if (!newPw || !confirmPw) {
    alert(ìƒˆ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.);
    return;
  }
  
  if (newPw !== confirmPw) {
    alert(ìƒˆ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.);
    return;
  }
  
  if (newPw.length < 6) {
    alert(ë¹„ë°€ë²ˆí˜¸ëŠ” ìµœì†Œ 6ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.);
    return;
  }
  
  // ì‹¤ì œë¡œëŠ” ë°±ì—”ë“œ API í˜¸ì¶œ
  alert(âœ… ë¹„ë°€ë²ˆí˜¸ê°€ ì„±ê³µì ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. ìƒˆ ë¹„ë°€ë²ˆí˜¸ë¡œ ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.);
  
  // ì´ˆê¸°í™”
  resetPasswordSection();
  logout();
}

// ë¹„ë°€ë²ˆí˜¸ ì„¹ì…˜ ì´ˆê¸°í™”
function resetPasswordSection() {
  document.getElementById(current-pw).value = ;
  document.getElementById(verify-code).value = ;
  document.getElementById(ew-pw).value = ;
  document.getElementById(confirm-pw).value = ;
  document.getElementById(verify-section).style.display = one;
  document.getElementById(ew-password-section).style.display = one;
  document.getElementById(request-verify-btn).disabled = false;
  document.getElementById(request-verify-btn).style.opacity = 1;
  document.getElementById(request-verify-btn).style.display = block;
  document.getElementById(verify-timer).textContent = ;
  verificationCode = null;
  isVerified = false;
  if (timerInterval) clearInterval(timerInterval);
}

// ====== ë°ì´í„° ë¡œë“œ í•¨ìˆ˜ ======

// ëŒ€ì‹œë³´ë“œ ë°ì´í„° ë¡œë“œ
async function loadDashboard() {
  document.getElementById(total-users).textContent = 124;
  document.getElementById(ew-users-today).textContent = +3 ì˜¤ëŠ˜;
  document.getElementById(total-tracks).textContent = 356;
  document.getElementById(ew-tracks-today).textContent = +12 ì˜¤ëŠ˜;
  document.getElementById(total-tl).textContent = 1,234,567;
  document.getElementById(pending-exchanges).textContent = 5;
  
  const tbody = document.querySelector(#recent-users-table tbody);
  tbody.innerHTML = `
    <tr><td>1</td><td>demo</td><td>demo@timelink.digital</td><td>listener</td><td>10,000</td><td>2025-02-25</td></tr>
    <tr><td>2</td><td>creator1</td><td>creator@test.com</td><td>creator</td><td>15,000</td><td>2025-02-24</td></tr>
    <tr><td>3</td><td>business1</td><td>cafe@test.com</td><td>business</td><td>20,000</td><td>2025-02-23</td></tr>
  `;
}

// ì‚¬ìš©ì ëª©ë¡ ë¡œë“œ
async function loadUsers() {
  const tbody = document.querySelector(#users-table tbody);
  tbody.innerHTML = `
    <tr>
      <td>1</td><td>demo</td><td>demo@timelink.digital</td><td>listener</td><td>10,000</td><td>0.1234</td><td>-</td><td>2025-02-25</td>
      <td><button class="btn btn-outline btn-sm" onclick="editUser(1)">âœï¸</button></td>
    </tr>
  `;
}

// íŠ¸ë™ ëª©ë¡ ë¡œë“œ
async function loadTracks() {
  const tbody = document.querySelector(#tracks-table tbody);
  tbody.innerHTML = `
    <tr><td>1</td><td>Midnight Vibe</td><td>Synthwave Studio</td><td>Electronic</td><td>2,000</td><td>84,200</td><td><span class="badge badge-success">ì¸ì¦</span></td><td>2025-02-25</td></tr>
  `;
}

// í™˜ì „ ëª©ë¡ ë¡œë“œ
async function loadExchanges() {
  const tbody = document.querySelector(#exchanges-table tbody);
  tbody.innerHTML = `
    <tr>
      <td>1</td><td>demo</td><td>1,000</td><td>ì¹´ì¹´ì˜¤í˜ì´</td><td><span class="badge badge-warning">ëŒ€ê¸°ì¤‘</span></td><td>2025-02-25</td>
      <td><button class="btn btn-success btn-sm" onclick="processExchange(1)">âœ… ìŠ¹ì¸</button></td>
    </tr>
  `;
}

// í™˜ìœ¨ ì„¤ì •
function updateRate() {
  const rate = document.getElementById(exchange-rate).value;
  alert(`í™˜ìœ¨ì´ 1TL = ${rate}ì›ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.`);
}

// ê¸°íƒ€ í•¨ìˆ˜ë“¤
function refreshData() { loadDashboard(); }
function refreshTracks() { loadTracks(); }
function searchUsers() { alert(ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„ ì˜ˆì •); }
function filterExchanges(status) { alert(`${status} í•„í„° êµ¬í˜„ ì˜ˆì •`); }
function editUser(id) { alert(`ì‚¬ìš©ì ${id} ìˆ˜ì • êµ¬í˜„ ì˜ˆì •`); }
function processExchange(id) { alert(`í™˜ì „ ${id} ìŠ¹ì¸ êµ¬í˜„ ì˜ˆì •`); }
function closeModal(id) { document.getElementById("id").classList.remove("show"); }
function resendCode() { alert(ì¸ì¦ì½”ë“œ ì¬ì „ì†¡); }
function confirmCode() { alert(ì¸ì¦ í™•ì¸); }
</script>

<!-- í†µì¼ í‘¸í„° -->
<footer class="page-footer">
  <div class="footer-grid">
    <div class="footer-col">
      <div class="footer-logo"><span style="background:#8b5cf6;border-radius:6px;padding:2px 8px;color:white;font-weight:800;">âš¡</span> TimeLink</div>
      <p class="footer-tagline">ì°½ì‘ìë¥¼ ìœ„í•œ ìƒˆë¡œìš´ ìˆ˜ìµ í”Œë«í¼</p>
    </div>
    <div class="footer-col">
      <div class="footer-col-title">ì„œë¹„ìŠ¤</div>
      <a href="shareplace.html">ğŸ›ï¸ SharePlace</a>
      <a href="creator.html">ğŸµ ì°½ì‘ì í”„ë¡œê·¸ë¨</a>
      <a href="pricing.html">ğŸ’³ ìš”ê¸ˆì œ</a>
      <a href="radio.html">â˜• ì¹´í˜ë°©ì†¡</a>
    </div>
    <div class="footer-col">
      <div class="footer-col-title">íšŒì‚¬</div>
      <a href="about.html">ğŸ¢ íšŒì‚¬ ì†Œê°œ</a>
      <a href="tokenomics.html">âš¡ í† í° ê²½ì œ</a>
      <a href="poc.html">ğŸ“Š ê¸°ì—¬ë„ ì‹œìŠ¤í…œ</a>
      <a href="roadmap.html">ğŸ—ºï¸ ë¡œë“œë§µ</a>
      <a href="faq.html">â“ FAQ</a>
    </div>
    <div class="footer-col">
      <div class="footer-col-title">ë²•ë¬´</div>
      <a href="terms.html">ì´ìš©ì•½ê´€</a>
      <a href="privacy.html">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
      <a href="copyright.html">ì €ì‘ê¶Œ ì •ì±…</a>
      <a href="copyright.html#report" style="color:#ef4444;">ì €ì‘ê¶Œ ì¹¨í•´ ì‹ ê³ </a>
    </div>
  </div>
  <div class="footer-bottom">
    âš–ï¸ ëª¨ë“  íŒŒì¼ì˜ ì°½ì‘ê¶Œì€ ì°½ì‘ìì—ê²Œ ìˆìŠµë‹ˆë‹¤. Â© 2025 TimeLink. All rights reserved.
  </div>
</footer>
<script>
// ë¡œê·¸ì¸ ìƒíƒœ ê´€ë¦¬
(function() {
  const currentUser = JSON.parse(localStorage.getItem("tl_user") || "null");
  const navAuth = document.getElementById(av-auth);
  const navGuest = document.getElementById(av-guest);
  
  if (currentUser) {
    if (navAuth) navAuth.classList.remove("hidden");
    if (navGuest) navGuest.classList.add("hidden");
    
    // ì‚¬ìš©ì ì •ë³´ í‘œì‹œ
    const balanceTl = document.getElementById(balance-tl);
    const balanceTlc = document.getElementById(balance-tlc);
    const avatarLetter = document.getElementById(avatar-letter);
    
    if (balanceTl) balanceTl.textContent = (currentUser.tl || 0).toLocaleString();
    if (balanceTlc) balanceTlc.textContent = (currentUser.tlc || 0).toFixed(4);
    if (avatarLetter) avatarLetter.textContent = (currentUser.username || U).charAt(0).toUpperCase();
  } else {
    if (navAuth) navAuth.classList.add("hidden");
    if (navGuest) navGuest.classList.remove("hidden");
  }
  
  // Car mode í‘œì‹œ
  const carMode = localStorage.getItem("tl_car") === true;
  const carStatus = document.getElementById(car-status);
  const carIndicator = document.getElementById(car-indicator);
  
  if (carStatus) carStatus.textContent = carMode ? ON : Off;
  if (carIndicator) carIndicator.className = car-indicator + (carMode ?  on : );
})();

function toggleDropdown() {
  document.getElementById("dropdown")?.classList.toggle("show");
}

document.addEventListener(click, function(e) {
  if (!e.target.closest(.avatar)) {
    document.getElementById("dropdown")?.classList.remove("show");
  }
});

function logout() {
  localStorage.removeItem(tl_user);
  localStorage.removeItem(auth_token);
  window.location.href = index.html;
}
</script>
<!-- ===== ê¸€ë¡œë²Œ ë³€í™˜ ìŠ¤í¬ë¦½íŠ¸ (ì–¸ì–´/í†µí™”) ===== -->
<style>
.global-selector {
  position: fixed;
  top: 80px;
  right: 24px;
  z-index: 10000;
  background: white;
  border-radius: 999px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  padding: 4px;
  display: flex;
  gap: 2px;
}
.global-selector select {
  padding: 6px 12px;
  border-radius: 999px;
  border: none;
  background: transparent;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  outline: none;
}
.global-selector select:hover {
  background: #f3f4f6;
}
</style>

<script>
// ============================================
// ê¸€ë¡œë²Œ ë³€í™˜ ì‹œìŠ¤í…œ (ì–¸ì–´/í†µí™”)
// ============================================
const Global = {
  // í˜„ì¬ ì„¤ì •
  lang: localStorage.getItem("global_lang") || ko,
  currency: localStorage.getItem("global_currency") || KRW,
  
  // í™˜ìœ¨ (1 TL ê¸°ì¤€)
  rates: {
    KRW: { symbol: â‚©, rate: 1, name: ì› },
    USD: { symbol: 

<script src="i18n.js"></script>
<script src="currency.js"></script>
<script src="tl-economy.js"></script>

</body>
</html>






, rate: 0.00075, name: Dollar },
    JPY: { symbol: Â¥, rate: 0.11, name: Yen },
    EUR: { symbol: â‚¬, rate: 0.0007, name: Euro },
    CNY: { symbol: Â¥, rate: 0.0054, name: Yuan },
    GBP: { symbol: Â£, rate: 0.0006, name: Pound }
  },
  
  // ë²ˆì—­ ë°ì´í„°
  translations: {
    // í•œêµ­ì–´
    ko: {
      // ë„¤ë¹„ê²Œì´ì…˜
      home: í™ˆ,
      shareplace: SharePlace,
      library: ë¼ì´ë¸ŒëŸ¬ë¦¬,
      upload: ì—…ë¡œë“œ,
      player: í”Œë ˆì´ì–´,
      radio: ì¹´í˜ë°©ì†¡,
      car: Car,
      moving: Moving Radio,
      ads: ê´‘ê³ ,
      wallet: ì§€ê°‘,
      chart: ì°¨íŠ¸,
      
      // ë²„íŠ¼
      login: ë¡œê·¸ì¸,
      signup: ì‹œì‘í•˜ê¸°,
      logout: ë¡œê·¸ì•„ì›ƒ,
      
      // ì§€ê°‘
      purchase_tl: êµ¬ë§¤ TL,
      earned_tl: íšë“ TL,
      exchange: í™˜ì „,
      recharge: ì¶©ì „,
      
      // í‘¸í„°
      terms: ì´ìš©ì•½ê´€,
      privacy: ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨,
      copyright_policy: ì €ì‘ê¶Œ ì •ì±…,
      report: ì €ì‘ê¶Œ ì¹¨í•´ ì‹ ê³ ,
      copyright: âš–ï¸ ëª¨ë“  íŒŒì¼ì˜ ì°½ì‘ê¶Œì€ ì°½ì‘ìì—ê²Œ ìˆìŠµë‹ˆë‹¤. ë¬´ë‹¨ ë„ìš© ì‹œ ë²•ì  ì¡°ì¹˜ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    },
    
    // ì˜ì–´
    en: {
      home: Home,
      shareplace: SharePlace,
      library: Library,
      upload: Upload,
      player: Player,
      radio: Radio,
      car: Car,
      moving: Moving Radio,
      ads: Ads,
      wallet: Wallet,
      chart: Charts,
      
      login: Login,
      signup: Sign Up,
      logout: Logout,
      
      purchase_tl: Purchased TL,
      earned_tl: Earned TL,
      exchange: Exchange,
      recharge: Recharge,
      
      terms: Terms of Use,
      privacy: Privacy Policy,
      copyright_policy: Copyright Policy,
      report: Copyright Report,
      copyright: âš–ï¸ All copyrights belong to the creators. Unauthorized use may result in legal action.
    },
    
    // ì¼ë³¸ì–´
    ja: {
      home: ãƒ›ãƒ¼ãƒ ,
      shareplace: SharePlace,
      library: ãƒ©ã‚¤ãƒ–ãƒ©ãƒª,
      upload: ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰,
      player: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼,
      radio: ãƒ©ã‚¸ã‚ª,
      car: ã‚«ãƒ¼,
      moving: ãƒ ãƒ¼ãƒ“ãƒ³ã‚°ãƒ©ã‚¸ã‚ª,
      ads: åºƒå‘Š,
      wallet: ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ,
      chart: ãƒãƒ£ãƒ¼ãƒˆ,
      
      login: ãƒ­ã‚°ã‚¤ãƒ³,
      signup: ç™»éŒ²,
      logout: ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ,
      
      purchase_tl: è³¼å…¥TL,
      earned_tl: ç²å¾—TL,
      exchange: äº¤æ›,
      recharge: ãƒãƒ£ãƒ¼ã‚¸,
      
      terms: åˆ©ç”¨è¦ç´„,
      privacy: ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼,
      copyright_policy: è‘—ä½œæ¨©ãƒãƒªã‚·ãƒ¼,
      report: è‘—ä½œæ¨©ä¾µå®³å ±å‘Š,
      copyright: âš–ï¸ ã™ã¹ã¦ã®è‘—ä½œæ¨©ã¯ä½œæˆè€…ã«å¸°å±ã—ã¾ã™ã€‚ç„¡æ–­ä½¿ç”¨ã¯æ³•çš„æªç½®ã®å¯¾è±¡ã¨ãªã‚Šã¾ã™ã€‚
    },
    
    // ì¤‘êµ­ì–´
    zh-CN: {
      home: é¦–é¡µ,
      shareplace: SharePlace,
      library: åº“,
      upload: ä¸Šä¼ ,
      player: æ’­æ”¾å™¨,
      radio: ç”µå°,
      car: æ±½è½¦,
      moving: ç§»åŠ¨ç”µå°,
      ads: å¹¿å‘Š,
      wallet: é’±åŒ…,
      chart: å›¾è¡¨,
      
      login: ç™»å½•,
      signup: æ³¨å†Œ,
      logout: é€€å‡º,
      
      purchase_tl: è´­ä¹°TL,
      earned_tl: è·å¾—TL,
      exchange: å…‘æ¢,
      recharge: å……å€¼,
      
      terms: ä½¿ç”¨æ¡æ¬¾,
      privacy: éšç§æ”¿ç­–,
      copyright_policy: ç‰ˆæƒæ”¿ç­–,
      report: ç‰ˆæƒä¾µæƒä¸¾æŠ¥,
      copyright: âš–ï¸ æ‰€æœ‰ç‰ˆæƒå½’åˆ›ä½œè€…æ‰€æœ‰ã€‚æœªç»æˆæƒä½¿ç”¨å¯èƒ½å¯¼è‡´æ³•å¾‹è¯‰è®¼ã€‚
    },
    
    // ìŠ¤í˜ì¸ì–´
    es: {
      home: Inicio,
      shareplace: SharePlace,
      library: Biblioteca,
      upload: Subir,
      player: Reproductor,
      radio: Radio,
      car: Coche,
      moving: Radio MÃ³vil,
      ads: Anuncios,
      wallet: Cartera,
      chart: GrÃ¡ficos,
      
      login: Iniciar sesiÃ³n,
      signup: Registrarse,
      logout: Cerrar sesiÃ³n,
      
      purchase_tl: TL Comprado,
      earned_tl: TL Ganado,
      exchange: Cambiar,
      recharge: Recargar,
      
      terms: TÃ©rminos de uso,
      privacy: PolÃ­tica de privacidad,
      copyright_policy: PolÃ­tica de derechos de autor,
      report: Reportar infracciÃ³n,
      copyright: âš–ï¸ Todos los derechos de autor pertenecen a los creadores. El uso no autorizado puede resultar en acciones legales.
    }
  },
  
  // ì–¸ì–´ ë³€ê²½
  setLang(lang) {
    this.lang = lang;
    localStorage.setItem("global_lang", lang);
    this.updateUI();
  },
  
  // í†µí™” ë³€ê²½
  setCurrency(curr) {
    this.currency = curr;
    localStorage.setItem("global_currency", curr);
    this.updateCurrency();
  },
  
  // ë²ˆì—­ ê°€ì ¸ì˜¤ê¸°
  t(key) {
    return this.translations[this.lang]?.[key] || 
           this.translations.ko[key] || 
           key;
  },
  
  // UI í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
  updateUI() {
    document.querySelectorAll([data-i18n]).forEach(el => {
      const key = el.getAttribute(data-i18n);
      el.textContent = this.t(key);
    });
    
    document.querySelectorAll([data-i18n-placeholder]).forEach(el => {
      const key = el.getAttribute(data-i18n-placeholder);
      el.placeholder = this.t(key);
    });
    
    document.querySelectorAll([data-i18n-value]).forEach(el => {
      const key = el.getAttribute(data-i18n-value);
      el.value = this.t(key);
    });
  },
  
  // í†µí™” ë³€í™˜
  updateCurrency() {
    const curr = this.rates[this.currency];
    
    document.querySelectorAll([data-currency]).forEach(el => {
      const tlValue = parseFloat(el.getAttribute(data-currency)) || 0;
      const converted = tlValue * curr.rate;
      
      if (el.tagName === INPUT) {
        el.value = converted.toFixed(0);
      } else {
        el.textContent = curr.symbol +   + converted.toLocaleString(undefined, {
          minimumFractionDigits: 0,
          maximumFractionDigits: 0
        });
      }
    });
    
    document.querySelectorAll([data-currency-symbol]).forEach(el => {
      el.textContent = curr.symbol;
    });
  },
  
  // ì„ íƒê¸° ìƒì„±
  createSelector() {
    const selector = document.createElement(div);
    selector.className = global-selector;
    
    // ì–¸ì–´ ì„ íƒ
    const langSelect = document.createElement(select);
    langSelect.innerHTML = `
      <option value="ko" ${this.lang === ko ? selected : }>ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
      <option value="en" ${this.lang === en ? selected : }>ğŸ‡ºğŸ‡¸ English</option>
      <option value="ja" ${this.lang === ja ? selected : }>ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
      <option value="zh-CN" ${this.lang === zh-CN ? selected : }>ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
      <option value="es" ${this.lang === es ? selected : }>ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
    `;
    langSelect.addEventListener(change, (e) => this.setLang(e.target.value));
    
    // í†µí™” ì„ íƒ
    const currSelect = document.createElement(select);
    currSelect.innerHTML = `
      <option value="KRW" ${this.currency === KRW ? selected : }>â‚© KRW</option>
      <option value="USD" ${this.currency === USD ? selected : }>$ USD</option>
      <option value="JPY" ${this.currency === JPY ? selected : }>Â¥ JPY</option>
      <option value="EUR" ${this.currency === EUR ? selected : }>â‚¬ EUR</option>
      <option value="CNY" ${this.currency === CNY ? selected : }>Â¥ CNY</option>
      <option value="GBP" ${this.currency === GBP ? selected : }>Â£ GBP</option>
    `;
    currSelect.addEventListener(change, (e) => this.setCurrency(e.target.value));
    
    selector.appendChild(langSelect);
    selector.appendChild(currSelect);
    document.body.appendChild(selector);
  },
  
  // ì´ˆê¸°í™”
  init() {
    this.createSelector();
    this.updateUI();
    this.updateCurrency();
    
    // TL ê°’ì´ ìˆëŠ” ìš”ì†Œì— data-currency ì†ì„± ìë™ ì¶”ê°€
    setTimeout(() => {
      document.querySelectorAll(.balance-value, [id$="-tl"], [id*="TL"]).forEach(el => {
        if (!el.hasAttribute(data-currency)) {
          const match = el.textContent.match(/\d+/g);
          if (