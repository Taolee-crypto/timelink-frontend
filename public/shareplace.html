<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TimeLink SharePlace</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Inter', sans-serif; background: #f8fafc; color: #0f172a; line-height: 1.5; }

/* ë„¤ë¹„ê²Œì´ì…˜ */
.navbar {
  background: white;
  border-bottom: 1px solid #e2e8f0;
  padding: 0 24px;
  height: 64px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: sticky;
  top: 0;
  z-index: 100;
  gap: 16px;
}
.logo {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 20px;
  font-weight: 800;
  color: #0f172a;
  text-decoration: none;
  flex-shrink: 0;
}
.logo-icon {
  width: 32px;
  height: 32px;
  background: #8b5cf6;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 16px;
}
.logo span { color: #8b5cf6; }
.nav-search {
  flex: 1;
  max-width: 480px;
  display: flex;
  align-items: center;
  gap: 8px;
  background: #f1f5f9;
  border-radius: 999px;
  padding: 8px 16px;
}
.nav-search input {
  flex: 1;
  border: none;
  background: transparent;
  font-size: 14px;
  outline: none;
}
.nav-right { display: flex; align-items: center; gap: 12px; flex-shrink: 0; }

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 10px 20px;
  border-radius: 999px;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s;
  border: none;
  text-decoration: none;
}
.btn-primary { background: #8b5cf6; color: white; }
.btn-primary:hover { background: #7c3aed; }
.btn-outline { background: white; color: #1f2937; border: 1px solid #e5e7eb; }
.btn-outline:hover { background: #f9fafb; }
.btn-sm { padding: 6px 14px; font-size: 13px; }

.balance {
  background: #f3f4f6;
  border-radius: 999px;
  padding: 6px 16px;
  display: flex;
  align-items: center;
  gap: 16px;
}
.balance-item { display: flex; align-items: center; gap: 6px; font-size: 14px; }
.balance-label { color: #6b7280; font-weight: 500; }
.balance-value { font-weight: 700; color: #8b5cf6; }

.avatar {
  width: 36px;
  height: 36px;
  background: #8b5cf6;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: 700;
  cursor: pointer;
  position: relative;
}
.dropdown {
  position: absolute;
  top: 100%;
  right: 0;
  margin-top: 8px;
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
  width: 200px;
  display: none;
  z-index: 1000;
}
.dropdown.show { display: block; }
.dropdown-item {
  padding: 12px 16px;
  cursor: pointer;
  font-size: 14px;
  color: #1f2937;
  text-decoration: none;
  display: block;
}
.dropdown-item:hover { background: #f3f4f6; }
.dropdown-item.danger { color: #ef4444; }

/* íƒ­ */
.tabs {
  background: white;
  border-bottom: 1px solid #e5e7eb;
  padding: 0 24px;
  display: flex;
  justify-content: center;
  gap: 4px;
  position: sticky;
  top: 64px;
  z-index: 90;
  overflow-x: auto;
}
.tab {
  padding: 12px 20px;
  font-size: 14px;
  font-weight: 600;
  color: #6b7280;
  text-decoration: none;
  border-bottom: 2px solid transparent;
  transition: all 0.2s;
  white-space: nowrap;
}
.tab:hover { color: #8b5cf6; }
.tab.active { color: #8b5cf6; border-bottom-color: #8b5cf6; }

/* ì»¨í…Œì´ë„ˆ */
.container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 32px 24px;
}

/* íˆì–´ë¡œ */
.hero-banner {
  background: linear-gradient(135deg, #ede9fe, #dbeafe);
  border-radius: 24px;
  padding: 40px;
  margin-bottom: 32px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 24px;
}
.hero-banner h2 { font-size: 32px; font-weight: 800; margin-bottom: 8px; }
.hero-banner p { color: #4b5563; margin-bottom: 20px; max-width: 500px; }
.hero-stats {
  display: flex;
  gap: 32px;
  flex-shrink: 0;
}
.hero-stat { text-align: center; }
.hero-stat-value { font-size: 28px; font-weight: 800; color: #8b5cf6; }
.hero-stat-label { font-size: 12px; color: #6b7280; }

/* 3ë‹¨ ë ˆì´ì•„ì›ƒ */
.shareplace-layout {
  display: grid;
  grid-template-columns: 220px 1fr 240px;
  gap: 24px;
}

/* ì¥ë¥´ ì‚¬ì´ë“œë°” */
.genre-sidebar {
  background: white;
  border-radius: 20px;
  padding: 20px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.08);
  height: fit-content;
  position: sticky;
  top: 120px;
}
.sidebar-title {
  font-weight: 700;
  font-size: 13px;
  color: #6b7280;
  text-transform: uppercase;
  letter-spacing: .5px;
  margin-bottom: 12px;
}
.genre-all {
  display: block;
  padding: 8px 12px;
  border-radius: 10px;
  font-weight: 700;
  font-size: 14px;
  cursor: pointer;
  margin-bottom: 8px;
  color: #1f2937;
  text-decoration: none;
  transition: all .2s;
}
.genre-all:hover, .genre-all.active { background: #8b5cf6; color: white; }

.genre-category { margin-bottom: 4px; }
.genre-main {
  padding: 7px 12px;
  font-weight: 700;
  font-size: 13px;
  cursor: pointer;
  border-radius: 8px;
  color: #374151;
  display: flex;
  align-items: center;
  justify-content: space-between;
  transition: all .2s;
}
.genre-main:hover { background: #f3f4f6; }
.genre-main.open { color: #8b5cf6; }
.genre-sub {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  padding: 4px 8px 8px;
}
.genre-sub-item {
  padding: 4px 10px;
  background: #f3f4f6;
  border-radius: 999px;
  font-size: 11px;
  cursor: pointer;
  transition: all 0.2s;
  color: #4b5563;
  font-weight: 600;
}
.genre-sub-item:hover { background: #8b5cf6; color: white; }
.genre-sub-item.active { background: #8b5cf6; color: white; }

/* ë©”ì¸ ì½˜í…ì¸  */
.main-content { min-width: 0; }

.filter-bar {
  display: flex;
  gap: 8px;
  margin-bottom: 20px;
  align-items: center;
  flex-wrap: wrap;
}
.sort-btn {
  padding: 7px 16px;
  border-radius: 999px;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  border: 2px solid #e5e7eb;
  background: white;
  color: #6b7280;
  transition: all .2s;
}
.sort-btn.active { border-color: #8b5cf6; color: #8b5cf6; background: #f5f3ff; }
.upload-btn {
  margin-left: auto;
  padding: 8px 18px;
  background: #8b5cf6;
  color: white;
  border: none;
  border-radius: 999px;
  font-weight: 700;
  font-size: 13px;
  cursor: pointer;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

/* ìƒí’ˆ ê·¸ë¦¬ë“œ */
.product-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
}
.product-card {
  background: white;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0,0,0,0.08);
  transition: all 0.2s;
  cursor: pointer;
}
.product-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.12);
}
.product-thumb {
  width: 100%;
  aspect-ratio: 1;
  background: linear-gradient(135deg, #ede9fe, #dbeafe);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 44px;
  position: relative;
  overflow: hidden;
}
.product-thumb img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  position: absolute;
}
.badge {
  position: absolute;
  top: 10px;
  right: 10px;
  padding: 3px 8px;
  border-radius: 999px;
  font-size: 10px;
  font-weight: 700;
  color: white;
}
.badge-hot { background: #ef4444; }
.badge-new { background: #10b981; }
.badge-ai { background: #8b5cf6; }
.badge-my { background: #f59e0b; }
.verified-badge {
  position: absolute;
  bottom: 8px;
  left: 8px;
  background: rgba(16,185,129,.9);
  color: white;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 10px;
  font-weight: 700;
}
.product-info { padding: 14px 16px; }
.product-title {
  font-weight: 700;
  font-size: 14px;
  margin-bottom: 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.product-creator { font-size: 12px; color: #6b7280; margin-bottom: 8px; }
.product-price { font-weight: 800; font-size: 16px; color: #8b5cf6; margin-bottom: 6px; }
.product-meta {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.product-pulse { font-size: 11px; color: #6b7280; }
.play-btn {
  background: #8b5cf6;
  color: white;
  border: none;
  border-radius: 999px;
  padding: 4px 12px;
  font-size: 11px;
  font-weight: 700;
  cursor: pointer;
}
.play-btn:hover { background: #7c3aed; }

/* ì˜¤ë¥¸ìª½ ì‚¬ì´ë“œë°” */
.right-sidebar { display: flex; flex-direction: column; gap: 20px; }
.sidebar-card {
  background: white;
  border-radius: 20px;
  padding: 20px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.08);
}
.sidebar-card-title {
  font-weight: 700;
  font-size: 15px;
  margin-bottom: 14px;
  display: flex;
  align-items: center;
  gap: 8px;
}
.chart-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 0;
  border-bottom: 1px solid #f3f4f6;
  cursor: pointer;
  transition: all .2s;
}
.chart-item:last-child { border-bottom: none; }
.chart-item:hover { opacity: .75; }
.chart-rank {
  width: 22px;
  height: 22px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 700;
  background: #f3f4f6;
  flex-shrink: 0;
}
.chart-rank.top3 { background: #8b5cf6; color: white; }
.chart-info { flex: 1; min-width: 0; }
.chart-track {
  font-weight: 600;
  font-size: 12px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.chart-artist { font-size: 11px; color: #6b7280; }
.chart-value { font-weight: 700; color: #f59e0b; font-size: 12px; flex-shrink: 0; }

/* ì¸ì¦ ì•ˆë‚´ ì¹´ë“œ */
.auth-guide {
  background: linear-gradient(135deg, #8b5cf6, #6d28d9);
  border-radius: 20px;
  padding: 20px;
  color: white;
}
.auth-guide h3 { font-size: 15px; font-weight: 800; margin-bottom: 8px; }
.auth-guide p { font-size: 12px; opacity: .85; margin-bottom: 14px; line-height: 1.6; }
.auth-guide-table { background: rgba(255,255,255,.1); border-radius: 10px; padding: 12px; margin-bottom: 14px; }
.auth-guide-row {
  display: flex;
  justify-content: space-between;
  font-size: 11px;
  padding: 3px 0;
}
.auth-guide-row span:last-child { font-weight: 700; }
.auth-guide a {
  display: block;
  text-align: center;
  background: white;
  color: #8b5cf6;
  border-radius: 999px;
  padding: 8px;
  font-weight: 700;
  font-size: 13px;
  text-decoration: none;
}

/* ë¹ˆ ìƒíƒœ */
.empty-state {
  text-align: center;
  padding: 60px 20px;
  color: #6b7280;
}
.empty-state-icon { font-size: 48px; margin-bottom: 12px; }

/* í‘¸í„° */
.page-footer {
  background: white;
  border-top: 1px solid #e5e7eb;
  padding: 32px 24px;
  text-align: center;
  margin-top: 60px;
}
.footer-links {
  display: flex;
  justify-content: center;
  gap: 24px;
  margin-bottom: 12px;
  flex-wrap: wrap;
}
.footer-links a { color: #6b7280; text-decoration: none; font-size: 13px; }
.footer-links a:hover { color: #8b5cf6; }
.footer-copyright { font-size: 11px; color: #9ca3af; }

.hidden { display: none !important; }

/* ëª¨ë°”ì¼ */
@media (max-width: 1024px) {
  .shareplace-layout { grid-template-columns: 1fr; }
  .genre-sidebar { display: none; }
  .right-sidebar { display: none; }
  .product-grid { grid-template-columns: repeat(2, 1fr); }
  .hero-stats { display: none; }
}
@media (max-width: 640px) {
  .product-grid { grid-template-columns: repeat(2, 1fr); gap: 10px; }
  .hero-banner { padding: 24px; }
  .hero-banner h2 { font-size: 22px; }
  .container { padding: 16px; }
  .nav-search { display: none; }
  .balance { display: none; }
}
</style>
</head>
<body>

<nav class="navbar">
  <a href="shareplace.html" class="logo">
    <div class="logo-icon">âš¡</div>
    <div>Time<span>Link</span></div>
  </a>
  <div class="nav-search">
    <span>ğŸ”</span>
    <input type="text" id="nav-search-input" placeholder="ìŒì•…, ì˜ìƒ, ì•„í‹°ìŠ¤íŠ¸ ê²€ìƒ‰..." onkeydown="if(event.key==='Enter') doSearch()">
  </div>
  <div class="nav-right" id="nav-guest">
    <a href="login.html" class="btn btn-outline btn-sm">ë¡œê·¸ì¸</a>
    <a href="signup.html" class="btn btn-primary btn-sm">ì‹œì‘í•˜ê¸°</a>
  </div>
  <div class="nav-right hidden" id="nav-auth">
    <div class="balance">
      <div class="balance-item"><span class="balance-label">TL</span><span class="balance-value" id="balance-tl">0</span></div>
      <div class="balance-item"><span class="balance-label">TLC</span><span class="balance-value" id="balance-tlc">0.0000</span></div>
    </div>
    <div class="avatar" onclick="toggleDropdown()">
      <span id="avatar-letter">U</span>
      <div class="dropdown" id="dropdown">
        <a href="create.html" class="dropdown-item">ğŸ“¤ ì—…ë¡œë“œ</a>
        <a href="library.html" class="dropdown-item">ğŸ” ë¼ì´ë¸ŒëŸ¬ë¦¬</a>
        <a href="player.html" class="dropdown-item">ğŸ¬ í”Œë ˆì´ì–´</a>
        <a href="index.html" class="dropdown-item">ğŸ“Š ëŒ€ì‹œë³´ë“œ</a>
        <div class="dropdown-item danger" onclick="logout()">ğŸšª ë¡œê·¸ì•„ì›ƒ</div>
      </div>
    </div>
  </div>
</nav>

<div class="tabs">
  <a href="shareplace.html" class="tab active">ğŸ›ï¸ SharePlace</a>
  <a href="create.html" class="tab">ğŸ“¤ ì—…ë¡œë“œ</a>
  <a href="library.html" class="tab">ğŸ” ë¼ì´ë¸ŒëŸ¬ë¦¬</a>
  <a href="radio.html" class="tab">â˜• ì¹´í˜ë°©ì†¡</a>
  <a href="car.html" class="tab">ğŸš— Moving Radio</a>
  <a href="player.html" class="tab">ğŸ¬ Player</a>
  <a href="index.html" class="tab">ğŸ“Š Dashboard</a>
</div>

<div class="container">
  <!-- íˆì–´ë¡œ -->
  <div class="hero-banner">
    <div>
      <h2>ğŸ›ï¸ TimeLink SharePlace</h2>
      <p>ì°½ì‘ìë“¤ì´ ì§ì ‘ ë§Œë“  ìŒì•…, ì˜ìƒ, ì´ë¯¸ì§€, ê°•ì˜ë¥¼ ë§Œë‚˜ë³´ì„¸ìš”.<br>TLë¡œ êµ¬ë§¤í•˜ê³  ì°½ì‘ìë¥¼ ì§ì ‘ í›„ì›í•©ë‹ˆë‹¤.</p>
      <div style="display:flex;gap:8px;flex-wrap:wrap;">
        <a href="create.html" class="btn btn-primary btn-sm">ğŸ“¤ ë‚´ íŒŒì¼ ë“±ë¡</a>
        <a href="create.html?tab=spotify" class="btn btn-outline btn-sm" style="background:white;">ğŸµ Spotify ì¸ì¦</a>
      </div>
    </div>
    <div class="hero-stats">
      <div class="hero-stat">
        <div class="hero-stat-value" id="stat-files">0</div>
        <div class="hero-stat-label">ë“±ë¡ íŒŒì¼</div>
      </div>
      <div class="hero-stat">
        <div class="hero-stat-value" id="stat-creators">0</div>
        <div class="hero-stat-label">ì°½ì‘ì</div>
      </div>
      <div class="hero-stat">
        <div class="hero-stat-value" id="stat-pulse">0</div>
        <div class="hero-stat-label">ì´ Pulse</div>
      </div>
    </div>
  </div>

  <!-- 3ë‹¨ ë ˆì´ì•„ì›ƒ -->
  <div class="shareplace-layout">

    <!-- ì™¼ìª½: ì¥ë¥´ ì‚¬ì´ë“œë°” -->
    <div class="genre-sidebar">
      <div class="sidebar-title">ì¥ë¥´ / ì¹´í…Œê³ ë¦¬</div>
      <span class="genre-all active" onclick="filterGenre('all', this)">ğŸŒ ì „ì²´ë³´ê¸°</span>

      <div class="genre-category">
        <div class="genre-main open" onclick="toggleGenre(this)">ğŸµ ìŒì•… <span>â–¾</span></div>
        <div class="genre-sub">
          <span class="genre-sub-item" onclick="filterGenre('pop',this)">Pop</span>
          <span class="genre-sub-item" onclick="filterGenre('kpop',this)">K-Pop</span>
          <span class="genre-sub-item" onclick="filterGenre('hiphop',this)">Hip-Hop</span>
          <span class="genre-sub-item" onclick="filterGenre('rnb',this)">R&B</span>
          <span class="genre-sub-item" onclick="filterGenre('rock',this)">Rock</span>
          <span class="genre-sub-item" onclick="filterGenre('indie',this)">Indie</span>
          <span class="genre-sub-item" onclick="filterGenre('edm',this)">EDM</span>
          <span class="genre-sub-item" onclick="filterGenre('jazz',this)">Jazz</span>
          <span class="genre-sub-item" onclick="filterGenre('classical',this)">í´ë˜ì‹</span>
          <span class="genre-sub-item" onclick="filterGenre('chill',this)">Chill</span>
        </div>
      </div>

      <div class="genre-category">
        <div class="genre-main" onclick="toggleGenre(this)">ğŸ¤– AI ìŒì•… <span>â–¾</span></div>
        <div class="genre-sub" style="display:none">
          <span class="genre-sub-item" onclick="filterGenre('ai-music',this)">AI ìƒì„±</span>
          <span class="genre-sub-item" onclick="filterGenre('suno',this)">Suno</span>
          <span class="genre-sub-item" onclick="filterGenre('udio',this)">Udio</span>
        </div>
      </div>

      <div class="genre-category">
        <div class="genre-main" onclick="toggleGenre(this)">ğŸ¬ ì˜ìƒ <span>â–¾</span></div>
        <div class="genre-sub" style="display:none">
          <span class="genre-sub-item" onclick="filterGenre('mv',this)">ë®¤ì§ë¹„ë””ì˜¤</span>
          <span class="genre-sub-item" onclick="filterGenre('short',this)">ë‹¨í¸ì˜í™”</span>
          <span class="genre-sub-item" onclick="filterGenre('vlog',this)">Vlog</span>
          <span class="genre-sub-item" onclick="filterGenre('doc',this)">ë‹¤í</span>
          <span class="genre-sub-item" onclick="filterGenre('ai-video',this)">AI ì˜ìƒ</span>
        </div>
      </div>

      <div class="genre-category">
        <div class="genre-main" onclick="toggleGenre(this)">ğŸ–¼ï¸ ì´ë¯¸ì§€/ì˜ˆìˆ  <span>â–¾</span></div>
        <div class="genre-sub" style="display:none">
          <span class="genre-sub-item" onclick="filterGenre('art',this)">ë¯¸ìˆ ì‘í’ˆ</span>
          <span class="genre-sub-item" onclick="filterGenre('photo',this)">ì‚¬ì§„</span>
          <span class="genre-sub-item" onclick="filterGenre('illust',this)">ì¼ëŸ¬ìŠ¤íŠ¸</span>
          <span class="genre-sub-item" onclick="filterGenre('ai-art',this)">AI ì•„íŠ¸</span>
        </div>
      </div>

      <div class="genre-category">
        <div class="genre-main" onclick="toggleGenre(this)">ğŸ“š ê°•ì˜ <span>â–¾</span></div>
        <div class="genre-sub" style="display:none">
          <span class="genre-sub-item" onclick="filterGenre('lecture-lang',this)">ì–¸ì–´</span>
          <span class="genre-sub-item" onclick="filterGenre('lecture-code',this)">í”„ë¡œê·¸ë˜ë°</span>
          <span class="genre-sub-item" onclick="filterGenre('lecture-biz',this)">ê²½ì˜</span>
          <span class="genre-sub-item" onclick="filterGenre('lecture-art',this)">ì˜ˆìˆ </span>
        </div>
      </div>

      <div class="genre-category" style="border-bottom:none">
        <div class="genre-main" onclick="toggleGenre(this)">ğŸµ Spotify ì¸ì¦ <span>â–¾</span></div>
        <div class="genre-sub" style="display:none">
          <span class="genre-sub-item" onclick="filterGenre('spotify',this)">ê³µì‹ ìŒì›</span>
        </div>
      </div>
    </div>

    <!-- ê°€ìš´ë°: ìƒí’ˆ -->
    <div class="main-content">
      <div class="filter-bar">
        <button class="sort-btn active" onclick="setSort('pulse',this)">ğŸ”¥ ì¸ê¸°ìˆœ</button>
        <button class="sort-btn" onclick="setSort('new',this)">ğŸ†• ìµœì‹ ìˆœ</button>
        <button class="sort-btn" onclick="setSort('price',this)">ğŸ’° ê°€ê²©ìˆœ</button>
        <a href="create.html" class="upload-btn">+ ì—…ë¡œë“œ</a>
      </div>

      <div class="product-grid" id="product-grid"></div>
      <div class="empty-state" id="no-results" style="display:none;">
        <div class="empty-state-icon">ğŸ”</div>
        <div style="font-weight:700;margin-bottom:4px;">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</div>
        <div style="font-size:13px;color:#9ca3af;">ë‹¤ë¥¸ ì¥ë¥´ë‚˜ ê²€ìƒ‰ì–´ë¥¼ ì‹œë„í•´ë³´ì„¸ìš”</div>
      </div>
    </div>

    <!-- ì˜¤ë¥¸ìª½ ì‚¬ì´ë“œë°” -->
    <div class="right-sidebar">
      <!-- ì‹¤ì‹œê°„ ì°¨íŠ¸ -->
      <div class="sidebar-card">
        <div class="sidebar-card-title">ğŸ”¥ ì‹¤ì‹œê°„ ì¸ê¸° ì°¨íŠ¸</div>
        <div id="chart-list"></div>
      </div>

      <!-- ì¸ì¦ ì•ˆë‚´ -->
      <div class="auth-guide">
        <h3>âœ… TL ì¸ì¦ ë¹„ìš©</h3>
        <p>ì¸ì¦ëœ íŒŒì¼ë§Œ SharePlaceì— ë“±ë¡ë©ë‹ˆë‹¤</p>
        <div class="auth-guide-table">
          <div class="auth-guide-row"><span>ğŸµ ìŒì•… (ê³¡ë‹¹)</span><span>5,000 TL</span></div>
          <div class="auth-guide-row"><span>ğŸ¬ ì˜ìƒ</span><span>1,000 TL</span></div>
          <div class="auth-guide-row"><span>ğŸï¸ ì˜í™”</span><span>5,000 TL</span></div>
          <div class="auth-guide-row"><span>ğŸ–¼ï¸ ì˜ˆìˆ /ì´ë¯¸ì§€</span><span>5,000 TL+</span></div>
          <div class="auth-guide-row"><span>ğŸ“š ê°•ì˜</span><span>1,000 TL</span></div>
          <div class="auth-guide-row"><span>ğŸµ Spotify ì¸ì¦</span><span>5,000 TL</span></div>
        </div>
        <a href="create.html">ğŸ“¤ ì§€ê¸ˆ ë“±ë¡í•˜ê¸°</a>
      </div>

      <!-- ì‹ ê·œ ë“±ë¡ -->
      <div class="sidebar-card">
        <div class="sidebar-card-title">ğŸ†• ì‹ ê·œ ë“±ë¡</div>
        <div id="new-list"></div>
      </div>
    </div>

  </div>
</div>

<footer class="page-footer">
  <div class="footer-links">
    <a href="#">ì´ìš©ì•½ê´€</a>
    <a href="#">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
    <a href="#">ì €ì‘ê¶Œ ì •ì±…</a>
    <a href="#" style="color:#ef4444;">ì €ì‘ê¶Œ ì¹¨í•´ ì‹ ê³ </a>
  </div>
  <div class="footer-copyright">âš–ï¸ ëª¨ë“  íŒŒì¼ì˜ ì°½ì‘ê¶Œì€ ì°½ì‘ìì—ê²Œ ìˆìŠµë‹ˆë‹¤. Â© 2026 TimeLink</div>
</footer>

<script>
// ===== ìƒ˜í”Œ ë°ì´í„° =====
var PRODUCTS = [
  {id:1,title:'Midnight Vibe',creator:'Synthwave Studio',type:'audio',genre:'edm',price:2000,pulse:1240,icon:'ğŸµ',verified:true,badge:'HOT',badgeClass:'badge-hot'},
  {id:2,title:'Seoul Nights',creator:'K-Pop Studio',type:'audio',genre:'kpop',price:1500,pulse:987,icon:'ğŸµ',verified:true,badge:'',badgeClass:''},
  {id:3,title:'Sunset Groove',creator:'Chill Collective',type:'audio',genre:'chill',price:800,pulse:842,icon:'ğŸµ',verified:true,badge:'NEW',badgeClass:'badge-new'},
  {id:4,title:'Electric Dreams',creator:'Neon Flow',type:'audio',genre:'edm',price:1200,pulse:756,icon:'ğŸµ',verified:true,badge:'',badgeClass:''},
  {id:5,title:'ë„ì‹œì˜ ë°¤',creator:'ê¹€ë¯¼ì¤€',type:'audio',genre:'indie',price:5000,pulse:654,icon:'ğŸµ',verified:true,badge:'',badgeClass:''},
  {id:6,title:'Quantum Beat',creator:'AI Composer',type:'audio',genre:'ai-music',price:500,pulse:543,icon:'ğŸ¤–',verified:true,badge:'AI',badgeClass:'badge-ai'},
  {id:7,title:'ë´„ë‚ ì˜ ê¸°ì–µ MV',creator:'ì´ì§€ì€',type:'video',genre:'mv',price:1000,pulse:432,icon:'ğŸ¬',verified:true,badge:'',badgeClass:''},
  {id:8,title:'Urban Landscape',creator:'VisualAI',type:'image',genre:'ai-art',price:5000,pulse:321,icon:'ğŸ–¼ï¸',verified:true,badge:'ART',badgeClass:'badge-my'},
  {id:9,title:'Python ë§ˆìŠ¤í„°í´ë˜ìŠ¤',creator:'ì½”ë”©ì„ ìƒ',type:'video',genre:'lecture-code',price:1000,pulse:298,icon:'ğŸ“š',verified:true,badge:'',badgeClass:''},
  {id:10,title:'ë´„ë¹„',creator:'ì†Œìš¸ì‹±ì–´',type:'audio',genre:'indie',price:3000,pulse:276,icon:'ğŸµ',verified:true,badge:'',badgeClass:''},
  {id:11,title:'Tokyo Drift',creator:'J-Wave',type:'audio',genre:'pop',price:1200,pulse:254,icon:'ğŸµ',verified:true,badge:'NEW',badgeClass:'badge-new'},
  {id:12,title:'Midnight Sun',creator:'Nordic Vibes',type:'audio',genre:'chill',price:900,pulse:231,icon:'ğŸµ',verified:true,badge:'',badgeClass:''},
];

var currentGenre = 'all';
var currentSort = 'pulse';
var currentSearch = '';

// localStorageì—ì„œ ë“±ë¡ëœ íŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸°
(function loadMyFiles() {
  var myFiles = JSON.parse(localStorage.getItem('tl_myfiles') || '[]');
  myFiles.filter(function(f){ return f.shared && f.authStatus === 'verified'; })
    .forEach(function(f, i) {
      PRODUCTS.unshift({
        id: 'my_' + f.id,
        title: f.title,
        creator: f.artist || 'ë‚˜',
        type: f.type || 'audio',
        genre: f.genre || 'etc',
        price: f.fileTL || 1000,
        pulse: f.pulse || 0,
        icon: f.type === 'video' ? 'ğŸ¬' : 'ğŸµ',
        coverImage: f.coverImage || null,
        verified: true,
        badge: 'MY',
        badgeClass: 'badge-my',
        source: f.source
      });
    });
})();

function renderProducts(data) {
  var grid = document.getElementById('product-grid');
  var noRes = document.getElementById('no-results');
  if (!data.length) { grid.innerHTML = ''; noRes.style.display = 'block'; return; }
  noRes.style.display = 'none';
  grid.innerHTML = data.map(function(p) {
    var thumbContent = p.coverImage
      ? '<img src="' + p.coverImage + '" alt="' + p.title + '">'
      : '<span style="font-size:44px">' + p.icon + '</span>';
    return '<div class="product-card" onclick="goPlay(' + JSON.stringify(p.id) + ')">' +
      '<div class="product-thumb">' +
        thumbContent +
        (p.badge ? '<span class="badge ' + p.badgeClass + '">' + p.badge + '</span>' : '') +
        (p.verified ? '<span class="verified-badge">âœ“ ì¸ì¦</span>' : '') +
      '</div>' +
      '<div class="product-info">' +
        '<div class="product-title">' + p.title + '</div>' +
        '<div class="product-creator">' + p.creator + '</div>' +
        '<div class="product-price">' + p.price.toLocaleString() + ' TL</div>' +
        '<div class="product-meta">' +
          '<span class="product-pulse">ğŸ”¥ ' + p.pulse.toLocaleString() + '</span>' +
          '<button class="play-btn" onclick="event.stopPropagation();goPlay(' + JSON.stringify(p.id) + ')">â–¶ ì¬ìƒ</button>' +
        '</div>' +
      '</div>' +
    '</div>';
  }).join('');
}

function renderChart() {
  var sorted = PRODUCTS.slice().sort(function(a,b){return b.pulse-a.pulse;}).slice(0,10);
  document.getElementById('chart-list').innerHTML = sorted.map(function(p, i) {
    return '<div class="chart-item" onclick="goPlay(' + JSON.stringify(p.id) + ')">' +
      '<span class="chart-rank' + (i < 3 ? ' top3' : '') + '">' + (i+1) + '</span>' +
      '<div class="chart-info">' +
        '<div class="chart-track">' + p.title + '</div>' +
        '<div class="chart-artist">' + p.creator + '</div>' +
      '</div>' +
      '<span class="chart-value">' + p.pulse.toLocaleString() + '</span>' +
    '</div>';
  }).join('');
}

function renderNewList() {
  var newest = PRODUCTS.slice().reverse().slice(0,5);
  document.getElementById('new-list').innerHTML = newest.map(function(p) {
    return '<div class="chart-item" onclick="goPlay(' + JSON.stringify(p.id) + ')">' +
      '<span style="font-size:18px">' + p.icon + '</span>' +
      '<div class="chart-info">' +
        '<div class="chart-track">' + p.title + '</div>' +
        '<div class="chart-artist">' + p.creator + '</div>' +
      '</div>' +
      '<span class="chart-value">' + p.price.toLocaleString() + '</span>' +
    '</div>';
  }).join('');
}

function updateStats() {
  document.getElementById('stat-files').textContent = PRODUCTS.length;
  var creators = new Set(PRODUCTS.map(function(p){return p.creator;}));
  document.getElementById('stat-creators').textContent = creators.size;
  var totalPulse = PRODUCTS.reduce(function(s,p){return s+p.pulse;}, 0);
  document.getElementById('stat-pulse').textContent = (totalPulse/1000).toFixed(1) + 'K';
}

function applyFilter() {
  var data = PRODUCTS.filter(function(p) {
    var matchGenre = currentGenre === 'all' || p.genre === currentGenre;
    var q = currentSearch.toLowerCase();
    var matchQ = !q || p.title.toLowerCase().includes(q) || p.creator.toLowerCase().includes(q);
    return matchGenre && matchQ;
  });
  if (currentSort === 'pulse') data.sort(function(a,b){return b.pulse-a.pulse;});
  else if (currentSort === 'new') data.sort(function(a,b){return String(b.id).localeCompare(String(a.id));});
  else if (currentSort === 'price') data.sort(function(a,b){return a.price-b.price;});
  renderProducts(data);
}

function filterGenre(genre, el) {
  currentGenre = genre;
  document.querySelectorAll('.genre-sub-item, .genre-all').forEach(function(e){e.classList.remove('active');});
  if (el) el.classList.add('active');
  applyFilter();
}

function setSort(sort, el) {
  currentSort = sort;
  document.querySelectorAll('.sort-btn').forEach(function(b){b.classList.remove('active');});
  if (el) el.classList.add('active');
  applyFilter();
}

function doSearch() {
  currentSearch = document.getElementById('nav-search-input').value;
  applyFilter();
}

function toggleGenre(el) {
  var sub = el.nextElementSibling;
  if (!sub) return;
  var isOpen = sub.style.display !== 'none';
  sub.style.display = isOpen ? 'none' : 'flex';
  el.classList.toggle('open', !isOpen);
}

function goPlay(id) {
  window.location.href = 'player.html';
}

// ===== ë„¤ë¹„ê²Œì´ì…˜ =====
function toggleDropdown() { document.getElementById('dropdown')?.classList.toggle('show'); }
document.addEventListener('click', function(e) {
  if (!e.target.closest('.avatar')) document.getElementById('dropdown')?.classList.remove('show');
});
function logout() {
  localStorage.removeItem('tl_user');
  localStorage.removeItem('tl_token');
  location.reload();
}

// ===== ì´ˆê¸°í™” =====
(function() {
  var user = JSON.parse(localStorage.getItem('tl_user') || 'null');
  if (user) {
    document.getElementById('nav-auth').classList.remove('hidden');
    document.getElementById('nav-guest').classList.add('hidden');
    document.getElementById('balance-tl').textContent = Number(user.tl||0).toLocaleString();
    document.getElementById('balance-tlc').textContent = Number(user.tlc||0).toFixed(4);
    document.getElementById('avatar-letter').textContent = (user.username||'U').charAt(0).toUpperCase();
  }

  // ê²€ìƒ‰ ì´ë²¤íŠ¸
  document.getElementById('nav-search-input').addEventListener('input', function() {
    currentSearch = this.value;
    applyFilter();
  });

  applyFilter();
  renderChart();
  renderNewList();
  updateStats();
})();
</script>
</body>
</html>
