<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SharePlace â€” TimeLink</title>
<meta name="description" content="ì»¤ë®¤ë‹ˆí‹° ìŒì•… ê³µìœ  ë§ˆì¼“í”Œë ˆì´ìŠ¤. ì¬ìƒ ì‹œ ì°½ì‘ìì—ê²Œ TL ìˆ˜ìµ ì§€ê¸‰.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Noto+Sans+KR:wght@400;500;700;800&display=swap" rel="stylesheet">
<style>
:root {
  --purple: #8b5cf6;
  --purple-dark: #7c3aed;
  --purple-darker: #6d28d9;
  --purple-light: #ede9fe;
  --purple-pale: #f5f3ff;
  --green: #10b981;
  --green-light: #d1fae5;
  --yellow: #f59e0b;
  --yellow-light: #fef3c7;
  --red: #ef4444;
  --red-light: #fee2e2;
  --blue: #3b82f6;
  --blue-light: #dbeafe;
  --gray-50: #f9fafb;
  --gray-100: #f3f4f6;
  --gray-200: #e5e7eb;
  --gray-300: #d1d5db;
  --gray-500: #6b7280;
  --gray-700: #374151;
  --gray-900: #111827;
  --text: #0f172a;
  --border: #e5e7eb;
  --surface: #f8fafc;
  --font: 'Inter', 'Noto Sans KR', sans-serif;
}
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }
body { font-family: var(--font); background: #fff; color: var(--text); min-height: 100vh; }

/* â”€â”€ ë„¤ë¹„ë°” â”€â”€ */





.hidden { display: none !important; }




.avatar { position: relative; width: 36px; height: 36px; border-radius: 50%; background: var(--purple); color: white; display: flex; align-items: center; justify-content: center; font-weight: 700; cursor: pointer; font-size: 14px; }
.dropdown { display: none; position: absolute; top: calc(100% + 8px); right: 0; background: white; border: 1px solid var(--border); border-radius: 14px; box-shadow: 0 8px 32px rgba(0,0,0,0.12); overflow: hidden; min-width: 180px; z-index: 999; }
.dropdown.show { display: block; }
.dropdown-item { display: flex; align-items: center; gap: 10px; padding: 11px 16px; font-size: 14px; font-weight: 500; color: var(--text); text-decoration: none; cursor: pointer; transition: background 0.15s; }
.dropdown-item:hover { background: var(--gray-50); }
.dropdown-item.charge { color: var(--purple); font-weight: 700; }
.dropdown-item.danger { color: var(--red); }
.dropdown-divider { height: 1px; background: var(--border); margin: 4px 0; }

/* â”€â”€ ë²„íŠ¼ â”€â”€ */
.btn { display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 10px 20px; border-radius: 999px; font-weight: 600; font-size: 14px; cursor: pointer; transition: all 0.2s; border: none; text-decoration: none; font-family: var(--font); }
.btn-primary { background: var(--purple); color: white; }
.btn-primary:hover { background: var(--purple-dark); }
.btn-outline { background: white; color: var(--text); border: 1px solid var(--border); }
.btn-outline:hover { background: var(--gray-50); }
.btn-ghost { background: var(--gray-100); color: var(--gray-700); }
.btn-ghost:hover { background: var(--gray-200); }
.btn-sm { padding: 6px 14px; font-size: 13px; }

/* â”€â”€ íƒ­ â”€â”€ */
.tabs {
  background: white;
  border-bottom: 1px solid #e5e7eb;
  padding: 0 24px;
  display: flex;
  justify-content: center;
  gap: 4px;
  position: sticky;
  top: 64px;
  z-index: 90;
  overflow-x: auto;
  scrollbar-width: none;
}
.tabs::-webkit-scrollbar { display: none; }
.tab {
  padding: 12px 20px;
  font-size: 14px;
  font-weight: 600;
  color: #6b7280;
  text-decoration: none;
  border-bottom: 2px solid transparent;
  transition: all 0.2s;
  white-space: nowrap;
}
.tab:hover { color: #8b5cf6; }
.tab.active { color: #8b5cf6; border-bottom-color: #8b5cf6; }

/* â”€â”€ í˜ì´ì§€ ë³¸ë¬¸ â”€â”€ */
.page-wrap { max-width: 1100px; margin: 0 auto; padding: 32px 24px; }
.page-header { margin-bottom: 28px; }
.page-title { font-size: 26px; font-weight: 800; margin-bottom: 6px; }
.page-sub { font-size: 14px; color: var(--gray-500); }

/* â”€â”€ í†µê³„ ê·¸ë¦¬ë“œ â”€â”€ */
.stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 24px; }
.stat-card { background: var(--gray-50); border: 1px solid var(--border); border-radius: 14px; padding: 16px 20px; }
.stat-lbl { font-size: 12px; color: var(--gray-500); font-weight: 600; margin-bottom: 6px; }
.stat-val { font-size: 22px; font-weight: 800; color: var(--purple); }

/* â”€â”€ ê²€ìƒ‰ â”€â”€ */
.search-bar { display: flex; gap: 8px; margin-bottom: 16px; }
.search-input { flex: 1; padding: 10px 16px; border: 1px solid var(--border); border-radius: 999px; font-size: 14px; font-family: var(--font); outline: none; }
.search-input:focus { border-color: var(--purple); box-shadow: 0 0 0 3px var(--purple-light); }

/* â”€â”€ ì¥ë¥´ ì¹© â”€â”€ */
.chips { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 24px; }
.chip { padding: 6px 14px; border-radius: 999px; font-size: 13px; font-weight: 600; background: var(--gray-100); color: var(--gray-500); cursor: pointer; transition: all 0.2s; border: none; font-family: var(--font); }
.chip:hover { background: var(--purple-light); color: var(--purple); }
.chip.active { background: var(--purple); color: white; }

/* â”€â”€ ê³µìœ  ì¹´ë“œ â”€â”€ */
.share-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 16px; }
.share-card { background: white; border: 1px solid var(--border); border-radius: 16px; overflow: hidden; transition: all 0.2s; }
.share-card:hover { box-shadow: 0 8px 24px rgba(0,0,0,0.08); transform: translateY(-2px); }
.share-art { height: 130px; display: flex; align-items: center; justify-content: center; font-size: 40px; }
.share-body { padding: 14px; }
.share-title { font-size: 14px; font-weight: 700; margin-bottom: 4px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.share-artist { font-size: 12px; color: var(--gray-500); margin-bottom: 10px; }
.share-meta { display: flex; gap: 6px; margin-bottom: 10px; flex-wrap: wrap; }
.share-prog { height: 4px; background: var(--gray-100); border-radius: 2px; overflow: hidden; margin-bottom: 12px; }
.share-prog-fill { height: 100%; background: linear-gradient(90deg, var(--yellow), var(--purple)); border-radius: 2px; }
.share-actions { display: flex; gap: 6px; }
.share-actions .btn { flex: 1; }

/* â”€â”€ ë°°ì§€ â”€â”€ */
.badge { display: inline-flex; align-items: center; gap: 4px; padding: 3px 8px; border-radius: 999px; font-size: 11px; font-weight: 700; }
.badge-purple { background: var(--purple-light); color: var(--purple-dark); }
.badge-yellow { background: var(--yellow-light); color: #92400e; }
.badge-green  { background: var(--green-light); color: #065f46; }

/* â”€â”€ íŠ¸ë Œë”© â”€â”€ */
.trending-row { display: flex; align-items: center; gap: 12px; padding: 12px; border-radius: 12px; cursor: pointer; transition: background 0.15s; }
.trending-row:hover { background: var(--gray-50); }
.trend-rank { width: 24px; text-align: center; font-size: 13px; font-weight: 800; color: var(--gray-500); }
.trend-rank.gold   { color: #f59e0b; }
.trend-rank.silver { color: #94a3b8; }
.trend-rank.bronze { color: #b45309; }
.trend-thumb { width: 40px; height: 40px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 20px; flex-shrink: 0; }
.trend-info { flex: 1; min-width: 0; }
.trend-title { font-size: 13px; font-weight: 700; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.trend-meta { font-size: 11px; color: var(--gray-500); margin-top: 2px; }

/* â”€â”€ ì‚¬ì´ë“œ íŒ¨ë„ â”€â”€ */
.sidebar { background: var(--gray-50); border: 1px solid var(--border); border-radius: 16px; padding: 20px; }
.sidebar-title { font-size: 16px; font-weight: 800; margin-bottom: 14px; }

/* â”€â”€ ë¯¸ë‹ˆ í”Œë ˆì´ì–´ â”€â”€ */
.player-bar { position: fixed; bottom: 0; left: 0; right: 0; background: white; border-top: 1px solid var(--border); padding: 12px 24px; display: flex; align-items: center; gap: 16px; z-index: 300; box-shadow: 0 -4px 20px rgba(0,0,0,0.08); }
.pb-prog { position: absolute; top: 0; left: 0; right: 0; height: 3px; background: var(--gray-100); }
.pb-prog-fill { height: 100%; background: var(--purple); border-radius: 0 2px 2px 0; transition: width 0.5s; width: 0; }
.pb-thumb { width: 44px; height: 44px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 22px; flex-shrink: 0; }
.pb-play { width: 40px; height: 40px; border-radius: 50%; background: var(--purple); border: none; color: white; font-size: 16px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: background 0.2s; }
.pb-play:hover { background: var(--purple-dark); }

/* â”€â”€ í† ìŠ¤íŠ¸ â”€â”€ */
#toast-box { position: fixed; bottom: 80px; right: 24px; display: flex; flex-direction: column; gap: 8px; z-index: 9999; }
.t { padding: 12px 18px; border-radius: 12px; font-size: 13px; font-weight: 600; box-shadow: 0 4px 16px rgba(0,0,0,0.12); animation: fadeIn .3s ease; }
.t.s { background: var(--green); color: white; }
.t.e { background: var(--red); color: white; }
.t.i { background: var(--purple); color: white; }
@keyframes fadeIn { from { opacity:0; transform: translateY(10px); } to { opacity:1; transform: translateY(0); } }

/* â”€â”€ ë°˜ì‘í˜• â”€â”€ */
@media (max-width: 900px) {
  .stats-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 600px) {
  .stats-grid { grid-template-columns: repeat(2, 1fr); }
  .page-wrap { padding: 20px 16px; }
}

/* â”€â”€ í‘¸í„° â”€â”€ */
.page-footer { background: #0f172a; color: rgba(255,255,255,0.7); padding: 48px 24px 24px; margin-top: 64px; }
.footer-grid { max-width: 1100px; margin: 0 auto; display: grid; grid-template-columns: 1.5fr 1fr 1fr 1fr; gap: 40px; margin-bottom: 32px; }
.footer-logo { font-size: 18px; font-weight: 800; color: white; margin-bottom: 8px; }
.footer-tagline { font-size: 13px; line-height: 1.6; }
.footer-col-title { font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; color: rgba(255,255,255,0.4); margin-bottom: 14px; }
.footer-link { display: block; font-size: 13px; color: rgba(255,255,255,0.6); text-decoration: none; margin-bottom: 8px; transition: color 0.2s; }
.footer-link:hover { color: white; }
.footer-bottom { border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px; text-align: center; font-size: 12px; max-width: 1100px; margin: 0 auto; }
@media (max-width: 768px) { .footer-grid { grid-template-columns: 1fr 1fr; } }
@media (max-width: 480px) { .footer-grid { grid-template-columns: 1fr; } }
.navbar {
  background: white;
  border-bottom: 1px solid #e5e7eb;
  padding: 0 24px;
  height: 64px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: sticky;
  top: 0;
  z-index: 100;
}
.logo {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 20px;
  font-weight: 800;
  color: #0f172a;
  text-decoration: none;
}
.logo-icon {
  width: 32px;
  height: 32px;
  background: #8b5cf6;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 16px;
}
.logo span { color: #8b5cf6; }
.nav-right { display: flex; align-items: center; gap: 12px; }
.balance {
  background: #f3f4f6;
  border-radius: 999px;
  padding: 6px 16px;
  display: flex;
  align-items: center;
  gap: 16px;
}
.balance-item {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 14px;
}
.balance-label { font-size: 11px; font-weight: 700; color: #6b7280; text-transform: uppercase; }
.balance-value { font-weight: 700; color: #0f172a; }

/* Google Translate ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ */

#google_translate_element .goog-te-gadget-simple {
  background: rgba(139,92,246,0.08) !important;
  border: 1px solid rgba(139,92,246,0.2) !important;
  border-radius: 8px !important;
  padding: 4px 10px !important;
  font-size: 13px !important;
  font-family: 'Inter', 'Noto Sans KR', sans-serif !important;
  color: #374151 !important;
  cursor: pointer !important;
}
#google_translate_element .goog-te-gadget-simple:hover {
  background: rgba(139,92,246,0.15) !important;
}
#google_translate_element .goog-te-gadget-simple span { color: #374151 !important; }
#google_translate_element .goog-te-gadget-simple .goog-te-menu-value span:first-child { color: #374151 !important; }


.goog-logo-link { display: none !important; }
.goog-te-gadget { font-size: 0 !important; }
</style>
<!-- Google Translate -->
<script type="text/javascript">
function googleTranslateElementInit() {
  new google.translate.TranslateElement({
    pageLanguage: 'ko',
    includedLanguages: 'en,ja,zh-CN,es,pt,fr,de,ar,hi,id,th,vi',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
    autoDisplay: false
  }, 'google_translate_element');
}
</script>

</head>
<body>

<!-- ìˆ¨ê²¨ì§„ ì˜¤ë””ì˜¤ -->
<audio id="aud" preload="none"></audio>

<!-- ë„¤ë¹„ë°” -->
<nav class="navbar">
  <a href="index.html" class="logo"><div class="logo-icon">âš¡</div><div>Time<span>Link</span></div></a>
  <div id="global-controls" style="display:flex;align-items:center;gap:6px;margin-left:auto;margin-right:12px;"><div id="currency-selector"></div></div>
  <div class="nav-right" id="nav-guest">
    <a href="login.html" class="btn btn-outline btn-sm" data-i18n="nav_login">ë¡œê·¸ì¸</a>
    <a href="signup.html" class="btn btn-primary btn-sm" data-i18n="nav_start">ì‹œì‘í•˜ê¸°</a>
  </div>
  <div class="nav-right hidden" id="nav-auth">
    <div class="balance">
      <div class="balance-item"><span class="balance-label">TL</span><span class="balance-value" id="balance-tl">0</span></div>
      <div class="balance-item"><span class="balance-label">TLC</span><span class="balance-value" id="balance-tlc">0.0000</span></div>
    </div>
    <div class="avatar" onclick="toggleDropdown()">
      <span id="avatar-letter">U</span>
      <div class="dropdown" id="dropdown">
        <a href="wallet.html" class="dropdown-item" data-i18n="tab_wallet">ğŸ‘› ì§€ê°‘</a>
        <a href="library.html" class="dropdown-item" data-i18n="tab_library">ğŸ” ë¼ì´ë¸ŒëŸ¬ë¦¬</a>
        <a href="create.html" class="dropdown-item" data-i18n="tab_upload">ğŸ“¤ ì—…ë¡œë“œ</a>
        <a href="dashboard.html" class="dropdown-item" data-i18n="tab_dashboard">ğŸ“Š ëŒ€ì‹œë³´ë“œ</a>
        <div class="dropdown-divider"></div>
        <a href="charge.html" class="dropdown-item charge">ğŸ’³ TL ì¶©ì „</a>
        <div class="dropdown-divider"></div>
        <div class="dropdown-item danger" onclick="logout()">ğŸšª ë¡œê·¸ì•„ì›ƒ</div>
      </div>
    </div>
  </div>
</nav>

<!-- íƒ­ -->
<div class="tabs">
  <a href="index.html" class="tab" data-i18n="tab_home">ğŸ  í™ˆ</a>
  <a href="shareplace.html" class="tab active" data-i18n="tab_shareplace">ğŸ›ï¸ SharePlace</a>
  <a href="library.html" class="tab" data-i18n="tab_library">ğŸ” ë¼ì´ë¸ŒëŸ¬ë¦¬</a>
  <a href="create.html" class="tab" data-i18n="tab_upload">ğŸ“¤ ì—…ë¡œë“œ</a>
  <a href="radio.html" class="tab" data-i18n="tab_radio">â˜• ì¹´í˜ë°©ì†¡</a>
  <a href="car.html" class="tab" data-i18n="tab_car">ğŸ§ Moving Radio</a>
  <a href="ads.html" class="tab" data-i18n="tab_ads">ğŸ“£ ê´‘ê³ </a>
  <a href="wallet.html" class="tab" data-i18n="tab_wallet">ğŸ‘› ì§€ê°‘</a>
  <a href="chart.html" class="tab" data-i18n="tab_chart">ğŸ“Š ì°¨íŠ¸</a>
  <a href="dashboard.html" class="tab" data-i18n="tab_dashboard">ğŸ“Š ëŒ€ì‹œë³´ë“œ</a>
</div>

<!-- ë³¸ë¬¸ -->
<div class="page-wrap">

  <!-- í—¤ë” -->
  <div class="page-header">
    <div class="page-title">ğŸ›ï¸ Share Place</div>
    <div class="page-sub" data-i18n="sp_sub">ì»¤ë®¤ë‹ˆí‹° ìŒì•… ê³µìœ  Â· ì¬ìƒ ì‹œ ì°½ì‘ìì—ê²Œ TL ìˆ˜ìµ ì§€ê¸‰</div>
  </div>

  <!-- í†µê³„ -->
  <div class="stats-grid">
    <div class="stat-card"><div class="stat-lbl" data-i18n="sp_shared">ê³µìœ ëœ íŠ¸ë™</div><div class="stat-val">127</div></div>
    <div class="stat-card"><div class="stat-lbl" data-i18n="sp_pulse">ì´ Pulse</div><div class="stat-val">2.4M</div></div>
    <div class="stat-card"><div class="stat-lbl" data-i18n="sp_active">í™œì„± ìœ ì €</div><div class="stat-val">342</div></div>
    <div class="stat-card"><div class="stat-lbl" data-i18n="sp_today">ì˜¤ëŠ˜ ê³µìœ </div><div class="stat-val">18</div></div>
  </div>

  <!-- ê²€ìƒ‰ + í•„í„° -->
  <div class="search-bar">
    <input type="text" id="q" class="search-input" placeholder="íŠ¸ë™, ì•„í‹°ìŠ¤íŠ¸, ì¥ë¥´ë¡œ ê²€ìƒ‰..." onkeydown="if(event.key===&#39;Enter&#39;)doSearch()">
    <button class="btn btn-primary" onclick="doSearch()">ê²€ìƒ‰</button>
  </div>
  <div class="chips" id="genre-chips">
    <span class="chip active" data-g="all" onclick="setGenre(&#39;all&#39;)">ì „ì²´</span>
    <span class="chip" data-g="K-POP" onclick="setGenre(&#39;K-POP&#39;)">ğŸ‡°ğŸ‡· K-POP</span>
    <span class="chip" data-g="Electronic" onclick="setGenre(&#39;Electronic&#39;)">âš¡ Electronic</span>
    <span class="chip" data-g="Hip-Hop" onclick="setGenre(&#39;Hip-Hop&#39;)">ğŸ¤ Hip-Hop</span>
    <span class="chip" data-g="Chill" onclick="setGenre(&#39;Chill&#39;)">ğŸŒŠ Chill</span>
    <span class="chip" data-g="Jazz" onclick="setGenre(&#39;Jazz&#39;)">ğŸ· Jazz</span>
    <span class="chip" data-g="Indie" onclick="setGenre(&#39;Indie&#39;)">ğŸ¸ Indie</span>
    <span class="chip" data-g="R&amp;B" onclick="setGenre(&#39;R&amp;B&#39;)">ğŸ’œ R&amp;B</span>
    <span class="chip" data-g="Lo-Fi" onclick="setGenre(&#39;Lo-Fi&#39;)">ğŸ“š Lo-Fi</span>
  </div>

  <!-- 2ì»¬ëŸ¼ ë ˆì´ì•„ì›ƒ -->
  <div style="display:grid;grid-template-columns:1fr 320px;gap:24px;align-items:start" id="main-grid">

    <!-- ê³µìœ  ì¹´ë“œ ê·¸ë¦¬ë“œ -->
    <div>
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:14px">
        <div style="font-size:17px;font-weight:800" id="grid-title" data-i18n="sp_community">ì»¤ë®¤ë‹ˆí‹° íŠ¸ë™</div>
        <button class="btn btn-ghost btn-sm" onclick="renderGrid()" data-i18n="btn_refresh">ìƒˆë¡œê³ ì¹¨</button>
      </div>
      <div class="share-grid" id="share-grid"></div>
    </div>

    <!-- ì‚¬ì´ë“œë°” -->
    <div style="display:flex;flex-direction:column;gap:20px;">

      <!-- íŠ¸ë Œë”© -->
      <div class="sidebar">
        <div class="sidebar-title">ğŸ”¥ Trending</div>
        <div id="trending-list"></div>
      </div>

      <!-- ë‚´ ê³µìœ  -->
      <div class="sidebar">
        <div class="sidebar-title">ğŸ“¤ ë‚´ ê³µìœ </div>
        <div id="my-share-list">
          <div style="text-align:center;padding:24px 12px;">
            <div style="font-size:32px;margin-bottom:10px">ğŸ“¤</div>
            <div style="font-size:13px;color:var(--gray-500);margin-bottom:14px" data-i18n="sp_empty">ì•„ì§ ê³µìœ ëœ íŠ¸ë™ì´ ì—†ìŠµë‹ˆë‹¤</div>
            <a href="create.html" class="btn btn-primary btn-sm">+ ì—…ë¡œë“œ &amp; ê³µìœ </a>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- ë¯¸ë‹ˆ í”Œë ˆì´ì–´ -->
<div id="pb" class="player-bar hidden" style="position:relative">
  <div class="pb-prog"><div class="pb-prog-fill" id="pb-fill"></div></div>
  <div class="pb-thumb" id="pb-icon">ğŸµ</div>
  <div style="flex:1;min-width:0">
    <div style="font-weight:700;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis" id="pb-name">â€”</div>
    <div style="font-size:12px;color:var(--gray-500)" id="pb-sub">â€”</div>
  </div>
  <div style="display:flex;align-items:center;gap:10px;flex-shrink:0">
    <span class="badge badge-purple">âš¡ <span id="pb-pulse">0</span></span>
    <button id="pb-btn" onclick="togglePlay()" class="pb-play">â¸</button>
    
  </div>
</div>

<!-- í† ìŠ¤íŠ¸ -->
<div id="toast-box"></div>

<!-- í‘¸í„° -->
<footer class="page-footer">
  <div class="footer-grid">
    <div>
      <div class="footer-logo">âš¡ TimeLink</div>
      <div class="footer-tagline" data-i18n="footer_slogan">ì°½ì‘ìë¥¼ ìœ„í•œ ìƒˆë¡œìš´ ìˆ˜ìµ í”Œë«í¼</div>
    </div>
    <div>
      <div class="footer-col-title" data-i18n="footer_service">ì„œë¹„ìŠ¤</div>
      <a href="shareplace.html" class="footer-link" data-i18n="footer_shareplace">ğŸ›ï¸ SharePlace</a>
      <a href="radio.html" class="footer-link" data-i18n="footer_radio">â˜• ì¹´í˜ë°©ì†¡</a>
      <a href="creator.html" class="footer-link" data-i18n="footer_creator">ğŸµ ì°½ì‘ì í”„ë¡œê·¸ë¨</a>
      <a href="poc.html" class="footer-link" data-i18n="footer_poc">ğŸ“Š ê¸°ì—¬ë„ ì‹œìŠ¤í…œ</a>
      <a href="pricing.html" class="footer-link" data-i18n="footer_pricing">ğŸ’³ ìš”ê¸ˆì œ</a>
    </div>
    <div>
      <div class="footer-col-title" data-i18n="footer_company">íšŒì‚¬</div>
      <a href="about.html" class="footer-link" data-i18n="footer_about">ğŸ¢ íšŒì‚¬ ì†Œê°œ</a>
      <a href="tokenomics.html" class="footer-link" data-i18n="footer_tokenomics">âš¡ í† í° ê²½ì œ</a>
      <a href="roadmap.html" class="footer-link" data-i18n="footer_roadmap">ğŸ—ºï¸ ë¡œë“œë§µ</a>
      <a href="faq.html" class="footer-link" data-i18n="footer_faq">â“ FAQ</a>
      <a href="ads.html" class="footer-link" data-i18n="footer_ads_inquiry">ğŸ“£ ê´‘ê³  ë¬¸ì˜</a>
    </div>
    <div>
      <div class="footer-col-title" data-i18n="footer_legal">ë²•ë¬´</div>
      <a href="terms.html" class="footer-link" data-i18n="footer_terms">ì´ìš©ì•½ê´€</a>
      <a href="privacy.html" class="footer-link" data-i18n="footer_privacy">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
      <a href="copyright.html" class="footer-link" data-i18n="footer_copyright">ì €ì‘ê¶Œ ì •ì±…</a>
      <a href="copyright.html#report" class="footer-link" data-i18n="footer_report">ì €ì‘ê¶Œ ì¹¨í•´ ì‹ ê³ </a>
    </div>
  </div>
  <div class="footer-bottom">
    <div data-i18n="footer_copy_full">âš–ï¸ ëª¨ë“  íŒŒì¼ì˜ ì°½ì‘ê¶Œì€ ì°½ì‘ìì—ê²Œ ìˆìŠµë‹ˆë‹¤. Â© 2025 TimeLink. All rights reserved.</div>
  </div>
</footer>

<script>

const TRACKS=[
  {id:'s1',title:'Midnight Vibe',artist:'Synthwave Studio',genre:'Electronic',icon:'ğŸŒ™',pulse:84200,fileTL:2000,maxFileTL:2000,art:'linear-gradient(135deg,#7b61ff,#060610)',url:'https://commondatastorage.googleapis.com/codeskulptor-demos/DDR_assets/Kangaroo_MusiQue_-_The_Neverwritten_Role_Playing_Game.mp3'},
  {id:'s2',title:'Seoul Nights',artist:'K-Pop Studio',genre:'K-POP',icon:'ğŸ‡°ğŸ‡·',pulse:98700,fileTL:1500,maxFileTL:1500,art:'linear-gradient(135deg,#ff0066,#7b61ff)',url:'https://commondatastorage.googleapis.com/codeskulptor-demos/DDR_assets/Sevish_-__nbsp_.mp3'},
  {id:'s3',title:'Sunset Groove',artist:'Chill Collective',genre:'Chill',icon:'ğŸŒ…',pulse:42900,fileTL:800,maxFileTL:1000,art:'linear-gradient(135deg,#f59e0b,#ef4444)',url:'https://commondatastorage.googleapis.com/codeskulptor-demos/DDR_assets/Sevish_-__nbsp_.mp3'},
  {id:'s4',title:'Electric Dreams',artist:'Neon Flow',genre:'Electronic',icon:'âš¡',pulse:61500,fileTL:3000,maxFileTL:3000,art:'linear-gradient(135deg,#00f5a0,#7b61ff)',url:'https://commondatastorage.googleapis.com/codeskulptor-demos/DDR_assets/Kangaroo_MusiQue_-_The_Neverwritten_Role_Playing_Game.mp3'},
  {id:'s5',title:'Dark Matter',artist:'Underground',genre:'Hip-Hop',icon:'ğŸŒ‘',pulse:33100,fileTL:500,maxFileTL:1000,art:'linear-gradient(135deg,#1e1e2e,#7b61ff)',url:'https://commondatastorage.googleapis.com/codeskulptor-demos/pyman_assets/intromusic.ogg'},
  {id:'s6',title:'Golden Hour',artist:'Indie Soul',genre:'Indie',icon:'âœ¨',pulse:52300,fileTL:1200,maxFileTL:1200,art:'linear-gradient(135deg,#f59e0b,#00f5a0)',url:'https://commondatastorage.googleapis.com/codeskulptor-demos/pyman_assets/intromusic.ogg'},
  {id:'s7',title:'Jazz After Midnight',artist:'Blue Note',genre:'Jazz',icon:'ğŸ·',pulse:29800,fileTL:900,maxFileTL:900,art:'linear-gradient(135deg,#1e3a5f,#f59e0b)',url:'https://commondatastorage.googleapis.com/codeskulptor-demos/DDR_assets/Kangaroo_MusiQue_-_The_Neverwritten_Role_Playing_Game.mp3'},
  {id:'s8',title:'Lo-Fi Study Session',artist:'Focus Beats',genre:'Lo-Fi',icon:'ğŸ“š',pulse:71200,fileTL:600,maxFileTL:600,art:'linear-gradient(135deg,#84cc16,#06b6d4)',url:'https://commondatastorage.googleapis.com/codeskulptor-demos/DDR_assets/Kangaroo_MusiQue_-_The_Neverwritten_Role_Playing_Game.mp3'},
];

let curId=null,isPlaying=false,pulse=0,uiTimer=null,selGenre='all',curQuery='';
const aud=document.getElementById('aud');

function $(i){return document.getElementById(i)}
function fmt(n){return(n||0)>1000?((n/1000).toFixed(1)+'K'):Math.floor(n||0).toString()}
function fmtFull(n){return Math.floor(n||0).toLocaleString()}
function fmtT(s){s=Math.floor(s||0);return`${Math.floor(s/60)}:${String(s%60).padStart(2,'0')}`}
function toast(msg,t='i'){const el=document.createElement('div');el.className=`t ${t}`;el.textContent=msg;$('toast-box').prepend(el);setTimeout(()=>el.remove(),3200)}
function esc(s){return String(s||'').replace(/[&<>"']/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]))}

function loadWallet(){
  const u=JSON.parse(localStorage.getItem('tl_user')||'{}');
  if($('nb-tl'))$('nb-tl').textContent=fmtFull(u.tl||10000);
  if($('nb-tlc'))$('nb-tlc').textContent=(u.tlc||0).toFixed(4);
}
function setGenre(g){
  selGenre=g;
  document.querySelectorAll('.chip').forEach(c=>c.classList.toggle('active',c.dataset.g===g));
  renderGrid();
}
function doSearch(){curQuery=$('q').value.trim();renderGrid();}

function getFiltered(){
  let data=TRACKS;
  if(selGenre!=='all')data=data.filter(t=>t.genre===selGenre);
  if(curQuery){const q=curQuery.toLowerCase();data=data.filter(t=>t.title.toLowerCase().includes(q)||t.artist.toLowerCase().includes(q)||t.genre.toLowerCase().includes(q));}
  return data;
}
function renderGrid(){
  const data=getFiltered();
  $('grid-title').textContent=curQuery?`"${esc(curQuery)}" ê²€ìƒ‰ ê²°ê³¼ (${data.length})`:`ì»¤ë®¤ë‹ˆí‹° íŠ¸ë™ (${data.length})`;
  $('share-grid').innerHTML=data.length?data.map(t=>`
    <div class="share-card">
      <div class="share-art" style="background:${t.art}">
        <span style="position:relative;z-index:1;font-size:36px">${t.icon}</span>
      </div>
      <div class="share-body">
        <div class="share-title">${esc(t.title)}</div>
        <div class="share-artist">${esc(t.artist)} Â· ${esc(t.genre)}</div>
        <div class="share-meta">
          <span class="badge badge-ac">âš¡ ${fmt(t.pulse)}</span>
          <span class="badge badge-ca">ğŸ’° ${fmtFull(t.fileTL)} TL</span>
        </div>
        <div style="height:3px;background:rgba(255,255,255,.06);border-radius:2px;overflow:hidden;margin-bottom:12px">
          <div style="height:100%;width:${t.maxFileTL?(t.fileTL/t.maxFileTL*100).toFixed(0):100}%;background:linear-gradient(90deg,var(--ca),var(--ac));border-radius:2px"></div>
        </div>
        <div style="display:flex;gap:8px">
          <button class="btn btn-outline btn-sm" style="flex:1" onclick="playTrack('${t.id}')">â–¶ ì¬ìƒ</button>
          <button class="btn btn-ghost btn-sm" onclick="toast('Phase 2ì—ì„œ ì§€ì›ë©ë‹ˆë‹¤','i')">ğŸ“¥ ë‹´ê¸°</button>
          <button class="btn btn-ghost btn-sm" onclick="shareTrack('${t.id}')">ğŸ”—</button>
        </div>
      </div>
    </div>`).join(''):'<div style="text-align:center;padding:60px;color:var(--t2);grid-column:1/-1"><div style="font-size:40px;margin-bottom:12px">ğŸ”</div>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</div>';
}
function renderTrending(){
  const sorted=[...TRACKS].sort((a,b)=>b.pulse-a.pulse).slice(0,5);
  const rankClass=['gold','silver','bronze','',''];
  $('trending-list').innerHTML=sorted.map((t,i)=>`
    <div class="trending-row" onclick="playTrack('${t.id}')">
      <div class="trend-rank ${rankClass[i]||''}">${i+1}</div>
      <div class="trend-thumb" style="background:${t.art}">${t.icon}</div>
      <div class="trend-info">
        <div class="trend-title">${esc(t.title)}</div>
        <div class="trend-meta">âš¡ ${fmt(t.pulse)} Pulse</div>
      </div>
    </div>`).join('');
}

function playTrack(id){
  const t=TRACKS.find(x=>x.id===id);if(!t)return;
  // fileTL check removed
  curId=id;pulse=0;
  if(!t.url){toast('íŠ¸ë™ URLì´ ì—†ìŠµë‹ˆë‹¤. ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ìˆ˜ì •í•˜ì„¸ìš”.','e');return;}
aud.src=t.url;aud.load();aud.volume=.85;
  aud.play().then(()=>{
    setPlaying(true);startTimer();
    $('pb').classList.remove('hidden');
    $('pb-icon').textContent=t.icon;$('pb-icon').style.background=t.art;
    $('pb-name').textContent=t.title;$('pb-sub').textContent=t.artist+' Â· '+t.genre;
    toast(`â–¶ ${t.title} ì¬ìƒ ì¤‘`,'s');
  }).catch(()=>toast('ì¬ìƒ ì˜¤ë¥˜','e'));
}
function togglePlay(){
  if(!curId)return;
  if(isPlaying){aud.pause();setPlaying(false);clearInterval(uiTimer);}
  else{aud.play().then(()=>{setPlaying(true);startTimer();});}
}
function setPlaying(v){isPlaying=v;const b=$('pb-btn');if(b)b.innerHTML=v?'â¸':'â–¶';}
function startTimer(){
  uiTimer=setInterval(()=>{
    if(!isPlaying)return;
    pulse++;
    $('pb-pulse').textContent=fmtFull(pulse);
    if(aud.duration)$('pb-fill').style.width=(aud.currentTime/aud.duration*100).toFixed(1)+'%';
    const t=TRACKS.find(x=>x.id===curId);
    if(t){t.fileTL=Math.max(0,t.fileTL-1);if(t.fileTL<=0){toast('íŒŒì¼ TL ì†Œì§„!','e');aud.pause();setPlaying(false);clearInterval(uiTimer);}}
  },1000);
}
aud.addEventListener('ended',()=>{setPlaying(false);clearInterval(uiTimer);toast('ì¬ìƒ ì™„ë£Œ!','s');});

function shareTrack(id){
  const t=TRACKS.find(x=>x.id===id);
  if(!t)return;
  const url=window.location.origin+'/shareplace.html?track='+id;
  if(navigator.clipboard){navigator.clipboard.writeText(url).then(()=>toast('ë§í¬ ë³µì‚¬ë¨!','s')).catch(()=>toast('ë§í¬: '+url,'i'));}
  else toast('ê³µìœ  ë§í¬: '+url,'i');
}

loadWallet();renderGrid();renderTrending();

// ë°˜ì‘í˜•: ëª¨ë°”ì¼ì—ì„œ 2ì»¬ëŸ¼ â†’ 1ì»¬ëŸ¼
if(window.innerWidth<900){$('main-grid').style.gridTemplateColumns='1fr';}
window.addEventListener('resize',()=>{$('main-grid').style.gridTemplateColumns=window.innerWidth<900?'1fr':'1fr 340px';});

// ===== NAVBAR AUTH =====
function initNavbar(){
  var user=JSON.parse(localStorage.getItem('tl_user')||'null');
  var guest=document.getElementById('nav-guest');
  var auth=document.getElementById('nav-auth');
  if(!guest||!auth)return;
  if(user&&user.username){
    guest.classList.add('hidden');
    auth.classList.remove('hidden');
    var av=document.getElementById('nav-avatar');
    if(av)av.textContent=user.username.charAt(0).toUpperCase();
    var dn=document.getElementById('dd-name');if(dn)dn.textContent=user.username;
    var de=document.getElementById('dd-email');if(de)de.textContent=user.email||'';
    var tl=document.getElementById('nb-tl');if(tl)tl.textContent=Number(user.tl||0).toLocaleString();
    var tlc=document.getElementById('nb-tlc');if(tlc)tlc.textContent=Number(user.tlc||0).toFixed(4);
  } else {
    guest.classList.remove('hidden');
    auth.classList.add('hidden');
  }
}
function toggleNavDD(){var dd=document.getElementById('nav-dd');if(dd)dd.classList.toggle('hidden');}
function navLogout(){ logout(); } function _navLogout_orig(){localStorage.removeItem('tl_token');localStorage.removeItem('tl_user');window.location.href='login.html';}
document.addEventListener('click',function(e){
  var wrap=document.querySelector('.avatar-wrap');
  if(wrap&&!wrap.contains(e.target)){var dd=document.getElementById('nav-dd');if(dd)dd.classList.add('hidden');}
});
initNavbar();

// D1 + library tracks auto-load
(async function(){
  var API='https://timelink-backend.mununglee.workers.dev';
  // load library shared tracks
  try{
    var myFiles=JSON.parse(localStorage.getItem('tl_myfiles')||'[]');
    myFiles.filter(f=>f.sharedToSharePlace).forEach(f=>{
      if(!TRACKS.find(x=>x.id===f.id)){
        TRACKS.push({id:f.id,title:f.title,artist:f.artist||'',genre:f.genre||'etc',icon:'\ud83c\udfb5',
          pulse:f.pulse||0,fileTL:9999,maxFileTL:9999,pricePerSec:f.pricePerSec||1,
          art:'linear-gradient(135deg,#7b61ff,#060610)',coverImage:f.coverImage,url:f.streamUrl||null});
      }
    });
  }catch(e){}
  // load from D1
  try{
    var ctrl=new AbortController();
    setTimeout(()=>ctrl.abort(),5000);
    var res=await fetch(API+'/api/tracks',{signal:ctrl.signal});
    if(res.ok){
      var data=await res.json();
      (data.tracks||data||[]).forEach(t=>{
        if(!TRACKS.find(x=>x.id===(t.id||t.file_id))){
          TRACKS.push({id:t.id||t.file_id,title:t.title||'\ubb34\uc81c',artist:t.artist||'',genre:t.genre||'etc',
            icon:'\ud83c\udfb5',pulse:Number(t.pulse||0),fileTL:9999,maxFileTL:9999,
            pricePerSec:Number(t.price_per_sec||t.pricePerSec||1),
            art:'linear-gradient(135deg,#7b61ff,#060610)',
            coverImage:t.cover_image||t.coverImage,url:t.stream_url||t.streamUrl||null});
        }
      });
      renderGrid();renderTrending();
    }
  }catch(e){console.log('D1 offline:',e.message);}
})();



</script>

<script>

// â”€â”€ í‘œì¤€ ì¸ì¦ íŒ¨ì¹˜ â”€â”€
function logout(){localStorage.removeItem('tl_user');localStorage.removeItem('auth_token');window.location.href='index.html';}
function updateNavbar(){
  var u=null; try{u=JSON.parse(localStorage.getItem('tl_user'));}catch(e){}
  var navAuth=document.getElementById('nav-auth');
  var navGuest=document.getElementById('nav-guest');
  var nbTl=document.getElementById('nb-tl');
  var nbTlc=document.getElementById('nb-tlc');
  var ddName=document.getElementById('dd-name');
  var avatar=document.getElementById('nav-avatar');
  if(u){
    if(navAuth) navAuth.classList.remove('hidden');
    if(navGuest) navGuest.classList.add('hidden');
    if(nbTl) nbTl.textContent=(u.tl||0).toLocaleString();
    if(nbTlc) nbTlc.textContent=parseFloat(u.tlc||0).toFixed(4);
    if(ddName) ddName.textContent=u.username||'User';
    if(avatar) avatar.textContent=(u.username||'U').charAt(0).toUpperCase();
  } else {
    if(navAuth) navAuth.classList.add('hidden');
    if(navGuest) navGuest.classList.remove('hidden');
  }
}
document.addEventListener('click',function(e){
  if(!e.target.closest('.avatar-wrap')) {
    var dd=document.getElementById('nav-dd');
    if(dd) dd.classList.add('hidden');
  }
});
document.addEventListener('DOMContentLoaded',function(){
  updateNavbar();
  if(typeof I18N!=='undefined'){ I18N.lang=I18N.detect(); I18N.renderSelector('lang-selector'); I18N.applyAll(); }
  if(typeof CURRENCY!=='undefined'){ CURRENCY.current=CURRENCY.detect(); CURRENCY.renderSelector('currency-selector'); CURRENCY.applyAll(); }
});

</script>

<script src="i18n.js"></script>
<script src="currency.js"></script>
<script src="tl-economy.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  if (typeof I18N !== 'undefined') { I18N.renderSelector('lang-selector'); }
  if (typeof CURRENCY !== 'undefined') { CURRENCY.renderSelector('currency-selector'); }
});
</script>
</body>
</html>