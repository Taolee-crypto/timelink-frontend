<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TimeLink v14.0 - íšŒì›ê°€ì… + ëª¨ë“  ê¸°ëŠ¥ ì™„ì „ ë³µì›</title>
    <style>
        /* ===== ì›ë³¸ ë””ìì¸ 100% ì™„ì „ ìœ ì§€ ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --warning: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --dark: #1a1a2e;
            --light: #f8f9fa;
            --shadow: 0 10px 40px rgba(0,0,0,0.1);
            --shadow-lg: 0 20px 60px rgba(0,0,0,0.2);
            --ton: linear-gradient(135deg, #0088CC 0%, #00A8E8 100%);
            --radio: linear-gradient(135deg, #1db954 0%, #1ed760 100%);
            --car: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--dark);
        }

        /* ===== ë¡œê·¸ì¸/ê°€ì… ===== */
        .auth-container {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .auth-box {
            background: white;
            padding: 50px;
            border-radius: 30px;
            box-shadow: var(--shadow-lg);
            max-width: 450px;
            width: 100%;
            animation: slideUp 0.6s ease-out;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .logo {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo h1 {
            background: var(--primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 10px;
        }

        .logo p {
            color: #666;
            font-size: 1.1rem;
        }

        .version-badge {
            background: var(--secondary);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 13px;
            font-weight: 600;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(245, 87, 108, 0.3);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: #333;
            font-weight: 600;
            font-size: 14px;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .btn {
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
            margin-top: 15px;
        }

        .btn-secondary:hover {
            background: #f8f9ff;
        }

        /* ===== ë©”ì¸ ì•± ===== */
        .app-container {
            display: none;
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
            animation: fadeIn 0.5s ease-in;
        }

        /* í—¤ë” */
        .app-header {
            background: white;
            padding: 25px 40px;
            border-radius: 25px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-left h1 {
            background: var(--primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2rem;
            font-weight: 800;
        }

        .header-right {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .balance-card {
            text-align: center;
            padding: 10px 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
        }

        .balance-card .label {
            font-size: 11px;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }

        .balance-card .amount {
            font-size: 24px;
            font-weight: 800;
            background: var(--primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .avatar-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 800;
            font-size: 20px;
        }

        .btn-logout {
            background: var(--secondary);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-logout:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(245, 87, 108, 0.3);
        }

        /* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ - ëª¨ë“  ê¸°ëŠ¥ ì™„ì „ í¬í•¨ */
        .tabs {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            overflow-x: auto;
            padding-bottom: 10px;
            flex-wrap: wrap;
        }

        .tab {
            background: white;
            padding: 18px 30px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: 700;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
            white-space: nowrap;
            font-size: 15px;
        }

        .tab:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .tab.active {
            background: var(--primary);
            color: white;
        }

        /* íƒ­ ì½˜í…ì¸  */
        .tab-content {
            display: none;
            animation: fadeIn 0.4s ease-in;
        }

        .tab-content.active {
            display: block;
        }

        /* ì¹´ë“œ */
        .card {
            background: white;
            padding: 40px;
            border-radius: 25px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
        }

        .card h2 {
            font-size: 1.8rem;
            margin-bottom: 25px;
            background: var(--primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* í†µê³„ ê·¸ë¦¬ë“œ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: var(--primary);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 50px rgba(0,0,0,0.15);
        }

        .stat-card .icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .stat-card .label {
            font-size: 13px;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }

        .stat-card .value {
            font-size: 2.5rem;
            font-weight: 800;
            background: var(--primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* ===== íŒŒì¼ ì—…ë¡œë“œ ===== */
        .upload-zone {
            border: 3px dashed #667eea;
            border-radius: 20px;
            padding: 60px 40px;
            text-align: center;
            background: linear-gradient(135deg, #f8f9ff 0%, #e8ecff 100%);
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 30px;
        }

        .upload-zone:hover {
            border-color: #764ba2;
            background: linear-gradient(135deg, #e8ecff 0%, #d8dcff 100%);
            transform: scale(1.02);
        }

        .upload-zone .icon {
            font-size: 5rem;
            margin-bottom: 20px;
        }

        .upload-zone h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #333;
        }

        .upload-zone p {
            color: #666;
            font-size: 14px;
        }

        /* íŒŒì¼ ëª©ë¡ */
        .file-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }

        .file-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
        }

        .file-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 50px rgba(0,0,0,0.15);
        }

        .file-thumbnail {
            height: 200px;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            color: white;
        }

        .file-info {
            padding: 25px;
        }

        .file-name {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: #333;
        }

        .file-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-size: 14px;
            color: #666;
        }

        .file-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .btn-play, .btn-charge, .btn-share {
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
        }

        .btn-play {
            background: var(--success);
        }

        .btn-charge {
            background: var(--warning);
        }

        .btn-share {
            background: var(--primary);
        }

        .btn-play:hover, .btn-charge:hover, .btn-share:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        /* ===== ê³µìœ  í”Œë ˆì´ìŠ¤ ===== */
        .share-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
        }

        .share-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .share-stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: var(--shadow);
        }

        .share-stat-value {
            font-size: 2rem;
            font-weight: 800;
            color: #667eea;
        }

        .share-filter {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 12px 24px;
            border: 2px solid #e0e0e0;
            border-radius: 30px;
            background: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-btn:hover {
            border-color: #667eea;
        }

        .filter-btn.active {
            background: var(--primary);
            color: white;
            border-color: transparent;
        }

        /* ===== ë¼ë””ì˜¤/ìƒì—…ë°©ì†¡ ===== */
        .radio-header {
            background: var(--radio);
            color: white;
            padding: 40px;
            border-radius: 25px;
            margin-bottom: 30px;
        }

        .commercial-header {
            background: var(--secondary);
            color: white;
            padding: 40px;
            border-radius: 25px;
            margin-bottom: 30px;
        }

        .radio-channel-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .channel-header {
            background: var(--radio);
            color: white;
            padding: 20px;
        }

        .channel-playlist {
            padding: 20px;
        }

        /* ===== ì°¨ëŸ‰ ë“±ë¡ ===== */
        .car-contribution-box {
            background: var(--car);
            color: white;
            padding: 40px;
            border-radius: 25px;
            margin-bottom: 30px;
        }

        /* ===== ê¸ˆ ë¦¬ì €ë¸Œ ===== */
        .gold-reserve-card {
            background: linear-gradient(135deg, #f7b731 0%, #ffda79 100%);
            padding: 40px;
            border-radius: 25px;
            color: white;
            margin-bottom: 30px;
        }

        /* ===== TON TLC ===== */
        .ton-card {
            background: var(--ton);
            color: white;
            padding: 40px;
            border-radius: 25px;
            margin-bottom: 30px;
        }

        .ton-badge {
            background: rgba(255,255,255,0.2);
            padding: 8px 20px;
            border-radius: 30px;
            display: inline-block;
        }

        /* ===== ì±„êµ´ ===== */
        .mining-limit-box {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            border-left: 8px solid #ff9800;
        }

        .mining-progress {
            width: 100%;
            height: 12px;
            background: #e0e0e0;
            border-radius: 6px;
            overflow: hidden;
            margin: 15px 0;
        }

        .mining-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ffd700, #ffa500);
            transition: width 0.3s ease;
        }

        /* ===== ì¶©ì „ ì˜µì…˜ ===== */
        .charge-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .charge-card {
            background: white;
            border: 3px solid #e0e0e0;
            border-radius: 20px;
            padding: 35px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .charge-card:hover {
            border-color: #667eea;
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.2);
        }

        .charge-card .icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .charge-card h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #333;
        }

        .charge-card .amount {
            font-size: 2rem;
            font-weight: 800;
            background: var(--success);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
        }

        .charge-card p {
            color: #666;
            font-size: 14px;
        }

        /* ===== ê´‘ê³  ëª¨ë‹¬ ===== */
        .ad-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease-in;
        }

        .ad-content {
            background: white;
            padding: 50px;
            border-radius: 30px;
            max-width: 600px;
            width: 90%;
            text-align: center;
            animation: slideUp 0.4s ease-out;
        }

        .ad-video {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white;
        }

        .ad-timer {
            font-size: 2rem;
            font-weight: 800;
            background: var(--primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
        }

        /* ===== í† ìŠ¤íŠ¸ ===== */
        .toast {
            position: fixed;
            top: 30px;
            right: 30px;
            background: white;
            padding: 20px 30px;
            border-radius: 15px;
            box-shadow: var(--shadow-lg);
            display: none;
            z-index: 3000;
            min-width: 350px;
            animation: slideIn 0.4s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateX(400px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .toast.success { border-left: 5px solid #4CAF50; }
        .toast.error { border-left: 5px solid #f44336; }
        .toast.warning { border-left: 5px solid #ff9800; }
        .toast.info { border-left: 5px solid #2196F3; }

        /* ===== ë°˜ì‘í˜• ===== */
        @media (max-width: 768px) {
            .app-header {
                flex-direction: column;
                gap: 20px;
            }

            .header-right {
                flex-direction: column;
                width: 100%;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .tabs {
                overflow-x: auto;
                flex-wrap: nowrap;
            }
            
            .share-stats {
                grid-template-columns: 1fr;
            }
            
            .share-filter {
                justify-content: center;
            }
        }
    </style>
</head>
<body>

    <!-- í† ìŠ¤íŠ¸ -->
    <div id="toast" class="toast"></div>

    <!-- ===== ë¡œê·¸ì¸/íšŒì›ê°€ì… ===== -->
    <div id="authContainer" class="auth-container">
        <div class="auth-box">
            <div class="logo">
                <h1>â° TimeLink</h1>
                <p>íšŒì›ê°€ì… ì¦‰ì‹œ 10,000 TL ì§€ê¸‰!</p>
            </div>
            <div class="version-badge">
                ğŸš€ v14.0 - íšŒì›ê°€ì… + ëª¨ë“  ê¸°ëŠ¥ ì™„ì „ ë³µì›!
            </div>
            
            <!-- íšŒì›ê°€ì… í¼ -->
            <div id="signupForm">
                <div class="form-group">
                    <label>ì‚¬ìš©ìëª…</label>
                    <input type="text" id="signupUsername" placeholder="ì˜ˆ: timelink_creator">
                </div>
                <div class="form-group">
                    <label>ì´ë©”ì¼</label>
                    <input type="email" id="signupEmail" placeholder="email@example.com">
                </div>
                <div class="form-group">
                    <label>ë¹„ë°€ë²ˆí˜¸</label>
                    <input type="password" id="signupPassword" placeholder="6ì ì´ìƒ">
                </div>
                <button class="btn btn-primary" onclick="signup()">ğŸš€ íšŒì›ê°€ì… (10,000 TL ì¦‰ì‹œ ì§€ê¸‰)</button>
                <button class="btn btn-secondary" onclick="showLogin()">ğŸ” ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”?</button>
            </div>
            
            <!-- ë¡œê·¸ì¸ í¼ -->
            <div id="loginForm" style="display: none;">
                <div class="form-group">
                    <label>ì´ë©”ì¼</label>
                    <input type="email" id="loginEmail" placeholder="email@example.com">
                </div>
                <div class="form-group">
                    <label>ë¹„ë°€ë²ˆí˜¸</label>
                    <input type="password" id="loginPassword" placeholder="ë¹„ë°€ë²ˆí˜¸">
                </div>
                <button class="btn btn-primary" onclick="login()">ğŸ” ë¡œê·¸ì¸</button>
                <button class="btn btn-secondary" onclick="showSignup()">ğŸ“ ê³„ì • ë§Œë“¤ê¸°</button>
            </div>
        </div>
    </div>

    <!-- ===== ë©”ì¸ ì•± - ëª¨ë“  ê¸°ëŠ¥ ì™„ì „ í¬í•¨! ===== -->
    <div id="appContainer" class="app-container">
        <!-- í—¤ë” -->
        <div class="app-header">
            <div class="header-left">
                <h1>â° TimeLink</h1>
            </div>
            <div class="header-right">
                <div class="balance-card">
                    <div class="label">ğŸ’° ë³´ìœ  TL</div>
                    <div class="amount" id="tlBalance">0</div>
                </div>
                <div class="balance-card">
                    <div class="label">ğŸª™ ë³´ìœ  TLC</div>
                    <div class="amount" id="tlcBalance">0.00</div>
                </div>
                <div class="balance-card">
                    <div class="label">ğŸ“Š ê¸°ì—¬ì§€ìˆ˜</div>
                    <div class="amount" id="contributionIndex">1.00</div>
                </div>
                <div class="balance-card">
                    <div class="label">â›ï¸ ì±„êµ´í•œë„</div>
                    <div class="amount" id="miningLimitHeader">0 TL</div>
                </div>
                <div class="user-profile">
                    <div class="avatar-circle" id="userAvatar">U</div>
                    <div>
                        <div style="font-weight: 700;" id="currentUsername">User</div>
                        <div style="font-size: 12px; color: #666;" id="userStatus">ì¼ë°˜ íšŒì›</div>
                    </div>
                </div>
                <button class="btn-logout" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
            </div>
        </div>

        <!-- ===== íƒ­ ë„¤ë¹„ê²Œì´ì…˜ - ëª¨ë“  ê¸°ëŠ¥ ì™„ì „ ë³µì›! ===== -->
        <div class="tabs">
            <div class="tab active" onclick="switchTab('dashboard')">ğŸ“Š ëŒ€ì‹œë³´ë“œ</div>
            <div class="tab" onclick="switchTab('charge')">ğŸ’° TL ì¶©ì „</div>
            <div class="tab" onclick="switchTab('upload')">ğŸ“¤ ì—…ë¡œë“œ</div>
            <div class="tab" onclick="switchTab('library')">ğŸµ ë¼ì´ë¸ŒëŸ¬ë¦¬</div>
            <div class="tab" onclick="switchTab('shareplace')">ğŸ”„ ê³µìœ  í”Œë ˆì´ìŠ¤</div>
            <div class="tab" onclick="switchTab('radio')">ğŸ“» ë¼ë””ì˜¤</div>
            <div class="tab" onclick="switchTab('commercial')">ğŸ“º ìƒì—…ë°©ì†¡</div>
            <div class="tab" onclick="switchTab('car')">ğŸš— ì°¨ëŸ‰</div>
            <div class="tab" onclick="switchTab('mining')">â›ï¸ ì±„êµ´</div>
            <div class="tab" onclick="switchTab('gold')">ğŸ† ê¸ˆë¦¬ì €ë¸Œ</div>
            <div class="tab" onclick="switchTab('ton')">â¬¡ TON TLC</div>
        </div>

        <!-- ===== 1. ëŒ€ì‹œë³´ë“œ ===== -->
        <div id="tabDashboard" class="tab-content active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="icon">ğŸ’°</div>
                    <div class="label">ë³´ìœ  TL</div>
                    <div class="value" id="dashTL">0</div>
                </div>
                <div class="stat-card">
                    <div class="icon">ğŸª™</div>
                    <div class="label">ë³´ìœ  TLC</div>
                    <div class="value" id="dashTLC">0.00</div>
                </div>
                <div class="stat-card">
                    <div class="icon">ğŸ“Š</div>
                    <div class="label">ê¸°ì—¬ì§€ìˆ˜</div>
                    <div class="value" id="dashIndex">1.00</div>
                </div>
                <div class="stat-card">
                    <div class="icon">â›ï¸</div>
                    <div class="label">ì±„êµ´ í•œë„</div>
                    <div class="value" id="dashMiningLimit">0 TL</div>
                </div>
            </div>

            <!-- ê²½ì œ êµ¬ì¡° ë¹„ì£¼ì–¼ë¼ì´ì € -->
            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 40px; border-radius: 25px; color: white; margin-bottom: 30px;">
                <h2 style="color: white; margin-bottom: 30px;">ğŸ”„ ìœ ê¸°ì  ì—°ê²° ì‹œìŠ¤í…œ</h2>
                <div style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 10px; text-align: center; align-items: center;">
                    <div>
                        <div style="font-size: 2rem;">ğŸ’°</div>
                        <div style="font-size: 0.9rem;">TL ì¶©ì „</div>
                        <div style="color: #ffd700;" id="flowTL">0 TL</div>
                    </div>
                    <div style="font-size: 1.5rem;">â†’</div>
                    <div>
                        <div style="font-size: 2rem;">ğŸ“Š</div>
                        <div style="font-size: 0.9rem;">ê¸°ì—¬ë„</div>
                        <div style="color: #ffd700;" id="flowContribution">0 pt</div>
                    </div>
                    <div style="font-size: 1.5rem;">â†’</div>
                    <div>
                        <div style="font-size: 2rem;">ğŸ“ˆ</div>
                        <div style="font-size: 0.9rem;">ê¸°ì—¬ì§€ìˆ˜</div>
                        <div style="color: #ffd700;" id="flowIndex">1.00x</div>
                    </div>
                    <div style="font-size: 1.5rem;">â†’</div>
                    <div>
                        <div style="font-size: 2rem;">â›ï¸</div>
                        <div style="font-size: 0.9rem;">TLC ì±„êµ´</div>
                        <div style="color: #ffd700;" id="flowTLC">0 TLC</div>
                    </div>
                </div>
            </div>

            <!-- í™œë™ ìš”ì•½ -->
            <div class="card">
                <h2>ğŸ“‹ ë‚´ í™œë™ ìš”ì•½</h2>
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px;">
                    <div style="text-align: center;">
                        <div style="color: #666; font-size: 13px;">ğŸ“º ê´‘ê³  ì‹œì²­</div>
                        <div style="font-size: 1.8rem; font-weight: 800; color: #667eea;" id="summaryAd">0íšŒ</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="color: #666; font-size: 13px;">ğŸ§ ì¼ë°˜ ì²­ì·¨</div>
                        <div style="font-size: 1.8rem; font-weight: 800; color: #1db954;" id="summaryListen">0ë¶„</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="color: #666; font-size: 13px;">ğŸš— ì°¨ëŸ‰ ì²­ì·¨</div>
                        <div style="font-size: 1.8rem; font-weight: 800; color: #3498db;" id="summaryDrive">0ë¶„</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="color: #666; font-size: 13px;">â›ï¸ ì±„êµ´</div>
                        <div style="font-size: 1.8rem; font-weight: 800; color: #ff9800;" id="summaryMining">0íšŒ</div>
                    </div>
                </div>
            </div>

            <!-- ê¸ˆ ë¦¬ì €ë¸Œ ìš”ì•½ -->
            <div class="gold-reserve-card" style="margin-bottom: 30px;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h2 style="color: white; margin-bottom: 15px;">ğŸ† ê¸ˆ ë‹´ë³´ ë¦¬ì €ë¸Œ</h2>
                        <p style="color: rgba(255,255,255,0.9);">í”Œë«í¼ ìˆ˜ìµì˜ 10%ë¡œ ê¸ˆ êµ¬ë§¤</p>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); padding: 15px 25px; border-radius: 20px;">
                        <div style="font-size: 14px; opacity: 0.9;">ì‹¤ì‹œê°„ ë‹´ë³´ìœ¨</div>
                        <div style="font-size: 2rem; font-weight: 800;" id="goldRatio">245%</div>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-top: 30px;">
                    <div><span style="opacity: 0.9;">ì´ ê¸ˆ</span><br><span style="font-size: 1.5rem; font-weight: 800;" id="goldAmount">10.24 g</span></div>
                    <div><span style="opacity: 0.9;">ê¸ˆ ê°€ì¹˜</span><br><span style="font-size: 1.5rem; font-weight: 800;" id="goldValue">$665</span></div>
                    <div><span style="opacity: 0.9;">í”Œë«í¼ ìˆ˜ìµ</span><br><span style="font-size: 1.5rem; font-weight: 800;" id="platformRevenue">$6,650</span></div>
                    <div><span style="opacity: 0.9;">TLCë‹¹ ê¸ˆ</span><br><span style="font-size: 1.5rem; font-weight: 800;" id="goldPerTLC">$0.024</span></div>
                </div>
            </div>
        </div>

        <!-- ===== 2. TL ì¶©ì „ ===== -->
        <div id="tabCharge" class="tab-content">
            <div class="card">
                <h2>ğŸ’° TL ì¶©ì „</h2>
                <p style="color: #666; margin-bottom: 30px;">
                    ğŸ“º ê´‘ê³  ì‹œì²­: 30ì´ˆ = 10 TL + ê¸°ì—¬ë„ 0.1pt<br>
                    ğŸ’³ ì§ì ‘ ì¶©ì „: 100 TLë‹¹ ê¸°ì—¬ë„ 1pt
                </p>
                <div class="charge-options">
                    <div class="charge-card" onclick="watchAd()">
                        <div class="icon">ğŸ“º</div>
                        <h3>ê´‘ê³  ì‹œì²­</h3>
                        <div class="amount" id="adReward">+10 TL</div>
                        <p>30ì´ˆ ê´‘ê³  ì‹œì²­<br>ê¸°ì—¬ë„ +0.1pt</p>
                    </div>
                    <div class="charge-card" onclick="chargeTL(1000)">
                        <div class="icon">ğŸ’³</div>
                        <h3>ì†Œì•¡ ì¶©ì „</h3>
                        <div class="amount">+1,000 TL</div>
                        <p>$1.00<br>ê¸°ì—¬ë„ +10pt</p>
                    </div>
                    <div class="charge-card" onclick="chargeTL(5000)">
                        <div class="icon">ğŸ</div>
                        <h3>í”„ë¦¬ë¯¸ì—„ íŒ©</h3>
                        <div class="amount">+5,000 TL</div>
                        <p>$4.00 (20% í• ì¸)<br>ê¸°ì—¬ë„ +50pt</p>
                    </div>
                    <div class="charge-card" onclick="chargeTL(10000)">
                        <div class="icon">ğŸ‘‘</div>
                        <h3>VIP íŒ¨í‚¤ì§€</h3>
                        <div class="amount">+10,000 TL</div>
                        <p>$7.50 (25% í• ì¸)<br>ê¸°ì—¬ë„ +100pt</p>
                    </div>
                </div>
                
                <!-- ì¶©ì „ íš¨ê³¼ ë¯¸ë¦¬ë³´ê¸° -->
                <div style="background: #f8f9fa; padding: 25px; border-radius: 15px; margin-top: 30px;">
                    <h3 style="margin-bottom: 20px;">ğŸ“Š ì¶©ì „ íš¨ê³¼</h3>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; text-align: center;">
                        <div>
                            <div style="color: #666;">í˜„ì¬ TL</div>
                            <div style="font-size: 1.8rem; font-weight: 800; color: #667eea;" id="currentTLForCharge">0 TL</div>
                        </div>
                        <div>
                            <div style="color: #666;">í˜„ì¬ ê¸°ì—¬ì§€ìˆ˜</div>
                            <div style="font-size: 1.8rem; font-weight: 800; color: #ff9800;" id="currentIndexForCharge">1.00</div>
                        </div>
                        <div>
                            <div style="color: #666;">ì±„êµ´ í•œë„</div>
                            <div style="font-size: 1.8rem; font-weight: 800; color: #10b981;" id="currentLimitForCharge">0 TL</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== 3. ì—…ë¡œë“œ ===== -->
        <div id="tabUpload" class="tab-content">
            <div class="card">
                <h2>ğŸ“¤ íŒŒì¼ ì—…ë¡œë“œ</h2>
                <div class="upload-zone" onclick="document.getElementById('fileInput').click()">
                    <div class="icon">â˜ï¸</div>
                    <h3>í´ë¦­í•˜ì—¬ íŒŒì¼ ì„ íƒ</h3>
                    <p>ìŒì•…, ë¹„ë””ì˜¤, ì´ë¯¸ì§€ (ìµœëŒ€ 100MB)</p>
                </div>
                <input type="file" id="fileInput" style="display: none;" accept="audio/*,video/*,image/*">
                
                <div id="uploadForm" style="display: none; margin-top: 30px;">
                    <div class="form-group">
                        <label>íŒŒì¼ ì œëª©</label>
                        <input type="text" id="fileTitle" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”">
                    </div>
                    <div class="form-group">
                        <label>ìˆ˜ìµ ë¶„ë°° ë°©ì‹ (ì±„êµ´ê¶Œ ê²°ì •)</label>
                        <select id="revenueShare">
                            <option value="73">7:3 ê³„ì•½ - ì±„êµ´ê¶Œ ì—†ìŒ</option>
                            <option value="55">5:5 ê³„ì•½ - ì±„êµ´ê¶Œ ìˆìŒ â›ï¸</option>
                        </select>
                        <p style="color: #666; font-size: 13px; margin-top: 10px;">
                            * 5:5 ê³„ì•½ìœ¼ë¡œ ì—…ë¡œë“œí•´ì•¼ ì±„êµ´ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤
                        </p>
                    </div>
                    <div class="form-group">
                        <label>ì´ˆê¸° TL ì¶©ì „ëŸ‰ (ì¬ìƒ ì‹œê°„)</label>
                        <input type="number" id="initialTL" value="1000" min="100" step="100">
                        <p style="color: #666; font-size: 13px; margin-top: 10px;">
                            1 TL = 1ì´ˆ ì¬ìƒ | ì—…ë¡œë“œ ì‹œ TL ì°¨ê°
                        </p>
                    </div>
                    <button class="btn btn-primary" onclick="uploadFile()">âœ¨ ì—…ë¡œë“œ ì™„ë£Œ</button>
                </div>
            </div>
        </div>

        <!-- ===== 4. ë¼ì´ë¸ŒëŸ¬ë¦¬ ===== -->
        <div id="tabLibrary" class="tab-content">
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                    <h2>ğŸµ ë‚´ ë¼ì´ë¸ŒëŸ¬ë¦¬</h2>
                    <div style="display: flex; gap: 15px;">
                        <span style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); padding: 8px 16px; border-radius: 30px; color: white; font-size: 13px; font-weight: 700;">5:5 = ì±„êµ´ê°€ëŠ¥</span>
                        <span style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); padding: 8px 16px; border-radius: 30px; color: white; font-size: 13px; font-weight: 700;">7:3 = ì±„êµ´ë¶ˆê°€</span>
                    </div>
                </div>
                <div id="fileList" class="file-list"></div>
                <div id="emptyLibrary" style="text-align: center; padding: 60px; color: #999; display: none;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">ğŸ“</div>
                    <h3>ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤</h3>
                    <button class="btn btn-primary" onclick="switchTab('upload')" style="margin-top: 20px;">ì²« ì—…ë¡œë“œí•˜ê¸°</button>
                </div>
            </div>
        </div>

        <!-- ===== 5. ê³µìœ  í”Œë ˆì´ìŠ¤ ===== -->
        <div id="tabShareplace" class="tab-content">
            <div class="share-header">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h2 style="color: white; margin-bottom: 15px;">ğŸ”„ ê³µìœ  í”Œë ˆì´ìŠ¤</h2>
                        <p style="color: rgba(255,255,255,0.9);">
                            ë‹¤ë¥¸ í¬ë¦¬ì—ì´í„°ê°€ ê³µìœ í•œ ìŒì•…ì„ ê°ìƒí•˜ê³  ê¸°ì—¬ë„ë¥¼ ì–»ìœ¼ì„¸ìš”!<br>
                            <strong>ğŸ§ 1ë¶„ ì²­ì·¨ = 5 TL ê¸°ì—¬ë„ ì ë¦½</strong>
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); padding: 15px 25px; border-radius: 30px;">
                        <span id="sharedCount">0</span>ê°œì˜ ê³µìœ  ìŒì•…
                    </div>
                </div>
            </div>

            <div class="share-stats">
                <div class="share-stat-card">
                    <div style="color: #666; margin-bottom: 10px;">ì „ì²´ ê³µìœ ê³¡</div>
                    <div class="share-stat-value" id="totalSharedCount">0</div>
                </div>
                <div class="share-stat-card">
                    <div style="color: #666; margin-bottom: 10px;">7:3 ê³„ì•½</div>
                    <div class="share-stat-value" id="shared73Count">0</div>
                </div>
                <div class="share-stat-card">
                    <div style="color: #666; margin-bottom: 10px;">5:5 ê³„ì•½</div>
                    <div class="share-stat-value" id="shared55Count">0</div>
                </div>
            </div>

            <div class="share-filter">
                <button class="filter-btn active" onclick="filterSharePlace('all')">ì „ì²´</button>
                <button class="filter-btn" onclick="filterSharePlace('73')">7:3 ê³„ì•½</button>
                <button class="filter-btn" onclick="filterSharePlace('55')">5:5 ê³„ì•½</button>
                <button class="filter-btn" onclick="filterSharePlace('mining')">ì±„êµ´ ê°€ëŠ¥</button>
            </div>

            <div id="sharedMusicList" class="file-list"></div>
            <div id="emptyShared" style="text-align: center; padding: 60px; color: #999; display: none;">
                <div style="font-size: 4rem; margin-bottom: 20px;">ğŸ”„</div>
                <h3>ì•„ì§ ê³µìœ ëœ ìŒì•…ì´ ì—†ìŠµë‹ˆë‹¤</h3>
                <p>ê°€ì¥ ë¨¼ì € ìŒì•…ì„ ê³µìœ í•´ë³´ì„¸ìš”!</p>
            </div>
        </div>

        <!-- ===== 6. ë¼ë””ì˜¤ ===== -->
        <div id="tabRadio" class="tab-content">
            <div class="radio-header">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h2 style="color: white; font-size: 2rem; margin-bottom: 10px;">ğŸ“» TimeLink Radio</h2>
                        <p style="color: rgba(255,255,255,0.9);">ê³µìœ  í”Œë ˆì´ìŠ¤ ìŒì•… 24ì‹œê°„ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°</p>
                        <p style="color: rgba(255,255,255,0.9); margin-top: 10px;">
                            <strong style="font-size: 1.5rem;">ğŸ§ 1ë¶„ = 5 TL ê¸°ì—¬ë„</strong>
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); padding: 15px 30px; border-radius: 40px;">
                        ğŸ”´ LIVE 24/7
                    </div>
                </div>
            </div>
            <div id="radioChannels" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px;"></div>
            
            <!-- ì˜¤ëŠ˜ ì²­ì·¨ í˜„í™© -->
            <div class="card" style="margin-top: 30px;">
                <h3>ğŸ¯ ì˜¤ëŠ˜ ë‚˜ì˜ ì²­ì·¨ í˜„í™©</h3>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 30px; margin-top: 20px;">
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 15px; text-align: center;">
                        <div style="color: #666;">ì¼ë°˜ ì²­ì·¨ ì‹œê°„</div>
                        <div style="font-size: 2.5rem; font-weight: 800; color: #1db954;" id="todayListenTime">0ë¶„</div>
                        <div style="color: #ff9800; margin-top: 10px;">íšë“ ê¸°ì—¬ë„: <span id="todayListenTL">0 TL</span></div>
                    </div>
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 15px; text-align: center;">
                        <div style="color: #666;">ì°¨ëŸ‰ ì²­ì·¨ ì‹œê°„</div>
                        <div style="font-size: 2.5rem; font-weight: 800; color: #3498db;" id="todayDriveTime">0ë¶„</div>
                        <div style="color: #ff9800; margin-top: 10px;">íšë“ ê¸°ì—¬ë„: <span id="todayDriveTL">0 TL</span></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== 7. ìƒì—…ë°©ì†¡ ===== -->
        <div id="tabCommercial" class="tab-content">
            <div class="commercial-header">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h2 style="color: white; font-size: 2rem; margin-bottom: 10px;">ğŸ“º TimeLink Commercial</h2>
                        <p style="color: rgba(255,255,255,0.9);">ì‚¬ì—…ì ë“±ë¡ í¬ë¦¬ì—ì´í„° ì „ìš©</p>
                        <p style="color: rgba(255,255,255,0.9); margin-top: 10px;">
                            <strong>ê´‘ê³  ìˆ˜ìµ ê³µìœ : í¬ë¦¬ì—ì´í„° 70% | í”Œë«í¼ 30%</strong>
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); padding: 15px 30px; border-radius: 40px;">
                        ğŸ’° AD SUPPORTED
                    </div>
                </div>
            </div>
            <div id="commercialChannels" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px;"></div>
            
            <!-- ì‚¬ì—…ì ì‹ ì²­ ì•ˆë‚´ -->
            <div class="card" style="text-align: center;">
                <h3>ì‚¬ì—…ì ë“±ë¡í•˜ê¸°</h3>
                <p style="color: #666; margin: 20px 0;">ìƒì—…ë°©ì†¡ì„ ì´ìš©í•˜ë ¤ë©´ ì‚¬ì—…ì ë“±ë¡ì´ í•„ìš”í•©ë‹ˆë‹¤</p>
                <button class="btn btn-primary" onclick="applyForBusiness()" style="width: auto; padding: 15px 40px;">ì‚¬ì—…ì ì‹ ì²­</button>
            </div>
        </div>

        <!-- ===== 8. ì°¨ëŸ‰ ===== -->
        <div id="tabCar" class="tab-content">
            <div class="car-contribution-box">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                    <div>
                        <h2 style="color: white; margin-bottom: 15px;">ğŸš— ì°¨ëŸ‰ ì²­ì·¨</h2>
                        <p style="color: rgba(255,255,255,0.9); font-size: 1.2rem;">
                            <strong style="font-size: 2.5rem;">1ë¶„ = 10 TL</strong> ê¸°ì—¬ë„ (ì¼ë°˜ì˜ 2ë°°!)
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 20px; text-align: center;">
                        <div style="font-size: 14px; opacity: 0.9;">ë‚´ ëˆ„ì  ìš´ì „ ì²­ì·¨</div>
                        <div style="font-size: 3rem; font-weight: 800;" id="userTotalDrivingTime">0ë¶„</div>
                        <div style="color: #ffd700; margin-top: 10px;">ì´ ê¸°ì—¬ë„ <span id="userTotalDrivingTL">0 TL</span></div>
                    </div>
                </div>
                
                <div style="background: rgba(255,255,255,0.1); padding: 30px; border-radius: 20px; margin-bottom: 30px;">
                    <h3 style="color: white; margin-bottom: 20px;">ğŸš˜ ì°¨ëŸ‰ ë“±ë¡</h3>
                    <div style="display: flex; gap: 15px;">
                        <input type="text" id="carModel" placeholder="ì°¨ëŸ‰ ëª¨ë¸ (ì˜ˆ: Tesla Model 3)" style="flex: 2; padding: 15px; border-radius: 10px; border: none;">
                        <input type="text" id="carPlate" placeholder="ë²ˆí˜¸íŒ" style="flex: 1; padding: 15px; border-radius: 10px; border: none;">
                        <button class="btn btn-primary" onclick="registerCar()" style="background: white; color: #3498db; margin: 0; width: auto; padding: 15px 30px;">ğŸš— ë“±ë¡</button>
                    </div>
                    <div id="carList" style="margin-top: 20px; color: white;"></div>
                </div>
                
                <div style="display: flex; gap: 20px;">
                    <button class="btn btn-primary" onclick="addDrivingMinutes(10)" style="background: white; color: #3498db; flex: 1; padding: 20px; font-size: 1.2rem;">
                        ğŸš— +10ë¶„ (100 TL)
                    </button>
                    <button class="btn btn-primary" onclick="addDrivingMinutes(30)" style="background: white; color: #3498db; flex: 1; padding: 20px; font-size: 1.2rem;">
                        ğŸš— +30ë¶„ (300 TL)
                    </button>
                    <button class="btn btn-primary" onclick="addDrivingMinutes(60)" style="background: white; color: #3498db; flex: 1; padding: 20px; font-size: 1.2rem;">
                        ğŸš— +60ë¶„ (600 TL)
                    </button>
                </div>
            </div>
        </div>

        <!-- ===== 9. ì±„êµ´ ===== -->
        <div id="tabMining" class="tab-content">
            <div class="card">
                <h2>â›ï¸ TLC ì±„êµ´</h2>
                
                <!-- ê¸°ì—¬ì§€ìˆ˜ í˜„í™© -->
                <div style="background: linear-gradient(135deg, #ffd700 0%, #ffa500 100%); padding: 30px; border-radius: 20px; color: white; margin-bottom: 30px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="font-size: 1.2rem; margin-bottom: 10px;">ğŸ¯ ë‚´ ê¸°ì—¬ì§€ìˆ˜</div>
                            <div style="font-size: 3.5rem; font-weight: 800;" id="miningIndexDisplay">1.00</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 1.2rem; margin-bottom: 10px;">ì±„êµ´ ê³µì‹</div>
                            <div style="font-size: 1.3rem; font-weight: 700;">TLC = ì±„êµ´TL Ã— 10% Ã— ê¸°ì—¬ì§€ìˆ˜</div>
                            <div style="font-size: 1rem; margin-top: 10px; opacity: 0.9;">
                                ê¸°ì—¬ì§€ìˆ˜ê°€ ë†’ì„ìˆ˜ë¡ ë” ë§ì€ TLC!
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ì±„êµ´ í•œë„ ì •ë³´ -->
                <div class="mining-limit-box">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="font-weight: 700; font-size: 1.2rem; margin-bottom: 10px;">âš ï¸ ì±„êµ´ í•œë„: ë³´ìœ  TLì˜ 50%</div>
                            <div style="font-size: 2rem; font-weight: 800; color: #ff9800;" id="miningLimitAmount">0 / 0 TL</div>
                        </div>
                        <div>
                            <div style="color: #666; margin-bottom: 5px;">í˜„ì¬ ì±„êµ´ ê°€ëŠ¥ TL</div>
                            <div style="font-size: 2rem; font-weight: 800; color: #667eea;" id="miningAvailable">0 TL</div>
                        </div>
                    </div>
                    <div class="mining-progress">
                        <div class="mining-progress-fill" id="miningProgressFill" style="width: 0%;"></div>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-top: 15px; color: #666;">
                        <span>ë³´ìœ  TL: <strong id="miningCurrentTL">0 TL</strong></span>
                        <span>ì±„êµ´ í•œë„: <strong id="miningMaxTL">0 TL</strong></span>
                    </div>
                </div>

                <!-- ì±„êµ´ ìê²© í™•ì¸ -->
                <div id="miningPermissionCheck" style="background: #fff3cd; padding: 20px; border-radius: 15px; margin: 30px 0;">
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span style="font-size: 2rem;">â›ï¸</span>
                        <div>
                            <span style="font-weight: 700; color: #856404;" id="miningPermissionMessage">ì±„êµ´ê¶Œì„ í™•ì¸í•˜ëŠ” ì¤‘...</span>
                            <p style="color: #856404; font-size: 14px; margin-top: 5px;" id="miningPermissionDetail">
                                * 5:5 ê³„ì•½ìœ¼ë¡œ ì—…ë¡œë“œí•œ ìŒì•…ì´ ìˆì–´ì•¼ ì±„êµ´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
                            </p>
                        </div>
                    </div>
                </div>

                <!-- ì±„êµ´ ì…ë ¥ í¼ -->
                <div style="margin-top: 30px;">
                    <div class="form-group">
                        <label>ì±„êµ´í•  TL ì–‘ (ìµœëŒ€ <span id="maxMiningLabel">0</span> TL)</label>
                        <input type="number" id="miningAmount" placeholder="500" min="1" style="font-size: 18px; padding: 20px; width: 100%;">
                    </div>

                    <!-- ì±„êµ´ ë¯¸ë¦¬ë³´ê¸° -->
                    <div style="background: #f8f9fa; padding: 30px; border-radius: 20px; margin: 20px 0;">
                        <h3 style="margin-bottom: 20px;">ğŸ“Š ì±„êµ´ ì˜ˆìƒëŸ‰ (ì‹¤ì‹œê°„ ê³„ì‚°)</h3>
                        
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 30px;">
                            <div style="text-align: center;">
                                <div style="color: #666; margin-bottom: 10px;">íˆ¬ì… TL</div>
                                <div style="font-size: 2rem; font-weight: 800; color: #667eea;" id="previewInput">0 TL</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="color: #666; margin-bottom: 10px;">ë‚´ ê¸°ì—¬ì§€ìˆ˜</div>
                                <div style="font-size: 2rem; font-weight: 800; color: #ff9800;" id="previewIndex">1.00x</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="color: #666; margin-bottom: 10px;">íšë“ TLC</div>
                                <div style="font-size: 2rem; font-weight: 800; color: #10b981;" id="previewOutput">0 TLC</div>
                            </div>
                        </div>
                        
                        <!-- ê¸°ì—¬ì§€ìˆ˜ ë¹„êµ -->
                        <div style="background: #e8f5e9; padding: 20px; border-radius: 15px;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <span style="font-weight: 700;">ğŸ¯ ê¸°ì—¬ì§€ìˆ˜ ë¹„êµ</span>
                                    <p style="color: #666; margin-top: 10px; font-size: 14px;">
                                        ê°™ì€ 500 TLì„ ì±„êµ´í•´ë„ ê¸°ì—¬ì§€ìˆ˜ì— ë”°ë¼ TLCê°€ ë‹¤ë¦…ë‹ˆë‹¤
                                    </p>
                                </div>
                                <div style="display: flex; gap: 30px;">
                                    <div style="text-align: center;">
                                        <div style="color: #666;">ê¸°ì—¬ì§€ìˆ˜ 1.0</div>
                                        <div style="font-size: 1.5rem; font-weight: 800; color: #999;" id="baseTLC">50 TLC</div>
                                    </div>
                                    <div style="text-align: center;">
                                        <div style="color: #ff9800;">ë‚´ ê¸°ì—¬ì§€ìˆ˜</div>
                                        <div style="font-size: 1.8rem; font-weight: 800; color: #ff9800;" id="userTLC">50 TLC</div>
                                    </div>
                                    <div style="text-align: center;">
                                        <div style="color: #10b981;">ì¶”ê°€ íšë“</div>
                                        <div style="font-size: 1.5rem; font-weight: 800; color: #10b981;" id="bonusTLC">0 TLC</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <button class="btn btn-primary" onclick="executeMining()" style="margin-top: 20px; padding: 20px; font-size: 1.2rem; width: 100%;">
                        â›ï¸ TLC ì±„êµ´ ì‹¤í–‰
                    </button>
                </div>
            </div>
        </div>

        <!-- ===== 10. ê¸ˆ ë¦¬ì €ë¸Œ ===== -->
        <div id="tabGold" class="tab-content">
            <div class="gold-reserve-card">
                <h2 style="color: white;">ğŸ† ê¸ˆ ë‹´ë³´ ë¦¬ì €ë¸Œ ì‹œìŠ¤í…œ</h2>
                <p style="color: rgba(255,255,255,0.95); font-size: 1.2rem; margin-top: 20px;">
                    í”Œë«í¼ ìˆ˜ìµì˜ <strong style="font-size: 2rem;">10%</strong>ë¥¼ ì‹¤ë¬¼ ê¸ˆìœ¼ë¡œ êµ¬ë§¤í•˜ì—¬ ì˜êµ¬ ë³´ê´€
                </p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="icon">ğŸ†</div>
                    <div class="label">ì´ ê¸ˆ ë³´ìœ ëŸ‰</div>
                    <div class="value" id="goldDetailAmount">10.24 g</div>
                </div>
                <div class="stat-card">
                    <div class="icon">ğŸ’µ</div>
                    <div class="label">ê¸ˆ ê°€ì¹˜ (USD)</div>
                    <div class="value" id="goldDetailValue">$665</div>
                </div>
                <div class="stat-card">
                    <div class="icon">ğŸ“ˆ</div>
                    <div class="label">ê¸ˆ ì‹œì„¸</div>
                    <div class="value" id="goldDetailPrice">$65/g</div>
                </div>
                <div class="stat-card">
                    <div class="icon">ğŸ”’</div>
                    <div class="label">ë‹´ë³´ ë¹„ìœ¨</div>
                    <div class="value" id="goldDetailRatio">245%</div>
                </div>
            </div>
            
            <div class="card">
                <h2>ğŸ“Š í”Œë«í¼ ìˆ˜ìµ í˜„í™©</h2>
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 30px; margin-top: 30px;">
                    <div style="text-align: center;">
                        <div style="color: #666; margin-bottom: 10px;">ì´ í”Œë«í¼ ìˆ˜ìµ</div>
                        <div style="font-size: 2rem; font-weight: 800; color: #667eea;" id="platformTotalRevenue">$6,650</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="color: #666; margin-bottom: 10px;">ê¸ˆ íˆ¬ì (10%)</div>
                        <div style="font-size: 2rem; font-weight: 800; color: #f59e0b;" id="platformGoldInvestment">$665</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="color: #666; margin-bottom: 10px;">7:3 ìˆ˜ìµ</div>
                        <div style="font-size: 2rem; font-weight: 800; color: #9b59b6;" id="platformRevenue73">$3,450</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="color: #666; margin-bottom: 10px;">5:5 ìˆ˜ìµ</div>
                        <div style="font-size: 2rem; font-weight: 800; color: #3498db;" id="platformRevenue55">$2,535</div>
                    </div>
                </div>
                
                <!-- ê¸ˆ êµ¬ë§¤ ë‚´ì—­ -->
                <h3 style="margin-top: 50px; margin-bottom: 20px;">ğŸ“œ ìµœê·¼ ê¸ˆ êµ¬ë§¤ ë‚´ì—­</h3>
                <div id="goldTransactionList" style="max-height: 300px; overflow-y: auto;">
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin-bottom: 10px;">
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: #666;">2024.03.15 14:23</span>
                            <span style="color: #f59e0b; font-weight: 700;">+0.15g</span>
                        </div>
                        <div style="font-size: 13px; color: #999; margin-top: 5px;">$9.75 | $65.00/g</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== 11. TON TLC ===== -->
        <div id="tabTon" class="tab-content">
            <div class="ton-card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                    <div>
                        <h2 style="color: white; margin-bottom: 15px;">â¬¡ TON TLC Coin</h2>
                        <p style="color: rgba(255,255,255,0.9);">TON ë¸”ë¡ì²´ì¸ ê¸°ë°˜ TLC ì½”ì¸</p>
                    </div>
                    <span class="ton-badge">TON Testnet</span>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 30px;">
                    <div style="background: rgba(255,255,255,0.1); padding: 30px; border-radius: 20px;">
                        <div style="font-size: 14px; opacity: 0.9; margin-bottom: 10px;">ë‚´ TLC ì”ì•¡</div>
                        <div style="font-size: 3rem; font-weight: 800;" id="tonTLCBalance">0.00</div>
                        <div style="margin-top: 20px; color: rgba(255,255,255,0.8);">â‰ˆ $0.00 USD</div>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 30px; border-radius: 20px;">
                        <div style="font-size: 14px; opacity: 0.9; margin-bottom: 10px;">TON ì§€ê°‘</div>
                        <div style="font-size: 1rem; font-family: monospace; background: rgba(0,0,0,0.2); padding: 10px; border-radius: 10px;" id="tonWalletAddress">
                            ì—°ê²°ë˜ì§€ ì•ŠìŒ
                        </div>
                        <button class="btn btn-primary" onclick="connectWallet()" style="margin-top: 20px; background: white; color: #0088CC; width: 100%;">
                            ğŸ”— TON ì§€ê°‘ ì—°ê²°
                        </button>
                    </div>
                </div>
                
                <!-- TLC ì „ì†¡ ê¸°ëŠ¥ -->
                <div style="margin-top: 40px; background: rgba(255,255,255,0.1); padding: 30px; border-radius: 20px;">
                    <h3 style="color: white; margin-bottom: 20px;">â¬¡ TLC ì „ì†¡</h3>
                    <div style="display: grid; grid-template-columns: 3fr 1fr 1fr; gap: 15px;">
                        <input type="text" id="sendAddress" placeholder="TON ì§€ê°‘ ì£¼ì†Œ" style="padding: 15px; border-radius: 10px; border: none;">
                        <input type="number" id="sendAmount" placeholder="ìˆ˜ëŸ‰" style="padding: 15px; border-radius: 10px; border: none;">
                        <button class="btn btn-primary" onclick="sendTLC()" style="background: white; color: #0088CC; margin: 0;">ì „ì†¡</button>
                    </div>
                </div>
            </div>
            
            <!-- íŠ¸ëœì­ì…˜ ë‚´ì—­ -->
            <div class="card">
                <h3>ğŸ“‹ ìµœê·¼ íŠ¸ëœì­ì…˜</h3>
                <div id="tonTransactionList" style="margin-top: 20px;">
                    <p style="text-align: center; color: #999; padding: 40px;">íŠ¸ëœì­ì…˜ì´ ì—†ìŠµë‹ˆë‹¤</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ê´‘ê³  ëª¨ë‹¬ -->
    <div id="adModal" class="ad-modal">
        <div class="ad-content">
            <h2 style="margin-bottom: 30px;">ğŸ“º ê´‘ê³  ì‹œì²­ ì¤‘...</h2>
            <div class="ad-video">ğŸ¬</div>
            <div class="ad-timer" id="adTimer">30ì´ˆ</div>
            <p style="color: #666; margin-top: 20px;">ê´‘ê³  ì¢…ë£Œ ì‹œ <strong style="color: #667eea;">10 TL + ê¸°ì—¬ë„ 0.1pt</strong> ì§€ê¸‰</p>
            <button class="btn btn-secondary" onclick="closeAdModal()" style="margin-top: 20px;">ì·¨ì†Œ</button>
        </div>
    </div>

    <script>
        // ============================================================================
        // TimeLink v14.0 - íšŒì›ê°€ì… + ëª¨ë“  ê¸°ëŠ¥ ì™„ì „ ë³µì›! (ì§„ì§œ ìµœì¢…)
        // ============================================================================

        // ===== ì „ì—­ ë³€ìˆ˜ =====
        let users = JSON.parse(localStorage.getItem('timelink_users_v14')) || [];
        let files = JSON.parse(localStorage.getItem('timelink_files_v14')) || [];
        let sharedFiles = JSON.parse(localStorage.getItem('timelink_shared_v14')) || [];
        let goldReserve = JSON.parse(localStorage.getItem('timelink_gold_v14')) || {
            totalGold: 10.24,
            goldPrice: 65,
            totalValue: 665.6,
            collateralRatio: 245,
            perTLC: 0.024,
            platformRevenue: 6650,
            goldInvestment: 665,
            revenue73: 3450,
            revenue55: 2535,
            transactions: []
        };
        let tonTransactions = JSON.parse(localStorage.getItem('timelink_ton_v14')) || [];
        
        let currentUser = null;
        let adInterval = null;
        let currentFilter = 'all';

        // ===== ğŸ”¥ğŸ”¥ğŸ”¥ íšŒì›ê°€ì… - ì¦‰ì‹œ 10,000TL, ëª¨ë“  ê¸°ëŠ¥ ì—°ê²°! =====
        function signup() {
            console.log('===== íšŒì›ê°€ì… ì‹œì‘ =====');
            
            const username = document.getElementById('signupUsername').value.trim();
            const email = document.getElementById('signupEmail').value.trim();
            const password = document.getElementById('signupPassword').value.trim();

            if (!username || !email || !password) {
                showToast('ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”', 'error');
                return;
            }

            if (password.length < 6) {
                showToast('ë¹„ë°€ë²ˆí˜¸ëŠ” 6ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤', 'error');
                return;
            }

            if (users.find(u => u.email === email)) {
                showToast('ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì´ë©”ì¼ì…ë‹ˆë‹¤', 'error');
                return;
            }

            // ìƒˆ ì‚¬ìš©ì ìƒì„± - 10,000 TL ì§€ê¸‰!
            const newUser = {
                id: 'user_' + Date.now(),
                username: username,
                email: email,
                password: password,
                tlBalance: 10000,
                tlcBalance: 0,
                totalChargedTL: 10000,
                listenMinutes: 0,
                drivingMinutes: 0,
                adWatchCount: 0,
                miningCount: 0,
                contributionTL: 100,
                contributionIndex: 1.10,
                hasMiningRight: false,
                cars: [],
                uploadedFiles: [],
                createdAt: new Date().toISOString(),
                lastLogin: new Date().toISOString()
            };

            users.push(newUser);
            localStorage.setItem('timelink_users_v14', JSON.stringify(users));
            
            console.log('íšŒì›ê°€ì… ì„±ê³µ!', newUser);
            
            // í˜„ì¬ ì‚¬ìš©ì ì„¤ì •
            currentUser = newUser;
            
            // ì•± í™”ë©´ ì „í™˜
            document.getElementById('authContainer').style.display = 'none';
            document.getElementById('appContainer').style.display = 'block';
            
            // UI ì¦‰ì‹œ ì—…ë°ì´íŠ¸
            updateAllUI();
            
            // ë¼ë””ì˜¤/ë°©ì†¡ ì±„ë„ ì´ˆê¸°í™”
            initRadioChannels();
            initCommercialChannels();
            
            // ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ
            loadLibrary();
            
            // ê³µìœ  í”Œë ˆì´ìŠ¤ ë¡œë“œ
            loadSharedMusic();
            
            showToast('ğŸ‰ íšŒì›ê°€ì… ì„±ê³µ! 10,000 TLì´ ì§€ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
        }

        // ===== ë¡œê·¸ì¸ =====
        function login() {
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value.trim();

            const user = users.find(u => u.email === email && u.password === password);

            if (!user) {
                showToast('ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤', 'error');
                return;
            }

            user.lastLogin = new Date().toISOString();
            localStorage.setItem('timelink_users_v14', JSON.stringify(users));
            
            currentUser = user;
            
            document.getElementById('authContainer').style.display = 'none';
            document.getElementById('appContainer').style.display = 'block';
            
            updateAllUI();
            initRadioChannels();
            initCommercialChannels();
            loadLibrary();
            loadSharedMusic();
            checkMiningPermission();
            
            showToast(`ğŸ” í™˜ì˜í•©ë‹ˆë‹¤, ${user.username}ë‹˜!`, 'success');
        }

        // ===== ë¡œê·¸ì•„ì›ƒ =====
        function logout() {
            currentUser = null;
            document.getElementById('authContainer').style.display = 'flex';
            document.getElementById('appContainer').style.display = 'none';
            showToast('ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤', 'info');
        }

        // ===== ì „ì²´ UI ì—…ë°ì´íŠ¸ =====
        function updateAllUI() {
            if (!currentUser) return;
            
            // í—¤ë” ì—…ë°ì´íŠ¸
            document.getElementById('currentUsername').textContent = currentUser.username;
            document.getElementById('userAvatar').textContent = currentUser.username.charAt(0).toUpperCase();
            
            document.getElementById('tlBalance').textContent = currentUser.tlBalance.toLocaleString();
            document.getElementById('tlcBalance').textContent = currentUser.tlcBalance.toFixed(2);
            document.getElementById('contributionIndex').textContent = currentUser.contributionIndex.toFixed(2);
            
            const maxMining = Math.floor(currentUser.tlBalance * 0.5);
            document.getElementById('miningLimitHeader').textContent = maxMining + ' TL';
            
            // ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸
            document.getElementById('dashTL').textContent = currentUser.tlBalance.toLocaleString();
            document.getElementById('dashTLC').textContent = currentUser.tlcBalance.toFixed(2);
            document.getElementById('dashIndex').textContent = currentUser.contributionIndex.toFixed(2);
            document.getElementById('dashMiningLimit').textContent = maxMining + ' TL';
            
            // í”Œë¡œìš° ì°¨íŠ¸ ì—…ë°ì´íŠ¸
            document.getElementById('flowTL').textContent = currentUser.tlBalance.toLocaleString() + ' TL';
            document.getElementById('flowContribution').textContent = (currentUser.contributionTL || 0) + ' pt';
            document.getElementById('flowIndex').textContent = currentUser.contributionIndex.toFixed(2) + 'x';
            document.getElementById('flowTLC').textContent = currentUser.tlcBalance.toFixed(2) + ' TLC';
            
            // í™œë™ ìš”ì•½ ì—…ë°ì´íŠ¸
            document.getElementById('summaryAd').textContent = (currentUser.adWatchCount || 0) + 'íšŒ';
            document.getElementById('summaryListen').textContent = (currentUser.listenMinutes || 0) + 'ë¶„';
            document.getElementById('summaryDrive').textContent = (currentUser.drivingMinutes || 0) + 'ë¶„';
            document.getElementById('summaryMining').textContent = (currentUser.miningCount || 0) + 'íšŒ';
            
            // ì¶©ì „ íƒ­ ì—…ë°ì´íŠ¸
            document.getElementById('currentTLForCharge').textContent = currentUser.tlBalance.toLocaleString() + ' TL';
            document.getElementById('currentIndexForCharge').textContent = currentUser.contributionIndex.toFixed(2);
            document.getElementById('currentLimitForCharge').textContent = maxMining + ' TL';
            
            // ì±„êµ´ íƒ­ ì—…ë°ì´íŠ¸
            document.getElementById('miningIndexDisplay').textContent = currentUser.contributionIndex.toFixed(2);
            document.getElementById('miningLimitAmount').textContent = `${maxMining} / ${currentUser.tlBalance} TL`;
            document.getElementById('miningAvailable').textContent = maxMining + ' TL';
            document.getElementById('maxMiningLabel').textContent = maxMining;
            document.getElementById('miningCurrentTL').textContent = currentUser.tlBalance.toLocaleString() + ' TL';
            document.getElementById('miningMaxTL').textContent = maxMining + ' TL';
            
            const miningPercent = currentUser.tlBalance > 0 ? 50 : 0;
            document.getElementById('miningProgressFill').style.width = miningPercent + '%';
            
            // ì°¨ëŸ‰ íƒ­ ì—…ë°ì´íŠ¸
            document.getElementById('userTotalDrivingTime').textContent = (currentUser.drivingMinutes || 0) + 'ë¶„';
            document.getElementById('userTotalDrivingTL').textContent = ((currentUser.drivingMinutes || 0) * 10) + ' TL';
            
            // ë¼ë””ì˜¤ íƒ­ ì—…ë°ì´íŠ¸
            document.getElementById('todayListenTime').textContent = (currentUser.listenMinutes || 0) + 'ë¶„';
            document.getElementById('todayListenTL').textContent = ((currentUser.listenMinutes || 0) * 5) + ' TL';
            document.getElementById('todayDriveTime').textContent = (currentUser.drivingMinutes || 0) + 'ë¶„';
            document.getElementById('todayDriveTL').textContent = ((currentUser.drivingMinutes || 0) * 10) + ' TL';
            
            // TON íƒ­ ì—…ë°ì´íŠ¸
            document.getElementById('tonTLCBalance').textContent = currentUser.tlcBalance.toFixed(2);
            
            // ì‚¬ìš©ì ìƒíƒœ ì—…ë°ì´íŠ¸
            if (currentUser.cars && currentUser.cars.length > 0) {
                document.getElementById('userStatus').innerHTML = 'ğŸš— ì°¨ëŸ‰ ë“±ë¡ë¨';
                document.getElementById('userStatus').style.color = '#3498db';
            } else {
                document.getElementById('userStatus').innerHTML = 'ì¼ë°˜ íšŒì›';
                document.getElementById('userStatus').style.color = '#666';
            }
            
            // ì°¨ëŸ‰ ëª©ë¡ ì—…ë°ì´íŠ¸
            updateCarList();
            
            // ê¸ˆ ë¦¬ì €ë¸Œ ì—…ë°ì´íŠ¸
            updateGoldReserve();
        }

        // ===== ê¸°ì—¬ë„ ì—…ë°ì´íŠ¸ =====
        function updateContribution() {
            if (!currentUser) return;
            
            const chargeContribution = Math.floor(currentUser.totalChargedTL / 100);
            const listenContribution = (currentUser.listenMinutes || 0) * 5;
            const drivingContribution = (currentUser.drivingMinutes || 0) * 10;
            
            currentUser.contributionTL = chargeContribution + listenContribution + drivingContribution;
            currentUser.contributionIndex = 1 + (currentUser.contributionTL / 1000);
            currentUser.contributionIndex = Math.round(currentUser.contributionIndex * 100) / 100;
            
            localStorage.setItem('timelink_users_v14', JSON.stringify(users));
            updateAllUI();
        }

        // ===== ê´‘ê³  ì‹œì²­ =====
        function watchAd() {
            if (!currentUser) return;
            
            document.getElementById('adModal').style.display = 'flex';
            let seconds = 30;
            document.getElementById('adTimer').textContent = seconds + 'ì´ˆ';
            
            adInterval = setInterval(() => {
                seconds--;
                document.getElementById('adTimer').textContent = seconds + 'ì´ˆ';
                
                if (seconds <= 0) {
                    clearInterval(adInterval);
                    
                    currentUser.tlBalance += 10;
                    currentUser.totalChargedTL += 10;
                    currentUser.adWatchCount = (currentUser.adWatchCount || 0) + 1;
                    
                    updateContribution();
                    
                    document.getElementById('adModal').style.display = 'none';
                    showToast('âœ… 10 TL + ê¸°ì—¬ë„ 0.1pt ì§€ê¸‰ ì™„ë£Œ!', 'success');
                }
            }, 1000);
        }

        // ===== TL ì¶©ì „ =====
        function chargeTL(amount) {
            if (!currentUser) return;
            
            currentUser.tlBalance += amount;
            currentUser.totalChargedTL += amount;
            
            updateContribution();
            showToast(`âœ… ${amount.toLocaleString()} TL ì¶©ì „ ì™„ë£Œ! (ê¸°ì—¬ë„ +${amount/100}pt)`, 'success');
        }

        // ===== íŒŒì¼ ì—…ë¡œë“œ =====
        let selectedFile = null;
        
        document.getElementById('fileInput')?.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;
            
            selectedFile = file;
            document.getElementById('uploadForm').style.display = 'block';
            document.getElementById('fileTitle').value = file.name.replace(/\.[^/.]+$/, "");
        });

        function uploadFile() {
            if (!selectedFile) {
                showToast('íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”', 'error');
                return;
            }
            
            if (!currentUser) return;
            
            const title = document.getElementById('fileTitle').value;
            const revenueShare = document.getElementById('revenueShare').value;
            const initialTL = parseInt(document.getElementById('initialTL').value) || 1000;
            
            if (!title) {
                showToast('íŒŒì¼ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”', 'error');
                return;
            }
            
            if (initialTL > currentUser.tlBalance) {
                showToast('TLì´ ë¶€ì¡±í•©ë‹ˆë‹¤', 'error');
                return;
            }
            
            currentUser.tlBalance -= initialTL;
            
            const newFile = {
                id: 'file_' + Date.now(),
                title: title,
                fileName: selectedFile.name,
                revenueShare: revenueShare,
                miningAllowed: revenueShare === '55',
                remainingTL: initialTL,
                totalTL: initialTL,
                creatorId: currentUser.id,
                creatorName: currentUser.username,
                uploadedAt: new Date().toISOString()
            };
            
            files.push(newFile);
            localStorage.setItem('timelink_files_v14', JSON.stringify(files));
            
            currentUser.uploadedFiles = (currentUser.uploadedFiles || 0) + 1;
            localStorage.setItem('timelink_users_v14', JSON.stringify(users));
            
            showToast('âœ… ì—…ë¡œë“œ ì™„ë£Œ!', 'success');
            
            updateAllUI();
            loadLibrary();
            checkMiningPermission();
            
            document.getElementById('uploadForm').style.display = 'none';
            selectedFile = null;
        }

        // ===== ì±„êµ´ê¶Œ í™•ì¸ =====
        function checkMiningPermission() {
            if (!currentUser) return false;
            
            const has55Contract = files.some(f => f.creatorId === currentUser.id && f.revenueShare === '55');
            
            currentUser.hasMiningRight = has55Contract;
            localStorage.setItem('timelink_users_v14', JSON.stringify(users));
            
            const permissionMessage = document.getElementById('miningPermissionMessage');
            const permissionDetail = document.getElementById('miningPermissionDetail');
            
            if (permissionMessage) {
                if (has55Contract) {
                    permissionMessage.innerHTML = 'âœ… ì±„êµ´ê¶Œì´ ìˆìŠµë‹ˆë‹¤! 5:5 ê³„ì•½ íŒŒì¼ ë³´ìœ ì¤‘';
                    permissionMessage.style.color = '#10b981';
                    if (permissionDetail) {
                        permissionDetail.innerHTML = 'âœ“ 5:5 ê³„ì•½ íŒŒì¼ ë³´ìœ  - ì±„êµ´ ê°€ëŠ¥';
                        permissionDetail.style.color = '#10b981';
                    }
                } else {
                    permissionMessage.innerHTML = 'â›” ì±„êµ´ê¶Œì´ ì—†ìŠµë‹ˆë‹¤';
                    permissionMessage.style.color = '#856404';
                    if (permissionDetail) {
                        permissionDetail.innerHTML = '* 5:5 ê³„ì•½ìœ¼ë¡œ ì—…ë¡œë“œí•œ ìŒì•…ì´ ìˆì–´ì•¼ ì±„êµ´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤';
                        permissionDetail.style.color = '#856404';
                    }
                }
            }
            
            return has55Contract;
        }

        // ===== ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ =====
        function loadLibrary() {
            const container = document.getElementById('fileList');
            const emptyMsg = document.getElementById('emptyLibrary');
            
            if (!container || !currentUser) return;
            
            const myFiles = files.filter(f => f.creatorId === currentUser.id);
            
            if (myFiles.length === 0) {
                container.innerHTML = '';
                if (emptyMsg) emptyMsg.style.display = 'block';
                return;
            }
            
            if (emptyMsg) emptyMsg.style.display = 'none';
            
            container.innerHTML = myFiles.map(file => {
                const percent = (file.remainingTL / file.totalTL) * 100;
                return `
                    <div class="file-card">
                        <div class="file-thumbnail">ğŸµ</div>
                        <div class="file-info">
                            <div class="file-name">${file.title}</div>
                            <div class="file-stats">
                                <span style="background: ${file.revenueShare === '55' ? '#4facfe' : '#fa709a'}; color: white; padding: 4px 12px; border-radius: 20px;">
                                    ${file.revenueShare === '55' ? '5:5 ê³„ì•½' : '7:3 ê³„ì•½'}
                                </span>
                                <span>ğŸ’ ${file.remainingTL}/${file.totalTL} TL</span>
                            </div>
                            <div style="width: 100%; height: 6px; background: #e0e0e0; border-radius: 3px; margin: 15px 0;">
                                <div style="width: ${percent}%; height: 100%; background: ${file.revenueShare === '55' ? '#4facfe' : '#667eea'}; border-radius: 3px;"></div>
                            </div>
                            <div class="file-actions">
                                <button class="btn-play" onclick="playMyMusic('${file.id}')">â–¶ï¸ ì¬ìƒ (1ì´ˆ=1TL)</button>
                                <button class="btn-share" onclick="shareToPlace('${file.id}')">ğŸ”„ ê³µìœ </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // ===== ë‚´ ìŒì•… ì¬ìƒ =====
        function playMyMusic(fileId) {
            const file = files.find(f => f.id === fileId);
            if (!file || !currentUser) return;
            
            if (file.remainingTL < 180) {
                showToast('ì¬ìƒì— í•„ìš”í•œ TLì´ ë¶€ì¡±í•©ë‹ˆë‹¤', 'error');
                return;
            }
            
            file.remainingTL -= 180;
            currentUser.listenMinutes = (currentUser.listenMinutes || 0) + 3;
            
            updateContribution();
            
            localStorage.setItem('timelink_files_v14', JSON.stringify(files));
            localStorage.setItem('timelink_users_v14', JSON.stringify(users));
            
            showToast(`ğŸµ ${file.title} 3ë¶„ ì¬ìƒ ì™„ë£Œ! (180 TL ì†Œëª¨, 15pt ê¸°ì—¬ë„)`, 'success');
            
            updateAllUI();
            loadLibrary();
        }

        // ===== ê³µìœ  í”Œë ˆì´ìŠ¤ì— ìŒì•… ê³µìœ  =====
        function shareToPlace(fileId) {
            const file = files.find(f => f.id === fileId);
            if (!file || !currentUser) return;
            
            if (sharedFiles.some(f => f.originalId === file.id)) {
                showToast('ì´ë¯¸ ê³µìœ ëœ ìŒì•…ì…ë‹ˆë‹¤', 'warning');
                return;
            }
            
            const sharedFile = {
                id: 'shared_' + Date.now(),
                originalId: file.id,
                title: file.title,
                creatorId: file.creatorId,
                creatorName: file.creatorName,
                revenueShare: file.revenueShare,
                miningAllowed: file.miningAllowed,
                sharedAt: new Date().toISOString(),
                playCount: 0
            };
            
            sharedFiles.push(sharedFile);
            localStorage.setItem('timelink_shared_v14', JSON.stringify(sharedFiles));
            
            showToast('ğŸ”„ ê³µìœ  í”Œë ˆì´ìŠ¤ì— ê³µìœ ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
            
            loadSharedMusic();
        }

        // ===== ê³µìœ  í”Œë ˆì´ìŠ¤ ìŒì•… ë¡œë“œ =====
        function loadSharedMusic() {
            const container = document.getElementById('sharedMusicList');
            const emptyMsg = document.getElementById('emptyShared');
            const totalCount = document.getElementById('totalSharedCount');
            const count73 = document.getElementById('shared73Count');
            const count55 = document.getElementById('shared55Count');
            const sharedCount = document.getElementById('sharedCount');
            
            if (!container || !currentUser) return;
            
            const otherSharedFiles = sharedFiles.filter(f => f.creatorId !== currentUser.id);
            
            if (totalCount) totalCount.textContent = otherSharedFiles.length;
            if (count73) count73.textContent = otherSharedFiles.filter(f => f.revenueShare === '73').length;
            if (count55) count55.textContent = otherSharedFiles.filter(f => f.revenueShare === '55').length;
            if (sharedCount) sharedCount.textContent = otherSharedFiles.length;
            
            if (otherSharedFiles.length === 0) {
                container.innerHTML = '';
                if (emptyMsg) emptyMsg.style.display = 'block';
                return;
            }
            
            if (emptyMsg) emptyMsg.style.display = 'none';
            
            let filteredFiles = otherSharedFiles;
            if (currentFilter === '73') {
                filteredFiles = otherSharedFiles.filter(f => f.revenueShare === '73');
            } else if (currentFilter === '55') {
                filteredFiles = otherSharedFiles.filter(f => f.revenueShare === '55');
            } else if (currentFilter === 'mining') {
                filteredFiles = otherSharedFiles.filter(f => f.miningAllowed === true);
            }
            
            container.innerHTML = filteredFiles.map(file => `
                <div class="file-card">
                    <div class="file-thumbnail">ğŸµ</div>
                    <div class="file-info">
                        <div class="file-name">${file.title}</div>
                        <div class="file-stats">
                            <span>ğŸ‘¤ ${file.creatorName}</span>
                            <span style="background: ${file.miningAllowed ? '#4facfe' : '#fa709a'}; color: white; padding: 4px 12px; border-radius: 20px;">
                                ${file.miningAllowed ? 'âœ… ì±„êµ´ê¶Œ' : 'âŒ ì±„êµ´ê¶Œ'}
                            </span>
                        </div>
                        <div style="color: #666; font-size: 13px; margin-bottom: 15px;">
                            ğŸ•’ ${new Date(file.sharedAt).toLocaleDateString()} Â· ì²­ì·¨ ${file.playCount || 0}íšŒ
                        </div>
                        <button class="btn-play" onclick="playSharedMusic('${file.id}')" style="width: 100%;">
                            ğŸ§ 3ë¶„ ë“£ê¸° (15 TL ê¸°ì—¬ë„)
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // ===== ê³µìœ  ìŒì•… ì¬ìƒ =====
        function playSharedMusic(sharedId) {
            const sharedFile = sharedFiles.find(f => f.id === sharedId);
            if (!sharedFile || !currentUser) return;
            
            currentUser.listenMinutes = (currentUser.listenMinutes || 0) + 3;
            
            sharedFile.playCount = (sharedFile.playCount || 0) + 1;
            localStorage.setItem('timelink_shared_v14', JSON.stringify(sharedFiles));
            
            updateContribution();
            
            showToast(`ğŸµ ${sharedFile.title} 3ë¶„ ì²­ì·¨ ì™„ë£Œ! (15 TL ê¸°ì—¬ë„)`, 'success');
            
            updateAllUI();
        }

        // ===== ê³µìœ  í”Œë ˆì´ìŠ¤ í•„í„° =====
        function filterSharePlace(filter) {
            currentFilter = filter;
            
            const btns = document.querySelectorAll('.filter-btn');
            btns.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            loadSharedMusic();
        }

        // ===== ë¼ë””ì˜¤ ì±„ë„ ì´ˆê¸°í™” =====
        function initRadioChannels() {
            const container = document.getElementById('radioChannels');
            if (!container) return;
            
            const channels = [
                { name: 'TimeLink Pop', freq: '107.7', listeners: 1234 },
                { name: 'TimeLink Rock', freq: '107.9', listeners: 892 },
                { name: 'TimeLink Hip-Hop', freq: '108.1', listeners: 1567 },
                { name: 'TimeLink Jazz', freq: '108.3', listeners: 645 }
            ];
            
            container.innerHTML = channels.map(ch => `
                <div class="radio-channel-card">
                    <div class="channel-header">
                        <h3 style="color: white;">${ch.name}</h3>
                        <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                            <span>FM ${ch.freq} MHz</span>
                            <span>ğŸ‘¥ ${ch.listeners}ëª… ì²­ì·¨ì¤‘</span>
                        </div>
                    </div>
                    <div class="channel-playlist">
                        <p style="text-align: center; color: #666; margin-bottom: 15px;">ğŸµ 24ì‹œê°„ ìë™ ì¬ìƒ</p>
                        <button class="btn-play" onclick="addListenMinutes(10)" style="width: 100%;">
                            ğŸ§ 10ë¶„ ì²­ì·¨ (50 TL ê¸°ì—¬ë„)
                        </button>
                        <button class="btn-play" onclick="addListenMinutes(30)" style="width: 100%; margin-top: 10px; background: #1db954;">
                            ğŸ§ 30ë¶„ ì²­ì·¨ (150 TL ê¸°ì—¬ë„)
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // ===== ìƒì—…ë°©ì†¡ ì±„ë„ ì´ˆê¸°í™” =====
        function initCommercialChannels() {
            const container = document.getElementById('commercialChannels');
            if (!container) return;
            
            const channels = [
                { name: 'TimeLink Business 1', freq: '109.1', listeners: 567, revenue: 12340 },
                { name: 'TimeLink Business 2', freq: '109.3', listeners: 432, revenue: 9870 }
            ];
            
            container.innerHTML = channels.map(ch => `
                <div class="radio-channel-card">
                    <div class="channel-header" style="background: var(--secondary);">
                        <h3 style="color: white;">${ch.name}</h3>
                        <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                            <span>FM ${ch.freq} MHz</span>
                            <span>ğŸ‘¥ ${ch.listeners}ëª… ì²­ì·¨ì¤‘</span>
                        </div>
                    </div>
                    <div class="channel-playlist">
                        <p style="text-align: center; color: #666;">ğŸ’° í¬ë¦¬ì—ì´í„° ìˆ˜ìµ: ${ch.revenue} TL</p>
                        <p style="text-align: center; color: #666; margin-top: 10px;">ğŸµ 24ì‹œê°„ ê´‘ê³  ì§€ì› ìŠ¤íŠ¸ë¦¬ë°</p>
                    </div>
                </div>
            `).join('');
        }

        // ===== ì¼ë°˜ ì²­ì·¨ =====
        function addListenMinutes(minutes) {
            if (!currentUser) return;
            
            currentUser.listenMinutes = (currentUser.listenMinutes || 0) + minutes;
            updateContribution();
            
            showToast(`ğŸ§ ${minutes}ë¶„ ì²­ì·¨ ì™„ë£Œ! (+${minutes * 5} TL ê¸°ì—¬ë„)`, 'success');
        }

        // ===== ì°¨ëŸ‰ ë“±ë¡ =====
        function registerCar() {
            const model = document.getElementById('carModel').value;
            const plate = document.getElementById('carPlate').value;
            
            if (!model) {
                showToast('ì°¨ëŸ‰ ëª¨ë¸ì„ ì…ë ¥í•˜ì„¸ìš”', 'error');
                return;
            }
            
            if (!currentUser.cars) currentUser.cars = [];
            
            currentUser.cars.push({
                model: model,
                plate: plate || 'ë¯¸ë“±ë¡',
                registeredAt: new Date().toISOString()
            });
            
            localStorage.setItem('timelink_users_v14', JSON.stringify(users));
            
            showToast('ğŸš— ì°¨ëŸ‰ ë“±ë¡ ì™„ë£Œ! (ì´ì œ ìš´ì „ ì²­ì·¨ ì‹œ 2ë°° ê¸°ì—¬ë„)', 'success');
            
            updateAllUI();
            updateCarList();
        }

        // ===== ì°¨ëŸ‰ ëª©ë¡ ì—…ë°ì´íŠ¸ =====
        function updateCarList() {
            const carList = document.getElementById('carList');
            if (!carList) return;
            
            if (!currentUser.cars || currentUser.cars.length === 0) {
                carList.innerHTML = '<p style="color: white; opacity: 0.8;">ë“±ë¡ëœ ì°¨ëŸ‰ì´ ì—†ìŠµë‹ˆë‹¤</p>';
            } else {
                carList.innerHTML = currentUser.cars.map(car => 
                    `<p style="color: white; margin: 5px 0; display: flex; align-items: center;">
                        <span style="margin-right: 10px;">ğŸš˜</span>
                        <span style="font-weight: 700;">${car.model}</span>
                        <span style="margin-left: 10px; opacity: 0.8;">${car.plate}</span>
                    </p>`
                ).join('');
            }
        }

        // ===== ì°¨ëŸ‰ ì²­ì·¨ =====
        function addDrivingMinutes(minutes) {
            if (!currentUser) return;
            
            if (!currentUser.cars || currentUser.cars.length === 0) {
                showToast('ì°¨ëŸ‰ì„ ë¨¼ì € ë“±ë¡í•´ì£¼ì„¸ìš”', 'warning');
                return;
            }
            
            currentUser.drivingMinutes = (currentUser.drivingMinutes || 0) + minutes;
            updateContribution();
            
            showToast(`ğŸš— ìš´ì „ ì²­ì·¨ ${minutes}ë¶„ ì™„ë£Œ! (+${minutes * 10} TL ê¸°ì—¬ë„)`, 'success');
        }

        // ===== ì±„êµ´ ë¯¸ë¦¬ë³´ê¸° =====
        document.addEventListener('input', function(e) {
            if (e.target.id === 'miningAmount') {
                updateMiningPreview();
            }
        });

        function updateMiningPreview() {
            if (!currentUser) return;
            
            const amount = parseInt(document.getElementById('miningAmount')?.value) || 0;
            const maxMining = Math.floor(currentUser.tlBalance * 0.5);
            
            if (amount > 0 && amount <= maxMining) {
                const tlcAmount = amount * 0.1 * currentUser.contributionIndex;
                const baseTLC = amount * 0.1;
                
                document.getElementById('previewInput').textContent = amount.toLocaleString() + ' TL';
                document.getElementById('previewIndex').textContent = currentUser.contributionIndex.toFixed(2) + 'x';
                document.getElementById('previewOutput').textContent = tlcAmount.toFixed(2) + ' TLC';
                document.getElementById('baseTLC').textContent = baseTLC.toFixed(2) + ' TLC';
                document.getElementById('userTLC').textContent = tlcAmount.toFixed(2) + ' TLC';
                document.getElementById('bonusTLC').textContent = '+' + (tlcAmount - baseTLC).toFixed(2) + ' TLC';
            } else {
                document.getElementById('previewInput').textContent = '0 TL';
                document.getElementById('previewOutput').textContent = '0 TLC';
                document.getElementById('userTLC').textContent = '0 TLC';
                document.getElementById('bonusTLC').textContent = '0 TLC';
            }
        }

        // ===== ì±„êµ´ ì‹¤í–‰ =====
        function executeMining() {
            if (!currentUser) return;
            
            if (!checkMiningPermission()) {
                showToast('â›” ì±„êµ´ê¶Œì´ ì—†ìŠµë‹ˆë‹¤. 5:5 ê³„ì•½ìœ¼ë¡œ ìŒì•…ì„ ì—…ë¡œë“œí•˜ì„¸ìš”', 'error');
                return;
            }
            
            const amount = parseInt(document.getElementById('miningAmount').value) || 0;
            
            if (!amount || amount <= 0) {
                showToast('ì±„êµ´í•  TL ì–‘ì„ ì…ë ¥í•˜ì„¸ìš”', 'error');
                return;
            }
            
            if (amount > currentUser.tlBalance) {
                showToast('TLì´ ë¶€ì¡±í•©ë‹ˆë‹¤', 'error');
                return;
            }
            
            const maxMining = Math.floor(currentUser.tlBalance * 0.5);
            if (amount > maxMining) {
                showToast(`ì±„êµ´ í•œë„ëŠ” ë³´ìœ  TLì˜ 50% (${maxMining} TL)ì…ë‹ˆë‹¤`, 'error');
                return;
            }
            
            const tlcAmount = amount * 0.1 * currentUser.contributionIndex;
            
            currentUser.tlBalance -= amount;
            currentUser.tlcBalance += tlcAmount;
            currentUser.miningCount = (currentUser.miningCount || 0) + 1;
            
            localStorage.setItem('timelink_users_v14', JSON.stringify(users));
            
            showToast(`âœ… ì±„êµ´ ì„±ê³µ! ${amount} TL â†’ ${tlcAmount.toFixed(2)} TLC (ê¸°ì—¬ì§€ìˆ˜ ${currentUser.contributionIndex}x)`, 'success');
            
            updateAllUI();
            document.getElementById('miningAmount').value = '';
        }

        // ===== ê¸ˆ ë¦¬ì €ë¸Œ ì—…ë°ì´íŠ¸ =====
        function updateGoldReserve() {
            goldReserve.goldPrice = 65 + (Math.random() * 2 - 1);
            goldReserve.totalValue = goldReserve.totalGold * goldReserve.goldPrice;
            goldReserve.perTLC = goldReserve.totalValue / 100000;
            
            document.getElementById('goldAmount').textContent = goldReserve.totalGold.toFixed(2) + ' g';
            document.getElementById('goldValue').textContent = '$' + goldReserve.totalValue.toFixed(0);
            document.getElementById('goldRatio').textContent = goldReserve.collateralRatio + '%';
            document.getElementById('goldPerTLC').textContent = '$' + goldReserve.perTLC.toFixed(3);
            
            document.getElementById('goldDetailAmount').textContent = goldReserve.totalGold.toFixed(2) + ' g';
            document.getElementById('goldDetailValue').textContent = '$' + goldReserve.totalValue.toFixed(0);
            document.getElementById('goldDetailPrice').textContent = '$' + goldReserve.goldPrice.toFixed(2) + '/g';
            document.getElementById('goldDetailRatio').textContent = goldReserve.collateralRatio + '%';
            
            document.getElementById('platformTotalRevenue').textContent = '$' + (goldReserve.platformRevenue || 0).toFixed(0);
            document.getElementById('platformGoldInvestment').textContent = '$' + (goldReserve.goldInvestment || 0).toFixed(0);
            document.getElementById('platformRevenue73').textContent = '$' + (goldReserve.revenue73 || 0).toFixed(0);
            document.getElementById('platformRevenue55').textContent = '$' + (goldReserve.revenue55 || 0).toFixed(0);
        }

        // ===== ì‚¬ì—…ì ì‹ ì²­ =====
        function applyForBusiness() {
            showToast('ì‚¬ì—…ì ì‹ ì²­ ê¸°ëŠ¥ì€ ì¤€ë¹„ì¤‘ì…ë‹ˆë‹¤', 'info');
        }

        // ===== TON ì§€ê°‘ ì—°ê²° =====
        function connectWallet() {
            showToast('TON ì§€ê°‘ ì—°ê²° ê¸°ëŠ¥ì€ í…ŒìŠ¤íŠ¸ë„·ì—ì„œ ì¤€ë¹„ì¤‘ì…ë‹ˆë‹¤', 'info');
            document.getElementById('tonWalletAddress').innerHTML = 'EQD...x5Lp7vK (í…ŒìŠ¤íŠ¸ ì§€ê°‘)';
        }

        // ===== TLC ì „ì†¡ =====
        function sendTLC() {
            const address = document.getElementById('sendAddress').value;
            const amount = parseFloat(document.getElementById('sendAmount').value);
            
            if (!address) {
                showToast('ìˆ˜ì‹  ì§€ê°‘ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”', 'error');
                return;
            }
            
            if (!amount || amount <= 0) {
                showToast('ì „ì†¡í•  ìˆ˜ëŸ‰ì„ ì…ë ¥í•˜ì„¸ìš”', 'error');
                return;
            }
            
            if (amount > currentUser.tlcBalance) {
                showToast('TLC ì”ì•¡ì´ ë¶€ì¡±í•©ë‹ˆë‹¤', 'error');
                return;
            }
            
            currentUser.tlcBalance -= amount;
            localStorage.setItem('timelink_users_v14', JSON.stringify(users));
            
            showToast(`âœ… ${amount} TLC ì „ì†¡ ì™„ë£Œ!`, 'success');
            updateAllUI();
        }

        // ===== ê´‘ê³  ëª¨ë‹¬ ë‹«ê¸° =====
        function closeAdModal() {
            if (adInterval) clearInterval(adInterval);
            document.getElementById('adModal').style.display = 'none';
        }

        // ===== íƒ­ ì „í™˜ =====
        function switchTab(tabName) {
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            contents.forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById('tab' + tabName.charAt(0).toUpperCase() + tabName.slice(1)).classList.add('active');
            
            if (tabName === 'library') loadLibrary();
            if (tabName === 'shareplace') loadSharedMusic();
            if (tabName === 'mining') {
                checkMiningPermission();
                updateMiningPreview();
            }
            if (tabName === 'car') updateCarList();
            if (tabName === 'gold') updateGoldReserve();
        }

        // ===== í™”ë©´ ì „í™˜ =====
        function showSignup() {
            document.getElementById('signupForm').style.display = 'block';
            document.getElementById('loginForm').style.display = 'none';
        }

        function showLogin() {
            document.getElementById('signupForm').style.display = 'none';
            document.getElementById('loginForm').style.display = 'block';
        }

        // ===== í† ìŠ¤íŠ¸ =====
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = 'toast ' + type;
            toast.style.display = 'block';
            
            setTimeout(() => {
                toast.style.display = 'none';
            }, 3000);
        }

        // ===== í˜ì´ì§€ ë¡œë“œ =====
        window.onload = function() {
            console.log('ğŸš€ TimeLink v14.0 - íšŒì›ê°€ì… + ëª¨ë“  ê¸°ëŠ¥ ì™„ì „ ë³µì›!');
            
            if (users.length === 0) {
                const testUser1 = {
                    id: 'user_test_1',
                    username: 'ì•„ë¯¸',
                    email: 'army@test.com',
                    password: '123456',
                    tlBalance: 25000,
                    tlcBalance: 1250.75,
                    totalChargedTL: 30000,
                    listenMinutes: 450,
                    drivingMinutes: 120,
                    adWatchCount: 25,
                    miningCount: 8,
                    contributionTL: 3750,
                    contributionIndex: 4.75,
                    hasMiningRight: true,
                    cars: [{ model: 'Hyundai Ioniq 5', plate: '123ê°€ 4567' }],
                    uploadedFiles: 2,
                    createdAt: new Date().toISOString()
                };
                
                const testUser2 = {
                    id: 'user_test_2',
                    username: 'ì£¼ê°„ì•„ì´ëŒ',
                    email: 'weekly@test.com',
                    password: '123456',
                    tlBalance: 18500,
                    tlcBalance: 890.25,
                    totalChargedTL: 20000,
                    listenMinutes: 320,
                    drivingMinutes: 85,
                    adWatchCount: 18,
                    miningCount: 5,
                    contributionTL: 2650,
                    contributionIndex: 3.65,
                    hasMiningRight: false,
                    cars: [{ model: 'Tesla Model 3', plate: '567ë‚˜ 8901' }],
                    uploadedFiles: 1,
                    createdAt: new Date().toISOString()
                };
                
                users.push(testUser1, testUser2);
                localStorage.setItem('timelink_users_v14', JSON.stringify(users));
            }
            
            if (files.length === 0 && users.length >= 2) {
                files.push({
                    id: 'file_1',
                    title: 'Dynamite - BTS',
                    fileName: 'dynamite.mp3',
                    revenueShare: '55',
                    miningAllowed: true,
                    remainingTL: 5000,
                    totalTL: 5000,
                    creatorId: users[0].id,
                    creatorName: users[0].username,
                    uploadedAt: new Date().toISOString()
                });
                
                files.push({
                    id: 'file_2',
                    title: 'Butter - BTS',
                    fileName: 'butter.mp3',
                    revenueShare: '55',
                    miningAllowed: true,
                    remainingTL: 3000,
                    totalTL: 3000,
                    creatorId: users[0].id,
                    creatorName: users[0].username,
                    uploadedAt: new Date().toISOString()
                });
                
                files.push({
                    id: 'file_3',
                    title: 'Blinding Lights - The Weeknd',
                    fileName: 'blinding_lights.mp3',
                    revenueShare: '73',
                    miningAllowed: false,
                    remainingTL: 2000,
                    totalTL: 2000,
                    creatorId: users[1].id,
                    creatorName: users[1].username,
                    uploadedAt: new Date().toISOString()
                });
                
                localStorage.setItem('timelink_files_v14', JSON.stringify(files));
            }
            
            if (sharedFiles.length === 0 && users.length >= 2) {
                sharedFiles.push({
                    id: 'shared_1',
                    originalId: 'file_1',
                    title: 'Dynamite - BTS',
                    creatorId: users[0].id,
                    creatorName: users[0].username,
                    revenueShare: '55',
                    miningAllowed: true,
                    sharedAt: new Date().toISOString(),
                    playCount: 1240
                });
                
                sharedFiles.push({
                    id: 'shared_2',
                    originalId: 'file_2',
                    title: 'Butter - BTS',
                    creatorId: users[0].id,
                    creatorName: users[0].username,
                    revenueShare: '55',
                    miningAllowed: true,
                    sharedAt: new Date().toISOString(),
                    playCount: 980
                });
                
                sharedFiles.push({
                    id: 'shared_3',
                    originalId: 'file_3',
                    title: 'Blinding Lights - The Weeknd',
                    creatorId: users[1].id,
                    creatorName: users[1].username,
                    revenueShare: '73',
                    miningAllowed: false,
                    sharedAt: new Date().toISOString(),
                    playCount: 2340
                });
                
                localStorage.setItem('timelink_shared_v14', JSON.stringify(sharedFiles));
            }
            
            if (!localStorage.getItem('timelink_gold_v14')) {
                goldReserve.transactions.push({
                    timestamp: new Date().toISOString(),
                    amount: 0.15,
                    price: 65.00,
                    total: 9.75
                });
                localStorage.setItem('timelink_gold_v14', JSON.stringify(goldReserve));
            }
        };
    </script>
</body>
</html>
