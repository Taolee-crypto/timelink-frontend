<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>í”Œë ˆì´ì–´ â€” TimeLink</title>
<link rel="icon" href="favicon.svg" type="image/svg+xml">
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#060610;--card:rgba(255,255,255,.04);--card-h:rgba(255,255,255,.07);
  --bd:rgba(255,255,255,.08);--bd-a:rgba(0,245,160,.3);
  --ac:#00f5a0;--ac-d:rgba(0,245,160,.13);--ac-g:0 0 28px rgba(0,245,160,.35);
  --pu:#7b61ff;--pu-d:rgba(123,97,255,.13);
  --ca:#f59e0b;--ca-d:rgba(245,158,11,.11);
  --da:#ff4f4f;
  --t1:#e8e8f5;--t2:#8888aa;--t3:#44445a;
  --rf:999px;--rl:20px;--rm:14px;--rs:8px;
  --tr:all .2s cubic-bezier(.4,0,.2,1);
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:'Syne',sans-serif;background:var(--bg);color:var(--t1);min-height:100vh;-webkit-font-smoothing:antialiased}
body::before{content:'';position:fixed;inset:0;pointer-events:none;z-index:0;
  background:radial-gradient(ellipse 80% 50% at 20% 10%,rgba(0,245,160,.05) 0%,transparent 60%),
             radial-gradient(ellipse 60% 40% at 80% 80%,rgba(123,97,255,.05) 0%,transparent 60%)}
/* NAV */
.navbar{position:sticky;top:0;z-index:200;height:64px;padding:0 24px;display:flex;align-items:center;justify-content:space-between;background:rgba(6,6,16,.9);backdrop-filter:blur(20px);border-bottom:1px solid var(--bd)}
.logo{display:flex;align-items:center;gap:10px;text-decoration:none;color:var(--t1)}
.logo-icon{width:32px;height:32px;border-radius:8px;background:var(--ac);display:flex;align-items:center;justify-content:center;font-size:16px}
.logo-text{font-size:18px;font-weight:800;letter-spacing:-.5px}.logo-text span{color:var(--ac)}
.nav-links{display:flex;align-items:center;gap:4px}
.nav-link{padding:7px 14px;border-radius:var(--rf);font-size:13px;font-weight:700;text-decoration:none;color:var(--t2);transition:var(--tr)}
.nav-link:hover{color:var(--t1);background:var(--card)}.nav-link.active{background:var(--ac);color:#060610}
.bal-row{display:flex;align-items:center;gap:10px;padding:6px 14px;border-radius:var(--rf);background:var(--card);border:1px solid var(--bd)}
.bal-col{display:flex;flex-direction:column;align-items:center}
.bal-lbl{font-size:10px;color:var(--t2);font-weight:700;text-transform:uppercase}
.bal-val{font-family:'JetBrains Mono',monospace;font-size:13px;font-weight:700;color:var(--ac)}
.bal-sep{width:1px;height:20px;background:var(--bd)}
/* LAYOUT */
.page{padding:24px 24px 100px;max-width:1100px;margin:0 auto;position:relative;z-index:1;display:grid;grid-template-columns:480px 1fr;gap:24px;align-items:start}
/* BUTTONS */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:7px;padding:9px 20px;border-radius:var(--rf);font-family:'Syne',sans-serif;font-size:14px;font-weight:700;cursor:pointer;transition:var(--tr);border:none;white-space:nowrap}
.btn-primary{background:var(--ac);color:#060610}.btn-primary:hover{transform:translateY(-1px);box-shadow:var(--ac-g)}
.btn-ghost{background:transparent;color:var(--t2);border:1px solid var(--bd)}.btn-ghost:hover{background:var(--card-h);color:var(--t1)}
.btn:disabled{opacity:.4;cursor:not-allowed;transform:none!important}
.btn-sm{padding:5px 13px;font-size:12px}
.btn-icon{width:40px;height:40px;padding:0;border-radius:50%}
.w-full{width:100%}
/* CARDS */
.card{background:var(--card);border:1px solid var(--bd);border-radius:var(--rl);padding:24px}
.card-ac{border-color:var(--bd-a);background:linear-gradient(135deg,rgba(0,245,160,.05),transparent)}
.card-vid{border-color:rgba(239,68,68,.25);background:linear-gradient(135deg,rgba(239,68,68,.04),transparent)}
/* PLAYER TYPE SWITCH */
.ptype-tabs{display:flex;gap:8px;margin-bottom:20px}
.ptab{padding:10px 20px;border-radius:var(--rf);font-weight:700;font-size:14px;cursor:pointer;transition:var(--tr);border:none;font-family:'Syne',sans-serif}
.ptab.active-audio{background:var(--ac);color:#060610}
.ptab.active-video{background:#ef4444;color:#fff}
.ptab.inactive{background:transparent;color:var(--t2);border:1px solid var(--bd)}
.ptab.inactive:hover{background:var(--card-h);color:var(--t1)}
/* AUDIO ART */
.audio-art{width:100%;height:200px;border-radius:var(--rl);background:linear-gradient(135deg,var(--ac-d),var(--pu-d));display:flex;align-items:center;justify-content:center;font-size:72px;margin-bottom:18px;position:relative;overflow:hidden}
.audio-art::before{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(0,245,160,.08),rgba(123,97,255,.08));animation:pulse-bg 2s ease-in-out infinite}
@keyframes pulse-bg{0%,100%{opacity:.4}50%{opacity:1}}
/* EQ bars */
.eq-wrap{position:absolute;bottom:14px;left:50%;transform:translateX(-50%);display:flex;gap:3px;align-items:flex-end}
.eq-b{width:4px;background:var(--ac);border-radius:2px;opacity:.8}
.eq-b:nth-child(1){animation:eq1 .8s ease-in-out infinite}
.eq-b:nth-child(2){animation:eq2 .6s ease-in-out infinite}
.eq-b:nth-child(3){animation:eq3 .9s ease-in-out infinite}
.eq-b:nth-child(4){animation:eq1 .7s ease-in-out infinite}
.eq-b:nth-child(5){animation:eq2 .5s ease-in-out infinite}
.eq-b:nth-child(6){animation:eq3 .8s ease-in-out infinite}
.eq-b:nth-child(7){animation:eq1 .65s ease-in-out infinite}
.eq-b:nth-child(8){animation:eq2 .9s ease-in-out infinite}
@keyframes eq1{0%,100%{height:6px}50%{height:28px}}
@keyframes eq2{0%,100%{height:20px}50%{height:8px}}
@keyframes eq3{0%,100%{height:14px}50%{height:32px}}
.eq-wrap.paused .eq-b{animation-play-state:paused}
/* VIDEO WRAP */
.video-wrap{width:100%;border-radius:var(--rl);overflow:hidden;background:#000;margin-bottom:18px;position:relative;aspect-ratio:16/9}
.video-wrap video{width:100%;height:100%;object-fit:contain}
.vid-start-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;cursor:pointer;border-radius:var(--rl);background:rgba(0,0,0,.55)}
.vid-play-big{width:72px;height:72px;border-radius:50%;background:var(--ac);display:flex;align-items:center;justify-content:center;font-size:26px;color:#060610;transition:var(--tr)}
.vid-play-big:hover{transform:scale(1.08);box-shadow:var(--ac-g)}
/* SEEK */
.seek{width:100%;height:5px;background:var(--bd);border-radius:3px;cursor:pointer;margin:10px 0;position:relative}
.seek:hover{height:7px}
.seek-fill{height:100%;background:linear-gradient(90deg,var(--ac),var(--pu));border-radius:3px;pointer-events:none;width:0%;transition:width .4s linear}
.seek-thumb{position:absolute;top:50%;width:14px;height:14px;border-radius:50%;background:var(--ac);transform:translate(-50%,-50%);box-shadow:0 0 0 3px rgba(0,245,160,.2);display:none}
.seek:hover .seek-thumb{display:block}
.times{display:flex;justify-content:space-between;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);margin-bottom:14px}
/* CONTROLS */
.controls{display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:16px}
.ctrl{background:transparent;border:1px solid var(--bd);color:var(--t1);border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--tr);font-size:16px}
.ctrl:hover{background:var(--card-h);border-color:var(--bd-a)}
.ctrl.play{width:60px;height:60px;background:var(--ac);color:#060610;border:none;font-size:22px}
.ctrl.play:hover{transform:scale(1.06);box-shadow:var(--ac-g)}
.ctrl.active{color:var(--ac);border-color:var(--bd-a)}
/* VOLUME */
.vol-row{display:flex;align-items:center;gap:10px;margin-bottom:10px}
.vol-slider{flex:1;-webkit-appearance:none;height:4px;background:var(--bd);border-radius:2px;outline:none;cursor:pointer}
.vol-slider::-webkit-slider-thumb{-webkit-appearance:none;width:14px;height:14px;background:var(--ac);border-radius:50%}
/* SPEED */
.speed-row{display:flex;align-items:center;gap:6px;flex-wrap:wrap}
.speed-btn{padding:4px 12px;border-radius:var(--rf);font-size:12px;font-weight:700;cursor:pointer;border:1px solid var(--bd);background:transparent;color:var(--t2);font-family:'Syne',sans-serif;transition:var(--tr)}
.speed-btn:hover{border-color:var(--bd-a);color:var(--t1)}
.speed-btn.sel{background:var(--ac-d);border-color:var(--bd-a);color:var(--ac)}
/* FILE TL */
.ftl-bar-wrap{background:rgba(245,158,11,.07);border:1px solid rgba(245,158,11,.22);border-radius:var(--rm);padding:12px 16px;margin-bottom:14px}
.ftl-bar-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.ftl-bar{height:6px;background:var(--bd);border-radius:3px;overflow:hidden}
.ftl-fill{height:100%;background:linear-gradient(90deg,var(--ca),var(--ac));border-radius:3px;transition:width .5s linear}
/* BADGES */
.badge{display:inline-flex;align-items:center;gap:4px;padding:3px 9px;border-radius:var(--rf);font-size:11px;font-weight:700;font-family:'JetBrains Mono',monospace}
.badge-ac{background:var(--ac-d);color:var(--ac);border:1px solid rgba(0,245,160,.2)}
.badge-pu{background:var(--pu-d);color:var(--pu);border:1px solid rgba(123,97,255,.2)}
.badge-ca{background:var(--ca-d);color:var(--ca);border:1px solid rgba(245,158,11,.3)}
.badge-live{background:rgba(255,80,80,.14);color:#ff5050;border:1px solid rgba(255,80,80,.2);display:inline-flex;align-items:center;gap:4px}
.badge-live::before{content:'';width:6px;height:6px;background:#ff5050;border-radius:50%;animation:blink 1.1s infinite}
.badge-vid{background:rgba(239,68,68,.12);color:#ef4444;border:1px solid rgba(239,68,68,.25)}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.2}}
/* PLAYLIST */
.track-item{display:flex;align-items:center;gap:12px;padding:11px 14px;border-radius:var(--rm);background:var(--card);border:1px solid var(--bd);cursor:pointer;transition:var(--tr)}
.track-item:hover{background:var(--card-h);border-color:var(--bd-a)}
.track-item.now{background:rgba(0,245,160,.06);border-color:var(--bd-a)}
.track-thumb{width:44px;height:44px;flex-shrink:0;border-radius:var(--rs);background:linear-gradient(135deg,var(--ac-d),var(--pu-d));display:flex;align-items:center;justify-content:center;font-size:18px}
.track-info{flex:1;min-width:0}
.track-title{font-weight:700;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.track-meta{font-size:12px;color:var(--t2);margin-top:2px}
.tl-mini{height:3px;background:var(--bd);border-radius:2px;margin-top:5px;overflow:hidden}
.tl-mini-fill{height:100%;background:linear-gradient(90deg,var(--ca),var(--ac));border-radius:2px}
/* MODAL */
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.8);backdrop-filter:blur(8px);z-index:1000;display:flex;align-items:center;justify-content:center;padding:24px}
.modal{background:#12121f;border:1px solid var(--bd);border-radius:24px;padding:28px;width:100%;max-width:400px;position:relative;animation:slideUp .2s ease}
@keyframes slideUp{from{transform:translateY(16px);opacity:0}to{transform:translateY(0);opacity:1}}
.modal-title{font-size:18px;font-weight:800;margin-bottom:18px}
.modal-close{position:absolute;top:16px;right:16px;background:none;border:none;color:var(--t2);cursor:pointer;font-size:20px}
.fg{display:flex;flex-direction:column;gap:7px;margin-bottom:14px}
.fl{font-size:11px;color:var(--t2);font-weight:700;text-transform:uppercase;letter-spacing:.5px}
.fi{background:rgba(255,255,255,.04);border:1px solid var(--bd);border-radius:var(--rm);padding:11px 16px;font-family:'Syne',sans-serif;font-size:14px;color:var(--t1);outline:none;transition:var(--tr);width:100%}
.fi:focus{border-color:var(--ac);box-shadow:0 0 0 3px rgba(0,245,160,.1)}
/* TOAST */
#toast-box{position:fixed;bottom:28px;right:24px;z-index:9999;display:flex;flex-direction:column;gap:8px;pointer-events:none}
.t{padding:11px 16px;border-radius:var(--rm);font-size:13px;font-weight:600;backdrop-filter:blur(20px);border:1px solid var(--bd);animation:ti .25s ease;max-width:300px}
.t.s{background:rgba(0,245,160,.12);color:var(--ac);border-color:rgba(0,245,160,.3)}
.t.e{background:rgba(255,79,79,.12);color:var(--da);border-color:rgba(255,79,79,.3)}
.t.i{background:rgba(123,97,255,.12);color:var(--pu);border-color:rgba(123,97,255,.3)}
@keyframes ti{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}
.hidden{display:none!important}
.mono{font-family:'JetBrains Mono',monospace}
.divider{height:1px;background:var(--bd);margin:14px 0}
@media(max-width:900px){.page{grid-template-columns:1fr;gap:16px}}
@media(max-width:600px){.nav-links{display:none}}
/* AVATAR DROPDOWN */
.avatar-wrap{position:relative}
.avatar-btn{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,var(--ac),var(--pu));display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:800;color:#060610;cursor:pointer;border:2px solid transparent;transition:var(--tr);user-select:none}
.avatar-btn:hover{border-color:var(--ac);box-shadow:0 0 0 3px rgba(0,245,160,.15)}
.nav-dropdown{position:absolute;top:calc(100% + 10px);right:0;width:200px;background:#12121f;border:1px solid var(--bd);border-radius:var(--rm);padding:8px;z-index:999;box-shadow:0 12px 40px rgba(0,0,0,.6);animation:ddIn .15s ease}
@keyframes ddIn{from{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:translateY(0)}}
.dd-user{padding:10px 12px;border-bottom:1px solid var(--bd);margin-bottom:6px}
.dd-username{font-weight:800;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.dd-email{font-size:11px;color:var(--t2);margin-top:2px}
.dd-item{display:flex;align-items:center;gap:10px;padding:9px 12px;border-radius:var(--rs);cursor:pointer;font-size:13px;font-weight:600;transition:var(--tr);color:var(--t1)}
.dd-item:hover{background:var(--card-h)}
.dd-item.danger{color:var(--da)}
.dd-item.danger:hover{background:rgba(255,79,79,.08)}

/* íƒ­ ë©”ë‰´ ê°€ìš´ë° ì •ë ¬ */
.tabs-bar {
    display: flex !important;
    justify-content: center !important;
    text-align: center !important;
}

.tabs-inner {
    display: flex !important;
    justify-content: center !important;
    margin: 0 auto !important;
    gap: 8px !important;
}

.tab {
    margin: 0 4px !important;
    text-align: center !important;
}

.tab-btn {
    margin: 0 4px !important;
}

/* íƒ­ ë©”ë‰´ ì¤‘ì•™ ì •ë ¬ */
.tabs-bar, .tabs-inner {
    display: flex !important;
    justify-content: center !important;
    text-align: center !important;
}

/* ì €ì‘ê¶Œ ë³´í˜¸ ì‹œìŠ¤í…œ */
.copyright-policy {
  animation: slideDown 0.3s ease;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.copyright-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 600;
  background: #f3f4f6;
  color: #4b5563;
}

.copyright-badge.verified {
  background: #d1fae5;
  color: #065f46;
}

.copyright-badge.unverified {
  background: #fee2e2;
  color: #991b1b;
}

.copyright-badge.warning {
  background: #ffedd5;
  color: #9a3412;
}

.copyright-tooltip {
  position: relative;
  cursor: help;
}

.copyright-tooltip:hover::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  background: #1f2937;
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 11px;
  white-space: nowrap;
  z-index: 10;
  margin-bottom: 4px;
}

.verification-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 10px;
  font-weight: 600;
}

.verification-badge.ai {
  background: #e0f2fe;
  color: #0369a1;
}

.verification-badge.manual {
  background: #fef3c7;
  color: #92400e;
}

.verification-badge.spotify {
  background: #1db954;
  color: white;
}

.ai-warning {
  background: #fff3cd;
  border: 1px solid #ffeeba;
  color: #856404;
  padding: 12px;
  border-radius: 8px;
  margin: 10px 0;
  font-size: 13px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.ai-warning i {
  font-size: 18px;
}


</head>
<body>
<audio id="aud" preload="none" style="display:none"></audio>
<div id="toast-box"></div>

<!-- NAV -->
<nav class="navbar">
  <a class="logo" href="index.html"><div class="logo-icon">âš¡</div><span class="logo-text">Time<span>Link</span></span></a>
  <div class="nav-links">
    <a href="index.html" class="nav-link">ğŸ“Š Dashboard</a>
    <a href="create.html" class="nav-link">ğŸ“¤ Create</a>
    <a href="library.html" class="nav-link">ğŸ” Library</a>
    <a href="player.html" class="nav-link active">ğŸ¬ Player</a>
  </div>
  <!-- ë¹„ë¡œê·¸ì¸ -->
  <div id="nav-guest" class="nav-right">
    <a href="login.html" class="btn btn-ghost btn-sm">ë¡œê·¸ì¸</a>
    <a href="signup.html" class="btn btn-primary btn-sm">Get Started &#8594;</a>
  </div>
  <!-- ë¡œê·¸ì¸ í›„ -->
  <div id="nav-auth" class="nav-right hidden">
    <div class="bal-row">
      <div class="bal-col"><span class="bal-lbl">TL</span><span class="bal-val" id="nb-tl">0</span></div>
      <div class="bal-sep"></div>
      <div class="bal-col"><span class="bal-lbl">TLC</span><span class="bal-val" style="color:var(--pu)" id="nb-tlc">0.0000</span></div>
    </div>
    <div class="avatar-wrap">
      <div class="avatar-btn" id="nav-avatar" onclick="toggleNavDD()">D</div>
      <div class="nav-dropdown hidden" id="nav-dd">
        <div class="dd-user">
          <div class="dd-username" id="dd-name">Demo</div>
          <div class="dd-email" id="dd-email"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7216171f1d32061b1f171e1b1c195c161b151b06131e">[email&#160;protected]</a></div>
        </div>
        <div class="dd-item" onclick="window.location.href='index.html'">ğŸ’° TL ì¶©ì „</div>
        <div class="dd-item">âš™ï¸ ì„¤ì •</div>
        <div class="dd-item danger" onclick="navLogout()">&#x1F6AA; ë¡œê·¸ì•„ì›ƒ</div>
      </div>
    </div>
  </div>
</nav>

<div class="page">

<!-- ========== LEFT: PLAYER ========== -->
<div>
  <!-- íƒ€ì… ì „í™˜ -->
  <div class="ptype-tabs">
    <button class="ptab active-audio" id="pt-audio" onclick="setType('audio')">ğŸµ ìŒì•… í”Œë ˆì´ì–´</button>
    <button class="ptab inactive" id="pt-video" onclick="setType('video')">ğŸ¬ ì˜ìƒ í”Œë ˆì´ì–´</button>
  </div>

  <!-- ===== AUDIO PLAYER ===== -->
  <div id="audio-sec">
    <div class="card card-ac" style="margin-bottom:16px">
      <!-- ì•¨ë²” ì•„íŠ¸ + EQ -->
      <div class="audio-art" id="audio-art">
        <span id="art-icon" style="position:relative;z-index:1">ğŸµ</span>
        <div class="eq-wrap paused" id="eq-wrap">
          <div class="eq-b" style="height:8px"></div>
          <div class="eq-b" style="height:18px"></div>
          <div class="eq-b" style="height:12px"></div>
          <div class="eq-b" style="height:24px"></div>
          <div class="eq-b" style="height:10px"></div>
          <div class="eq-b" style="height:20px"></div>
          <div class="eq-b" style="height:14px"></div>
          <div class="eq-b" style="height:8px"></div>
        </div>
      </div>

      <!-- íŠ¸ë™ ì •ë³´ -->
      <div style="text-align:center;margin-bottom:12px">
        <div style="font-size:20px;font-weight:800;margin-bottom:4px" id="aud-title">â€” íŠ¸ë™ ì„ íƒ ì—†ìŒ</div>
        <div style="font-size:14px;color:var(--t2)" id="aud-artist">ì˜¤ë¥¸ìª½ ëª©ë¡ì—ì„œ ì„ íƒí•˜ì„¸ìš”</div>
        <div style="display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin-top:8px" id="aud-badges">
          <span class="badge badge-ac">ë°°ìœ¨: <span id="aud-mult">1.0x</span></span>
          <span class="badge badge-ca">TL/s: <span id="aud-cost">1.0</span></span>
          <span class="badge badge-pu">Pulse: <span id="aud-pulse">0</span></span>
        </div>
      </div>

      <!-- íŒŒì¼ TL ë°” -->
      <div class="ftl-bar-wrap">
        <div class="ftl-bar-head">
          <div>
            <span style="font-weight:700;font-size:13px">ğŸ’° íŒŒì¼ TL ì”ê³ </span>
            <span style="font-size:12px;color:var(--t2);margin-left:6px">ì†Œëª¨ë˜ë©° ì¬ìƒ</span>
          </div>
          <div style="display:flex;align-items:center;gap:8px">
            <span class="mono" style="font-size:18px;font-weight:800;color:var(--ca)" id="aud-ftl">â€”</span>
            <button class="btn btn-ghost btn-sm" onclick="openChargeModal()">ì¶©ì „</button>
          </div>
        </div>
        <div class="ftl-bar"><div class="ftl-fill" id="aud-ftl-fill" style="width:100%"></div></div>
        <div style="font-size:11px;color:var(--t2);margin-top:5px;text-align:right"><span id="aud-ftl-pct">100</span>% ë‚¨ìŒ</div>
      </div>

      <!-- Seek -->
      <div class="seek" id="aud-seek" onclick="seekClick(event)">
        <div class="seek-fill" id="aud-seek-fill"></div>
        <div class="seek-thumb" id="aud-seek-thumb"></div>
      </div>
      <div class="times"><span id="aud-cur">0:00</span><span id="aud-dur">0:00</span></div>

      <!-- Controls -->
      <div class="controls">
        <button class="ctrl" id="shuf-btn" title="ì…”í”Œ" onclick="toggleShuffle()">ğŸ”€</button>
        <button class="ctrl" onclick="skip(-10)" title="-10ì´ˆ">â®</button>
        <button class="ctrl play" id="aud-play-btn" onclick="togglePlay()">â–¶</button>
        <button class="ctrl" onclick="skip(10)" title="+10ì´ˆ">â­</button>
        <button class="ctrl" id="loop-btn" title="ë°˜ë³µ" onclick="toggleLoop()">ğŸ”</button>
      </div>

      <!-- Volume -->
      <div class="vol-row">
        <span style="font-size:16px;flex-shrink:0">ğŸ”ˆ</span>
        <input type="range" id="aud-vol" class="vol-slider" min="0" max="100" value="80" oninput="setVol(this.value)">
        <span class="mono" style="font-size:12px;color:var(--t2);width:34px;text-align:right" id="vol-lbl">80%</span>
      </div>

      <!-- Speed -->
      <div class="speed-row">
        <span style="font-size:13px;color:var(--t2);margin-right:4px">ë°°ì†</span>
        <button class="speed-btn" data-sp="0.5" onclick="setSpeed(0.5)">0.5x</button>
        <button class="speed-btn sel" data-sp="1" onclick="setSpeed(1)">1x</button>
        <button class="speed-btn" data-sp="1.25" onclick="setSpeed(1.25)">1.25x</button>
        <button class="speed-btn" data-sp="1.5" onclick="setSpeed(1.5)">1.5x</button>
        <button class="speed-btn" data-sp="2" onclick="setSpeed(2)">2x</button>
      </div>
    </div>
  </div>

  <!-- ===== VIDEO PLAYER ===== -->
  <div id="video-sec" class="hidden">
    <div class="card card-vid" style="margin-bottom:16px">
      <!-- ì˜ìƒ ë·° -->
      <div class="video-wrap">
        <video id="vid-el" preload="metadata" playsinline
          style="width:100%;height:100%;object-fit:contain;background:#000"
          ontimeupdate="onVidTime()" onended="onVidEnd()">
        </video>
        <div class="vid-start-overlay" id="vid-overlay" onclick="startVid()">
          <div class="vid-play-big">â–¶</div>
        </div>
      </div>

      <!-- ì˜ìƒ ì •ë³´ -->
      <div style="margin-bottom:12px">
        <div style="font-size:18px;font-weight:800;margin-bottom:3px" id="vid-title">â€” ì˜ìƒ ì„ íƒ ì—†ìŒ</div>
        <div style="font-size:13px;color:var(--t2)" id="vid-genre">ì˜¤ë¥¸ìª½ ëª©ë¡ì—ì„œ ì„ íƒí•˜ì„¸ìš”</div>
        <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:8px">
          <span class="badge badge-vid">ğŸ¬ VIDEO</span>
          <span class="badge badge-ca">TL/s: <span id="vid-cost">1.0</span></span>
          <span class="badge badge-pu">Pulse: <span id="vid-pulse">0</span></span>
        </div>
      </div>

      <!-- íŒŒì¼ TL ë°” -->
      <div class="ftl-bar-wrap">
        <div class="ftl-bar-head">
          <div>
            <span style="font-weight:700;font-size:13px">ğŸ’° íŒŒì¼ TL ì”ê³ </span>
            <span style="font-size:12px;color:var(--t2);margin-left:6px">ì†Œëª¨ë˜ë©° ì¬ìƒ</span>
          </div>
          <div style="display:flex;align-items:center;gap:8px">
            <span class="mono" style="font-size:18px;font-weight:800;color:var(--ca)" id="vid-ftl">â€”</span>
            <button class="btn btn-ghost btn-sm" onclick="openChargeModal()">ì¶©ì „</button>
          </div>
        </div>
        <div class="ftl-bar"><div class="ftl-fill" id="vid-ftl-fill" style="width:100%"></div></div>
        <div style="font-size:11px;color:var(--t2);margin-top:5px;text-align:right"><span id="vid-ftl-pct">100</span>% ë‚¨ìŒ</div>
      </div>

      <!-- Video controls -->
      <div style="display:flex;align-items:center;gap:12px;flex-wrap:wrap">
        <div class="vol-row" style="flex:1">
          <span style="font-size:16px">ğŸ”ˆ</span>
          <input type="range" id="vid-vol" class="vol-slider" min="0" max="100" value="80" oninput="setVidVol(this.value)">
          <span class="mono" style="font-size:12px;color:var(--t2);width:34px;text-align:right" id="vid-vol-lbl">80%</span>
        </div>
        <div style="display:flex;gap:5px">
          <button class="speed-btn" onclick="setVidSpeed(1)">1x</button>
          <button class="speed-btn" onclick="setVidSpeed(1.5)">1.5x</button>
          <button class="speed-btn" onclick="setVidSpeed(2)">2x</button>
        </div>
        <button class="btn btn-ghost btn-sm" onclick="toggleFullscreen()">â›¶ ì „ì²´í™”ë©´</button>
      </div>
    </div>
  </div>
</div>

<!-- ========== RIGHT: PLAYLIST ========== -->
<div>
  <!-- ì˜¤ë””ì˜¤ ëª©ë¡ -->
  <div id="audio-list-sec">
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:14px">
      <div style="font-size:16px;font-weight:800">ğŸµ ìŒì•… ëª©ë¡</div>
      <a href="create.html" class="btn btn-ghost btn-sm">+ ì¶”ê°€</a>
    </div>
    <div style="display:flex;flex-direction:column;gap:8px" id="audio-list"></div>
  </div>

  <!-- ì˜ìƒ ëª©ë¡ -->
  <div id="video-list-sec" class="hidden">
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:14px">
      <div style="font-size:16px;font-weight:800">ğŸ¬ ì˜ìƒ ëª©ë¡</div>
      <a href="create.html" class="btn btn-ghost btn-sm">+ ì¶”ê°€</a>
    </div>
    <div style="display:flex;flex-direction:column;gap:8px" id="video-list"></div>
  </div>

  <!-- í†µê³„ íŒ¨ë„ -->
  <div class="card" style="margin-top:16px">
    <div style="font-weight:800;font-size:14px;margin-bottom:14px">ğŸ“Š ì„¸ì…˜ í†µê³„</div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
      <div style="background:rgba(0,0,0,.25);border-radius:var(--rm);padding:12px;text-align:center">
        <div style="font-size:11px;color:var(--t2);font-weight:700;text-transform:uppercase;margin-bottom:4px">ì´ ì²­ì·¨</div>
        <div class="mono" style="font-size:20px;font-weight:700;color:var(--ac)" id="stat-time">0:00</div>
      </div>
      <div style="background:rgba(0,0,0,.25);border-radius:var(--rm);padding:12px;text-align:center">
        <div style="font-size:11px;color:var(--t2);font-weight:700;text-transform:uppercase;margin-bottom:4px">Pulse</div>
        <div class="mono" style="font-size:20px;font-weight:700;color:var(--ac)" id="stat-pulse">0</div>
      </div>
      <div style="background:rgba(0,0,0,.25);border-radius:var(--rm);padding:12px;text-align:center">
        <div style="font-size:11px;color:var(--t2);font-weight:700;text-transform:uppercase;margin-bottom:4px">ì†Œëª¨ TL</div>
        <div class="mono" style="font-size:20px;font-weight:700;color:var(--ca)" id="stat-used">0</div>
      </div>
      <div style="background:rgba(0,0,0,.25);border-radius:var(--rm);padding:12px;text-align:center">
        <div style="font-size:11px;color:var(--t2);font-weight:700;text-transform:uppercase;margin-bottom:4px">TLC ì±„êµ´</div>
        <div class="mono" style="font-size:20px;font-weight:700;color:var(--pu)" id="stat-tlc">0.0000</div>
      </div>
    </div>
  </div>
</div>

</div><!-- .page -->

<!-- MODALS -->
<div id="rc-modal" class="modal-overlay hidden" onclick="if(event.target===this)closeModal('rc-modal')">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('rc-modal')">âœ•</button>
    <div class="modal-title">ğŸ’° TL ì¶©ì „</div>
    <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px">
      <button class="btn btn-ghost btn-sm" onclick="$('rc-amt').value=1000">1,000</button>
      <button class="btn btn-ghost btn-sm" onclick="$('rc-amt').value=5000">5,000</button>
      <button class="btn btn-ghost btn-sm" onclick="$('rc-amt').value=10000">10,000</button>
      <button class="btn btn-ghost btn-sm" onclick="$('rc-amt').value=50000">50,000</button>
    </div>
    <div class="fg"><label class="fl">ê¸ˆì•¡ (TL)</label><input type="number" id="rc-amt" class="fi" value="5000" min="100"></div>
    <button class="btn btn-primary w-full" onclick="doRecharge()">ì¶©ì „í•˜ê¸°</button>
  </div>
</div>

<div id="ftl-modal" class="modal-overlay hidden" onclick="if(event.target===this)closeModal('ftl-modal')">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('ftl-modal')">âœ•</button>
    <div class="modal-title">ğŸ’° íŒŒì¼ TL ì¶©ì „</div>
    <p style="font-size:14px;color:var(--t2);margin-bottom:16px;line-height:1.5">
      ì´ íŒŒì¼ì— TLì„ ì§ì ‘ ì¶©ì „í•©ë‹ˆë‹¤.<br>ì¶©ì „ëœ TLì€ ì²­ì·¨ìê°€ ì¬ìƒí•  ë•Œ ì†Œëª¨ë©ë‹ˆë‹¤.
    </p>
    <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px">
      <button class="btn btn-ghost btn-sm" onclick="$('ftl-amt').value=500">500</button>
      <button class="btn btn-ghost btn-sm" onclick="$('ftl-amt').value=1000">1,000</button>
      <button class="btn btn-ghost btn-sm" onclick="$('ftl-amt').value=5000">5,000</button>
    </div>
    <div class="fg"><label class="fl">ì¶©ì „í•  TL</label><input type="number" id="ftl-amt" class="fi" value="1000" min="100"></div>
    <div style="font-size:13px;color:var(--t2);margin-bottom:14px">
      ë‚´ ì”ê³ : <span class="mono" style="color:var(--ac)" id="ftl-bal-disp">â€”</span> TL
    </div>
    <button class="btn btn-primary w-full" onclick="doFileTLCharge()">íŒŒì¼ì— ì¶©ì „í•˜ê¸°</button>
  </div>
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
// =================== STATE ===================
const S={
  type:'audio',
  wallet:{tl:10000,locked:0,tlc:0},
  trust:1.0,lvs:1.0,carMode:false,
  currentId:null,isPlaying:false,
  shuffle:false,loop:false,speed:1,
  pulse:0,totalSec:0,usedTL:0,
  uiTimer:null,tlcTimer:null,vidTimer:null,
};

// ìƒ˜í”Œ ë°ì´í„°
const SAMPLES=[
  {id:'s1',title:'Midnight Vibe',artist:'Synthwave Studio',dur:225,genre:'Electronic',icon:'ğŸŒ™',
   url:'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3',fileTL:2000,maxFileTL:2000},
  {id:'s2',title:'Seoul Nights',artist:'K-Pop Studio',dur:189,genre:'K-POP',icon:'ğŸ‡°ğŸ‡·',
   url:'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3',fileTL:1500,maxFileTL:1500},
  {id:'s3',title:'Sunset Groove',artist:'Chill Collective',dur:200,genre:'Chill',icon:'ğŸŒ…',
   url:'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3',fileTL:800,maxFileTL:1000},
  {id:'s4',title:'Electric Dreams',artist:'Neon Flow',dur:252,genre:'Electronic',icon:'âš¡',
   url:'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3',fileTL:3000,maxFileTL:3000},
  {id:'s5',title:'Dark Matter',artist:'Underground',dur:310,genre:'Hip-Hop',icon:'ğŸŒ‘',
   url:'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3',fileTL:500,maxFileTL:1000},
  {id:'s6',title:'Golden Hour',artist:'Indie Soul',dur:243,genre:'Indie',icon:'âœ¨',
   url:'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-6.mp3',fileTL:1200,maxFileTL:1200},
  {id:'s7',title:'Jazz After Midnight',artist:'Blue Note',dur:280,genre:'Jazz',icon:'ğŸ·',
   url:'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-9.mp3',fileTL:900,maxFileTL:900},
  {id:'s8',title:'Lo-Fi Study Session',artist:'Focus Beats',dur:195,genre:'Lo-Fi',icon:'ğŸ“š',
   url:'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3',fileTL:600,maxFileTL:600},
];

// =================== UTILS ===================
function $(i){return document.getElementById(i)}
function fmt(n){return Math.floor(n).toLocaleString()}
function fmtT(s){s=Math.floor(s||0);return`${Math.floor(s/60)}:${String(s%60).padStart(2,'0')}`}
function toast(msg,t='i'){const el=document.createElement('div');el.className=`t ${t}`;el.textContent=msg;$('toast-box').prepend(el);setTimeout(()=>el.remove(),3200)}
function openModal(id){$(id).classList.remove('hidden')}
function closeModal(id){$(id).classList.add('hidden')}

// =================== WALLET ===================
function loadWallet(){
  const u=JSON.parse(localStorage.getItem('tl_user')||'{}');
  if(u.tl)S.wallet.tl=u.tl;
  if(u.tlc)S.wallet.tlc=u.tlc;
  updateWalletUI();
}
function saveWallet(){
  const u=JSON.parse(localStorage.getItem('tl_user')||'{}');
  u.tl=S.wallet.tl;u.tlc=S.wallet.tlc;
  localStorage.setItem('tl_user',JSON.stringify(u));
}
function updateWalletUI(){
  if($('nb-tl'))$('nb-tl').textContent=fmt(S.wallet.tl);
  if($('nb-lo'))$('nb-lo').textContent=fmt(S.wallet.locked);
}
function doRecharge(){
  const a=Number($('rc-amt').value)||0;
  if(a<=0){toast('ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”','e');return;}
  S.wallet.tl+=a;updateWalletUI();saveWallet();
  toast(`ğŸ’° ${fmt(a)} TL ì¶©ì „!`,'s');closeModal('rc-modal');
}

// =================== FILE TL ===================
function getCurrent(){
  const all=getAllFiles();
  return all.find(f=>f.id===S.currentId);
}
function getAllFiles(){
  const local=JSON.parse(localStorage.getItem('tl_myfiles')||'[]');
  return [...SAMPLES,...local];
}
function updateFileTLUI(){
  const f=getCurrent();if(!f)return;
  const pct=f.maxFileTL?Math.max(0,(f.fileTL/f.maxFileTL)*100):100;
  if(S.type==='audio'){
    if($('aud-ftl'))$('aud-ftl').textContent=fmt(f.fileTL);
    if($('aud-ftl-fill'))$('aud-ftl-fill').style.width=pct.toFixed(1)+'%';
    if($('aud-ftl-pct'))$('aud-ftl-pct').textContent=pct.toFixed(0);
  }else{
    if($('vid-ftl'))$('vid-ftl').textContent=fmt(f.fileTL);
    if($('vid-ftl-fill'))$('vid-ftl-fill').style.width=pct.toFixed(1)+'%';
    if($('vid-ftl-pct'))$('vid-ftl-pct').textContent=pct.toFixed(0);
  }
}
function openChargeModal(){
  if(!S.currentId){toast('ë¨¼ì € íŠ¸ë™ì„ ì„ íƒí•˜ì„¸ìš”','i');return;}
  $('ftl-bal-disp').textContent=fmt(S.wallet.tl);
  openModal('ftl-modal');
}
function doFileTLCharge(){
  const a=Number($('ftl-amt').value)||0;
  if(a<=0){toast('ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”','e');return;}
  if(a>S.wallet.tl){toast('ì”ê³ ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤','e');return;}
  const f=getCurrent();if(!f){toast('íŠ¸ë™ì„ ë¨¼ì € ì„ íƒí•˜ì„¸ìš”','e');return;}
  S.wallet.tl-=a;f.fileTL+=a;f.maxFileTL=Math.max(f.maxFileTL||f.fileTL,f.fileTL);
  updateWalletUI();updateFileTLUI();saveWallet();
  toast(`ğŸ’° íŒŒì¼ì— ${fmt(a)} TL ì¶©ì „!`,'s');closeModal('ftl-modal');
  renderList();
}

// =================== DEDUCT PER SECOND ===================
function deductPerSec(){
  const f=getCurrent();
  const cost=S.trust*S.lvs*(S.carMode?2:1);
  // íŒŒì¼ TL ì°¨ê°
  if(f){
    if(f.fileTL<=0){
      toast('âš ï¸ íŒŒì¼ TL ì†Œì§„! ì¶©ì „ì´ í•„ìš”í•©ë‹ˆë‹¤','e');
      stopPlay();return false;
    }
    f.fileTL=Math.max(0,f.fileTL-cost);
    // ë¯¸ë‹ˆ ë°” ì—…ë°ì´íŠ¸ (ëª©ë¡)
    const bar=document.querySelector(`.tl-mini-fill[data-id="${f.id}"]`);
    if(bar)bar.style.width=(f.maxFileTL?(f.fileTL/f.maxFileTL*100):100).toFixed(0)+'%';
  }
  // ë‚´ TL ì°¨ê°
  if(S.wallet.tl<cost){
    toast('âš ï¸ TL ì”ì•¡ ë¶€ì¡±!','e');stopPlay();return false;
  }
  S.wallet.tl-=cost;S.wallet.locked+=cost*.3;
  S.usedTL+=cost;S.pulse++;S.totalSec++;
  S.wallet.tlc+=.001*(S.carMode?2:1);
  // UI ì—…ë°ì´íŠ¸
  updateWalletUI();updateFileTLUI();
  if($('aud-pulse'))$('aud-pulse').textContent=fmt(S.pulse);
  if($('vid-pulse'))$('vid-pulse').textContent=fmt(S.pulse);
  if($('stat-pulse'))$('stat-pulse').textContent=fmt(S.pulse);
  if($('stat-time'))$('stat-time').textContent=fmtT(S.totalSec);
  if($('stat-used'))$('stat-used').textContent=fmt(S.usedTL);
  if($('stat-tlc'))$('stat-tlc').textContent=S.wallet.tlc.toFixed(4);
  const m=(S.trust*S.lvs*(S.carMode?2:1)).toFixed(2);
  if($('aud-mult'))$('aud-mult').textContent=m+'x';
  if($('aud-cost'))$('aud-cost').textContent=m;
  if($('vid-cost'))$('vid-cost').textContent=m;
  return true;
}

// =================== AUDIO ENGINE ===================
const aud=$('aud');
function loadTrack(id){
  stopPlay();
  const f=getAllFiles().find(x=>x.id===id);
  if(!f){toast('íŠ¸ë™ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤','e');return;}
  if(f.type==='video'){setType('video');loadVideo(id);return;}
  S.currentId=id;S.pulse=0;
  aud.src=f.url;aud.load();aud.volume=$('aud-vol').value/100;aud.playbackRate=S.speed;
  // UI
  if($('aud-title'))$('aud-title').textContent=f.title;
  if($('aud-artist'))$('aud-artist').textContent=f.artist||f.genre||'â€”';
  if($('art-icon'))$('art-icon').textContent=f.icon||'ğŸµ';
  updateFileTLUI();
  // ëª©ë¡ í•˜ì´ë¼ì´íŠ¸
  document.querySelectorAll('.track-item').forEach(el=>el.classList.toggle('now',el.dataset.id===id));
  // ì¬ìƒ ì‹œì‘
  aud.play().then(()=>{setPlaying(true);startTimers();}).catch(()=>{
    toast('ì¬ìƒ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì‹œì‘í•˜ì„¸ìš”','i');
  });
}
function togglePlay(){
  if(!S.currentId){toast('ëª©ë¡ì—ì„œ íŠ¸ë™ì„ ì„ íƒí•˜ì„¸ìš”','i');return;}
  if(S.isPlaying){
    aud.pause();setPlaying(false);clearTimers();
  }else{
    aud.play().then(()=>{setPlaying(true);startTimers();}).catch(()=>toast('ì¬ìƒ ì˜¤ë¥˜','e'));
  }
}
function stopPlay(){
  clearTimers();aud.pause();aud.currentTime=0;setPlaying(false);
  const vid=$('vid-el');if(vid&&!vid.paused)vid.pause();
  clearInterval(S.vidTimer);
}
function setPlaying(v){
  S.isPlaying=v;
  const pb=$('aud-play-btn');if(pb)pb.innerHTML=v?'â¸':'â–¶';
  const eq=$('eq-wrap');if(eq)eq.classList.toggle('paused',!v);
}
function startTimers(){
  S.uiTimer=setInterval(()=>{
    if(!S.isPlaying)return;
    if(!deductPerSec())return;
    // seek bar
    if(aud.duration){
      const p=(aud.currentTime/aud.duration)*100;
      if($('aud-seek-fill'))$('aud-seek-fill').style.width=p.toFixed(1)+'%';
      if($('aud-seek-thumb'))$('aud-seek-thumb').style.left=p.toFixed(1)+'%';
    }
    if($('aud-cur'))$('aud-cur').textContent=fmtT(aud.currentTime);
    if($('aud-dur'))$('aud-dur').textContent=fmtT(aud.duration||0);
  },1000);
}
function clearTimers(){clearInterval(S.uiTimer);clearInterval(S.tlcTimer);}
aud.addEventListener('ended',()=>{
  setPlaying(false);clearTimers();
  toast('ğŸµ ì¬ìƒ ì™„ë£Œ!','s');
  if(S.loop){loadTrack(S.currentId);return;}
  if(S.shuffle){
    const all=getAllFiles().filter(f=>f.type!=='video');
    const others=all.filter(f=>f.id!==S.currentId);
    if(others.length)loadTrack(others[Math.floor(Math.random()*others.length)].id);
  }else{
    // ë‹¤ìŒ íŠ¸ë™
    const all=getAllFiles().filter(f=>f.type!=='video');
    const idx=all.findIndex(f=>f.id===S.currentId);
    if(idx>=0&&idx+1<all.length)loadTrack(all[idx+1].id);
  }
});

function seekClick(e){
  const rect=$('aud-seek').getBoundingClientRect();
  const pct=Math.max(0,Math.min(1,(e.clientX-rect.left)/rect.width));
  if(aud.duration)aud.currentTime=pct*aud.duration;
}
function skip(sec){if(aud.duration)aud.currentTime=Math.max(0,Math.min(aud.duration,aud.currentTime+sec));}
function setVol(v){aud.volume=v/100;if($('vol-lbl'))$('vol-lbl').textContent=v+'%';}
function setSpeed(sp){
  S.speed=sp;aud.playbackRate=sp;
  document.querySelectorAll('.speed-btn').forEach(b=>{b.classList.toggle('sel',parseFloat(b.dataset.sp)===sp);});
}
function toggleShuffle(){S.shuffle=!S.shuffle;const b=$('shuf-btn');if(b)b.classList.toggle('active',S.shuffle);toast(S.shuffle?'ì…”í”Œ ON':'ì…”í”Œ OFF',S.shuffle?'s':'i');}
function toggleLoop(){S.loop=!S.loop;aud.loop=S.loop;const b=$('loop-btn');if(b)b.classList.toggle('active',S.loop);toast(S.loop?'ë°˜ë³µ ON':'ë°˜ë³µ OFF',S.loop?'s':'i');}

// =================== VIDEO ENGINE ===================
function loadVideo(id){
  stopPlay();
  const f=getAllFiles().find(x=>x.id===id);
  if(!f)return;
  S.currentId=id;S.pulse=0;
  const vid=$('vid-el');
  vid.src=f.url;vid.load();vid.volume=$('vid-vol').value/100;
  if($('vid-title'))$('vid-title').textContent=f.title;
  if($('vid-genre'))$('vid-genre').textContent=f.genre||'â€”';
  const ov=$('vid-overlay');if(ov)ov.style.display='flex';
  updateFileTLUI();
  document.querySelectorAll('.track-item').forEach(el=>el.classList.toggle('now',el.dataset.id===id));
  toast('â–¶ ì¬ìƒ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì‹œì‘í•˜ì„¸ìš”','i');
}
function startVid(){
  const ov=$('vid-overlay');if(ov)ov.style.display='none';
  const vid=$('vid-el');
  vid.play().then(()=>{
    S.vidTimer=setInterval(()=>{
      if(vid.paused)return;
      deductPerSec();
    },1000);
  }).catch(()=>toast('ì˜ìƒ ì¬ìƒ ì˜¤ë¥˜','e'));
}
function onVidTime(){
  const vid=$('vid-el');
  if(!vid.duration)return;
  const p=(vid.currentTime/vid.duration)*100;
}
function onVidEnd(){clearInterval(S.vidTimer);toast('ğŸ¬ ì˜ìƒ ì¬ìƒ ì™„ë£Œ!','s');}
function setVidVol(v){$('vid-el').volume=v/100;if($('vid-vol-lbl'))$('vid-vol-lbl').textContent=v+'%';}
function setVidSpeed(sp){$('vid-el').playbackRate=sp;}
function toggleFullscreen(){const v=$('vid-el');if(!document.fullscreenElement)v.requestFullscreen();else document.exitFullscreen();}

// =================== PLAYER TYPE ===================
function setType(t){
  S.type=t;
  $('pt-audio').className=`ptab ${t==='audio'?'active-audio':'inactive'}`;
  $('pt-video').className=`ptab ${t==='video'?'active-video':'inactive'}`;
  $('audio-sec').classList.toggle('hidden',t!=='audio');
  $('video-sec').classList.toggle('hidden',t!=='video');
  $('audio-list-sec').classList.toggle('hidden',t!=='audio');
  $('video-list-sec').classList.toggle('hidden',t!=='video');
  renderList();
}

// =================== PLAYLIST ===================
function renderList(){
  const all=getAllFiles();
  const audioFiles=all.filter(f=>f.type!=='video');
  const videoFiles=all.filter(f=>f.type==='video');

  const al=$('audio-list');
  if(al)al.innerHTML=audioFiles.length?audioFiles.map(f=>`
    <div class="track-item ${S.currentId===f.id?'now':''}" data-id="${f.id}" onclick="loadTrack('${f.id}')">
      <div class="track-thumb">${f.icon||'ğŸµ'}</div>
      <div class="track-info">
        <div class="track-title">${esc(f.title)}</div>
        <div class="track-meta">${esc(f.artist||f.genre||'')} Â· ${fmtT(f.dur||0)}</div>
        <div class="tl-mini"><div class="tl-mini-fill" data-id="${f.id}" style="width:${f.maxFileTL?(f.fileTL/f.maxFileTL*100).toFixed(0):100}%"></div></div>
      </div>
      <div style="display:flex;flex-direction:column;align-items:flex-end;gap:4px;flex-shrink:0">
        <span class="badge badge-ac" style="font-size:10px">${f.genre||''}</span>
        <span class="badge badge-ca" style="font-size:10px">ğŸ’°${fmt(f.fileTL||0)}</span>
      </div>
    </div>`).join(''):'<div style="text-align:center;padding:40px;color:var(--t2)"><div style="font-size:36px;margin-bottom:10px">ğŸµ</div>ì—…ë¡œë“œëœ ìŒì•…ì´ ì—†ìŠµë‹ˆë‹¤<br><a href="create.html" style="color:var(--ac);font-weight:700;text-decoration:none;display:inline-block;margin-top:10px">+ ì—…ë¡œë“œí•˜ê¸°</a></div>';

  const vl=$('video-list');
  if(vl)vl.innerHTML=videoFiles.length?videoFiles.map(f=>`
    <div class="track-item ${S.currentId===f.id?'now':''}" data-id="${f.id}" onclick="loadVideo('${f.id}')">
      <div class="track-thumb">ğŸ¬</div>
      <div class="track-info">
        <div class="track-title">${esc(f.title)}</div>
        <div class="track-meta">${esc(f.genre||'ì˜ìƒ')} Â· ${fmtT(f.dur||0)}</div>
        <div class="tl-mini"><div class="tl-mini-fill" data-id="${f.id}" style="width:${f.maxFileTL?(f.fileTL/f.maxFileTL*100).toFixed(0):100}%"></div></div>
      </div>
      <span class="badge badge-ca" style="font-size:10px;flex-shrink:0">ğŸ’°${fmt(f.fileTL||0)}</span>
    </div>`).join(''):'<div style="text-align:center;padding:40px;color:var(--t2)"><div style="font-size:36px;margin-bottom:10px">ğŸ¬</div>ì—…ë¡œë“œëœ ì˜ìƒì´ ì—†ìŠµë‹ˆë‹¤<br><a href="create.html" style="color:var(--ac);font-weight:700;text-decoration:none;display:inline-block;margin-top:10px">+ ì—…ë¡œë“œí•˜ê¸°</a></div>';
}
function esc(s){return String(s||'').replace(/[&<>"']/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]))}

// =================== INIT ===================
loadWallet();
renderList();
// ìë™ìœ¼ë¡œ ì²« íŠ¸ë™ ë¯¸ë¦¬ë³´ê¸° ì„¸íŒ…
const first=SAMPLES[0];
if(first&&$('aud-title')){
  $('aud-title').textContent=first.title;
  $('aud-artist').textContent=first.artist;
  $('art-icon').textContent=first.icon||'ğŸµ';
  S.currentId=first.id;
  updateFileTLUI();
  document.querySelectorAll('.track-item').forEach(el=>el.classList.toggle('now',el.dataset.id===first.id));
}

// ===== NAVBAR AUTH =====
function initNavbar(){
  var user=JSON.parse(localStorage.getItem('tl_user')||'null');
  var guest=document.getElementById('nav-guest');
  var auth=document.getElementById('nav-auth');
  if(!guest||!auth)return;
  if(user&&user.username){
    guest.classList.add('hidden');
    auth.classList.remove('hidden');
    var av=document.getElementById('nav-avatar');
    if(av)av.textContent=user.username.charAt(0).toUpperCase();
    var dn=document.getElementById('dd-name');if(dn)dn.textContent=user.username;
    var de=document.getElementById('dd-email');if(de)de.textContent=user.email||'';
    var tl=document.getElementById('nb-tl');if(tl)tl.textContent=Number(user.tl||10000).toLocaleString();
    var tlc=document.getElementById('nb-tlc');if(tlc)tlc.textContent=Number(user.tlc||0).toFixed(4);
  }
}
function toggleNavDD(){var dd=document.getElementById('nav-dd');if(dd)dd.classList.toggle('hidden');}
function navLogout(){localStorage.removeItem('tl_token');localStorage.removeItem('tl_user');window.location.href='login.html';}
document.addEventListener('click',function(e){
  var wrap=document.querySelector('.avatar-wrap');
  if(wrap&&!wrap.contains(e.target)){var dd=document.getElementById('nav-dd');if(dd)dd.classList.add('hidden');}
});
window.addEventListener('DOMContentLoaded',initNavbar);
</script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"1271d078e0ec49ac83bc8dd8b8fac63b","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"1271d078e0ec49ac83bc8dd8b8fac63b","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"1271d078e0ec49ac83bc8dd8b8fac63b","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>

<style>
/* íƒ­ ë©”ë‰´ ì¤‘ì•™ ì •ë ¬ (ìµœì¢… í•´ê²°) */
.tabs-bar,
.tabs-inner,
div[class*="tabs-"] {
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    text-align: center !important;
    width: 100% !important;
    margin: 0 auto !important;
    padding: 7px 0 !important;
}

.tab,
.tab-btn,
a[class*="tab"],
button[class*="tab"] {
    display: inline-flex !important;
    justify-content: center !important;
    align-items: center !important;
    margin: 0 4px !important;
    padding: 8px 16px !important;
    text-align: center !important;
    white-space: nowrap !important;
}

@media (max-width: 768px) {
    .tab, .tab-btn {
        margin: 0 2px !important;
        padding: 6px 10px !important;
        font-size: 12px !important;
    }
}

/* ì €ì‘ê¶Œ ë³´í˜¸ ì‹œìŠ¤í…œ */
.copyright-policy {
  animation: slideDown 0.3s ease;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.copyright-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 600;
  background: #f3f4f6;
  color: #4b5563;
}

.copyright-badge.verified {
  background: #d1fae5;
  color: #065f46;
}

.copyright-badge.unverified {
  background: #fee2e2;
  color: #991b1b;
}

.copyright-badge.warning {
  background: #ffedd5;
  color: #9a3412;
}

.copyright-tooltip {
  position: relative;
  cursor: help;
}

.copyright-tooltip:hover::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  background: #1f2937;
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 11px;
  white-space: nowrap;
  z-index: 10;
  margin-bottom: 4px;
}

.verification-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 10px;
  font-weight: 600;
}

.verification-badge.ai {
  background: #e0f2fe;
  color: #0369a1;
}

.verification-badge.manual {
  background: #fef3c7;
  color: #92400e;
}

.verification-badge.spotify {
  background: #1db954;
  color: white;
}

.ai-warning {
  background: #fff3cd;
  border: 1px solid #ffeeba;
  color: #856404;
  padding: 12px;
  border-radius: 8px;
  margin: 10px 0;
  font-size: 13px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.ai-warning i {
  font-size: 18px;
}



<script>
// íƒ­ ë©”ë‰´ ê°•ì œ ì¤‘ì•™ ì •ë ¬
(function() {
    function centerTabs() {
        const selectors = [
            '.tabs-bar', '.tabs-inner',
            '.tab', '.tab-btn',
            '[class*="tabs-"]', '[class*="tab"]'
        ];
        
        selectors.forEach(selector => {
            document.querySelectorAll(selector).forEach(el => {
                if (selector.includes('tabs')) {
                    el.style.cssText = 'display: flex !important; justify-content: center !important; align-items: center !important; margin: 0 auto !important;';
                } else {
                    el.style.cssText = 'margin: 0 4px !important; text-align: center !important;';
                }
            });
        });
    }
    
    centerTabs();
    window.addEventListener('load', centerTabs);
    new MutationObserver(centerTabs).observe(document.body, { 
        childList: true, 
        subtree: true 
    });
})();
</script>
<div style="background: #f9fafb; border-top: 1px solid #e5e7eb; padding: 20px 24px; margin-top: 40px; text-align: center; font-size: 12px; color: #6b7280;">
  <div style="max-width: 1200px; margin: 0 auto;">
    <div style="display: flex; justify-content: center; gap: 24px; margin-bottom: 12px; flex-wrap: wrap;">
      <a href="/copyright-policy.html" style="color: #4b5563; text-decoration: none;">ì €ì‘ê¶Œ ì •ì±…</a>
      <a href="/terms.html" style="color: #4b5563; text-decoration: none;">ì´ìš©ì•½ê´€</a>
      <a href="/privacy.html" style="color: #4b5563; text-decoration: none;">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
      <a href="/report.html" style="color: #ef4444; text-decoration: none;">ì €ì‘ê¶Œ ì¹¨í•´ ì‹ ê³ </a>
    </div>
    <div>
      âš–ï¸ ëª¨ë“  ë¯¸ì¸ì¦ íŒŒì¼ì˜ ë²•ì  ì±…ì„ì€ ì—…ë¡œë”ì—ê²Œ 100% ìˆìŠµë‹ˆë‹¤. 
      ì €ì‘ê¶Œ ë³´í˜¸ë¥¼ ìœ„í•´ AI ìœ ì‚¬ë„ ê²€ì‚¬ê°€ ìˆ˜í–‰ë©ë‹ˆë‹¤.
    </div>
  </div>
</div>
</body>
</html>





