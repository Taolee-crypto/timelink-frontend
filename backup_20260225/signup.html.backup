<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>íšŒì›ê°€ì… â€” TimeLink</title>
<link rel="icon" href="favicon.svg" type="image/svg+xml">
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#060610;--bd:rgba(255,255,255,.09);--bd-a:rgba(0,245,160,.3);
  --ac:#00f5a0;--ac-d:rgba(0,245,160,.13);--ac-g:0 0 28px rgba(0,245,160,.35);
  --pu:#7b61ff;--pu-d:rgba(123,97,255,.13);
  --su:#ff7b00;--su-d:rgba(255,123,0,.12);
  --da:#ff4f4f;--ca:#f59e0b;
  --t1:#e8e8f5;--t2:#8888aa;--t3:#44445a;
  --rm:14px;--rl:20px;--rf:999px;
  --tr:all .2s cubic-bezier(.4,0,.2,1);
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'Syne',sans-serif;background:var(--bg);color:var(--t1);
  min-height:100vh;display:flex;align-items:flex-start;justify-content:center;
  padding:32px 24px 60px;-webkit-font-smoothing:antialiased;
}
body::before{
  content:'';position:fixed;inset:0;pointer-events:none;
  background:
    radial-gradient(ellipse 80% 60% at 30% 20%,rgba(0,245,160,.06) 0%,transparent 60%),
    radial-gradient(ellipse 60% 50% at 75% 80%,rgba(123,97,255,.07) 0%,transparent 60%);
}
.card{
  position:relative;z-index:1;width:100%;max-width:480px;
  background:rgba(255,255,255,.04);border:1px solid var(--bd);border-radius:24px;
  padding:40px 36px;backdrop-filter:blur(24px);animation:up .4s ease;
}
@keyframes up{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}

/* Logo */
.logo{display:flex;align-items:center;gap:10px;text-decoration:none;color:var(--t1);justify-content:center;margin-bottom:8px}
.logo-icon{width:36px;height:36px;border-radius:9px;background:var(--ac);display:flex;align-items:center;justify-content:center;font-size:18px}
.logo-txt{font-size:22px;font-weight:800;letter-spacing:-.5px}
.logo-txt span{color:var(--ac)}
.ttl{font-size:24px;font-weight:800;text-align:center;margin-bottom:4px;margin-top:20px}
.sub{font-size:14px;color:var(--t2);text-align:center;margin-bottom:28px}

/* Reward badge */
.reward-badge{
  display:flex;align-items:center;justify-content:center;gap:8px;
  background:linear-gradient(135deg,rgba(0,245,160,.1),rgba(123,97,255,.08));
  border:1px solid rgba(0,245,160,.25);border-radius:var(--rl);
  padding:12px 16px;margin-bottom:24px;font-size:14px;
}
.reward-badge .amount{font-family:'JetBrains Mono',monospace;font-size:18px;font-weight:800;color:var(--ac)}

/* Register type tabs */
.reg-tabs{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:24px}
.reg-tab{
  padding:16px 12px;border-radius:var(--rl);border:2px solid var(--bd);
  background:rgba(255,255,255,.03);cursor:pointer;text-align:center;
  transition:var(--tr);
}
.reg-tab:hover{border-color:var(--bd-a);background:rgba(0,245,160,.04)}
.reg-tab.active{border-color:var(--bd-a);background:var(--ac-d)}
.reg-tab.biz-active{border-color:rgba(255,123,0,.4);background:var(--su-d)}
.reg-tab .tab-icon{font-size:26px;margin-bottom:6px}
.reg-tab .tab-name{font-weight:800;font-size:14px}
.reg-tab .tab-desc{font-size:11px;color:var(--t2);margin-top:3px;line-height:1.4}

/* Section header */
.sec-hd{font-size:13px;font-weight:800;color:var(--t2);text-transform:uppercase;
  letter-spacing:.8px;margin-bottom:14px;padding-bottom:8px;border-bottom:1px solid var(--bd);display:flex;align-items:center;gap:6px}

/* Form */
.fg{display:flex;flex-direction:column;gap:7px;margin-bottom:14px}
.fl{font-size:11px;color:var(--t2);font-weight:700;text-transform:uppercase;letter-spacing:.5px}
.fi{
  background:rgba(255,255,255,.04);border:1px solid var(--bd);border-radius:var(--rm);
  padding:13px 16px;font-family:'Syne',sans-serif;font-size:14px;color:var(--t1);
  outline:none;transition:var(--tr);width:100%;
}
.fi:focus{border-color:var(--ac);background:rgba(0,245,160,.04);box-shadow:0 0 0 3px rgba(0,245,160,.1)}
.fi::placeholder{color:var(--t3)}
.fi.biz-focus:focus{border-color:var(--su);background:rgba(255,123,0,.04);box-shadow:0 0 0 3px rgba(255,123,0,.1)}
.two-col{display:grid;grid-template-columns:1fr 1fr;gap:12px}

/* Role selector */
.role-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px}
.role-card{
  padding:14px;border-radius:var(--rm);border:2px solid var(--bd);
  background:rgba(255,255,255,.03);cursor:pointer;text-align:center;transition:var(--tr);
}
.role-card:hover{border-color:var(--bd-a)}
.role-card.active{border-color:var(--bd-a);background:var(--ac-d)}
.role-card .r-icon{font-size:22px;margin-bottom:5px}
.role-card .r-name{font-weight:700;font-size:13px}
.role-card .r-desc{font-size:11px;color:var(--t2);margin-top:2px}

/* Info box */
.info-box{
  background:rgba(123,97,255,.07);border:1px solid rgba(123,97,255,.2);
  border-radius:var(--rm);padding:12px 14px;font-size:13px;color:var(--t2);
  margin-bottom:16px;line-height:1.5;
}
.info-box.biz{background:rgba(255,123,0,.07);border-color:rgba(255,123,0,.2)}
.info-box strong{color:var(--t1)}

/* Biz section */
.biz-section{display:none}
.biz-section.show{display:block}

/* Add-on biz checkbox */
.addon-check{
  display:flex;align-items:flex-start;gap:12px;padding:14px;
  background:rgba(255,123,0,.06);border:1px solid rgba(255,123,0,.2);
  border-radius:var(--rm);cursor:pointer;margin-bottom:16px;transition:var(--tr);
}
.addon-check:hover{border-color:rgba(255,123,0,.4)}
.addon-check.checked{border-color:var(--su);background:rgba(255,123,0,.1)}
.addon-check input{display:none}
.checkbox-box{
  width:20px;height:20px;border-radius:6px;border:2px solid var(--bd);
  flex-shrink:0;margin-top:1px;display:flex;align-items:center;justify-content:center;
  transition:var(--tr);background:transparent;font-size:11px;
}
.addon-check.checked .checkbox-box{background:var(--su);border-color:var(--su);color:#fff}
.addon-text{flex:1}
.addon-title{font-weight:700;font-size:14px}
.addon-desc{font-size:12px;color:var(--t2);margin-top:2px;line-height:1.4}

/* Buttons */
.btn{
  display:flex;align-items:center;justify-content:center;gap:8px;
  padding:13px 22px;border-radius:var(--rf);font-family:'Syne',sans-serif;
  font-size:15px;font-weight:700;cursor:pointer;transition:var(--tr);
  border:none;width:100%;
}
.btn-primary{background:var(--ac);color:#060610}
.btn-primary:hover{transform:translateY(-1px);box-shadow:var(--ac-g)}
.btn-primary:disabled{opacity:.5;cursor:not-allowed;transform:none;box-shadow:none}
.btn-biz{background:var(--su);color:#fff}
.btn-biz:hover{transform:translateY(-1px);box-shadow:0 0 24px rgba(255,123,0,.4)}
.btn-biz:disabled{opacity:.5;cursor:not-allowed;transform:none;box-shadow:none}

/* Terms */
.terms{font-size:12px;color:var(--t3);line-height:1.5;text-align:center;margin-top:12px}
.terms a{color:var(--ac);text-decoration:none}

/* Divider */
.divider{height:1px;background:var(--bd);margin:20px 0}

/* Footer */
.footer{text-align:center;font-size:14px;color:var(--t2);margin-top:20px}
.footer a{color:var(--ac);text-decoration:none;font-weight:700}
.footer a:hover{text-decoration:underline}

/* Step indicator */
.steps{display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:24px}
.step{width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;
  font-size:12px;font-weight:800;border:2px solid var(--bd);color:var(--t2);transition:var(--tr)}
.step.active{background:var(--ac);border-color:var(--ac);color:#060610}
.step.done{background:var(--ac-d);border-color:var(--bd-a);color:var(--ac)}
.step-line{flex:1;max-width:40px;height:1px;background:var(--bd)}

/* Toast */
#toast-box{position:fixed;bottom:28px;right:24px;z-index:9999;display:flex;flex-direction:column;gap:8px;pointer-events:none}
.t{padding:11px 16px;border-radius:var(--rm);font-size:13px;font-weight:600;
  backdrop-filter:blur(20px);border:1px solid var(--bd);animation:ti .25s ease;max-width:300px}
.t.s{background:rgba(0,245,160,.12);color:var(--ac);border-color:rgba(0,245,160,.3)}
.t.e{background:rgba(255,79,79,.12);color:var(--da);border-color:rgba(255,79,79,.3)}
.t.i{background:rgba(123,97,255,.12);color:var(--pu);border-color:rgba(123,97,255,.3)}
@keyframes ti{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}
.spin{width:18px;height:18px;border:2px solid rgba(6,6,16,.3);border-top-color:#060610;
  border-radius:50%;animation:sp .7s linear infinite;display:inline-block}
.spin.su{border-top-color:#fff}
@keyframes sp{to{transform:rotate(360deg)}}

@media(max-width:480px){.two-col{grid-template-columns:1fr}.card{padding:28px 20px}}

/* íƒ­ ë©”ë‰´ ê°€ìš´ë° ì •ë ¬ */
.tabs-bar {
    display: flex !important;
    justify-content: center !important;
    text-align: center !important;
}

.tabs-inner {
    display: flex !important;
    justify-content: center !important;
    margin: 0 auto !important;
    gap: 8px !important;
}

.tab {
    margin: 0 4px !important;
    text-align: center !important;
}

.tab-btn {
    margin: 0 4px !important;
}

/* íƒ­ ë©”ë‰´ ì¤‘ì•™ ì •ë ¬ */
.tabs-bar, .tabs-inner {
    display: flex !important;
    justify-content: center !important;
    text-align: center !important;
}
</style>
</head>
<body>
<nav style="position:fixed;top:0;left:0;right:0;height:56px;padding:0 24px;display:flex;align-items:center;justify-content:space-between;background:rgba(6,6,16,.9);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,.08);z-index:200">
  <a href="index.html" style="display:flex;align-items:center;gap:10px;text-decoration:none;color:#e8e8f5">
    <div style="width:28px;height:28px;border-radius:6px;background:#00f5a0;display:flex;align-items:center;justify-content:center;font-size:14px">âš¡</div>
    <span style="font-size:16px;font-weight:800">Time<span style="color:#00f5a0">Link</span></span>
  </a>
  <a href="login.html" style="padding:7px 16px;border-radius:999px;border:1px solid rgba(255,255,255,.15);color:#8888aa;font-size:13px;font-weight:700;text-decoration:none">ë¡œê·¸ì¸</a>
</nav>

<div id="toast-box"></div>

<div class="card">

  <a class="logo" href="index.html">
    <div class="logo-icon">âš¡</div>
    <span class="logo-txt">Time<span>Link</span></span>
  </a>

  <div class="ttl">ê³„ì • ë§Œë“¤ê¸°</div>
  <div class="sub">ì§€ê¸ˆ ê°€ì…í•˜ë©´ ì¦‰ì‹œ TL ì§€ê¸‰</div>

  <div class="reward-badge">
    ğŸ ê°€ì… ì¦‰ì‹œ <span class="amount">10,000 TL</span> ë¬´ë£Œ ì§€ê¸‰
  </div>

  <!-- ê°€ì… ìœ í˜• ì„ íƒ -->
  <div class="reg-tabs">
    <div class="reg-tab active" id="tab-personal" onclick="setRegType('personal')">
      <div class="tab-icon">ğŸ‘¤</div>
      <div class="tab-name">ê°œì¸ ê°€ì…</div>
      <div class="tab-desc">ì²­ì·¨ì ë˜ëŠ”<br>ì°½ì‘ìë¡œ ì‹œì‘</div>
    </div>
    <div class="reg-tab" id="tab-business" onclick="setRegType('business')">
      <div class="tab-icon">ğŸ¢</div>
      <div class="tab-name">ì‚¬ì—…ì ê°€ì…</div>
      <div class="tab-desc">ì¹´í˜Â·ë§¤ì¥<br>ë°©ì†¡ ì„œë¹„ìŠ¤ ì´ìš©</div>
    </div>
  </div>

  <!-- ==================== ê°œì¸ ê°€ì… ====================  -->
  <div id="form-personal">

    <div class="sec-hd">ğŸ‘¤ ê¸°ë³¸ ì •ë³´</div>

    <div class="fg">
      <label class="fl">ë‹‰ë„¤ì„</label>
      <input type="text" id="p-name" class="fi" placeholder="ë‚˜ë§Œì˜ ì•„í‹°ìŠ¤íŠ¸ ì´ë¦„" required minlength="2" maxlength="20">
    </div>
    <div class="fg">
      <label class="fl">ì´ë©”ì¼</label>
      <input type="email" id="p-email" class="fi" placeholder="your@email.com" required>
    </div>
    <div class="two-col">
      <div class="fg" style="margin-bottom:0">
        <label class="fl">ë¹„ë°€ë²ˆí˜¸</label>
        <input type="password" id="p-pw" class="fi" placeholder="6ì ì´ìƒ" required minlength="6">
      </div>
      <div class="fg" style="margin-bottom:0">
        <label class="fl">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
        <input type="password" id="p-pw2" class="fi" placeholder="ì¬ì…ë ¥" required>
      </div>
    </div>

    <div class="divider"></div>
    <div class="sec-hd">ğŸ§ ì—­í•  ì„ íƒ</div>

    <div class="role-grid">
      <div class="role-card active" id="role-listener" onclick="setRole('listener')">
        <div class="r-icon">ğŸ§</div>
        <div class="r-name">ì²­ì·¨ì</div>
        <div class="r-desc">ìŒì•… ê°ìƒ &<br>Pulse ì ë¦½</div>
      </div>
      <div class="role-card" id="role-creator" onclick="setRole('creator')">
        <div class="r-icon">ğŸµ</div>
        <div class="r-name">ì°½ì‘ì</div>
        <div class="r-desc">íŠ¸ë™ ì—…ë¡œë“œ &<br>TLC ìˆ˜ìµ</div>
      </div>
    </div>

    <div class="divider"></div>

    <!-- ì‚¬ì—…ì ì¶”ê°€ ë“±ë¡ (ì˜µì…˜) -->
    <div class="sec-hd" style="margin-bottom:10px">ğŸ¢ ì‚¬ì—…ì ì¶”ê°€ ë“±ë¡ <span style="font-weight:400;font-size:11px;color:var(--t3)">(ì„ íƒì‚¬í•­)</span></div>

    <label class="addon-check" id="biz-addon-check" onclick="toggleBizAddon()">
      <input type="checkbox" id="biz-addon-input">
      <div class="checkbox-box" id="biz-cb-box"></div>
      <div class="addon-text">
        <div class="addon-title">ê°™ì€ ê³„ì •ìœ¼ë¡œ ì‚¬ì—…ì ë“±ë¡</div>
        <div class="addon-desc">ì¹´í˜Â·ë§¤ì¥ ë°©ì†¡ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ë ¤ë©´ ì‚¬ì—…ì ì •ë³´ë¥¼ ë“±ë¡í•˜ì„¸ìš”. ê°œì¸ í™œë™ê³¼ ë™ì¼í•œ ì•„ì´ë””ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.</div>
      </div>
    </label>

    <div id="biz-addon-fields" class="biz-section">
      <div class="info-box biz">
        ğŸ¢ <strong>ì‚¬ì—…ì ë“±ë¡ ì‹œ</strong> ì¹´í˜Â·ë§¤ì¥ AI DJ ë°©ì†¡ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°™ì€ ê³„ì •ìœ¼ë¡œ ê°œì¸ í™œë™ê³¼ ì‚¬ì—…ì ì„œë¹„ìŠ¤ë¥¼ ëª¨ë‘ ì´ìš©í•˜ì„¸ìš”.
      </div>
      <div class="fg">
        <label class="fl">ìƒí˜¸ëª…</label>
        <input type="text" id="biz-name" class="fi biz-focus" placeholder="ì¹´í˜ ì´ë¦„ ë˜ëŠ” ìƒí˜¸ëª…">
      </div>
      <div class="two-col">
        <div class="fg" style="margin-bottom:0">
          <label class="fl">ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸</label>
          <input type="text" id="biz-reg" class="fi biz-focus" placeholder="000-00-00000">
        </div>
        <div class="fg" style="margin-bottom:0">
          <label class="fl">ì—…ì¢…</label>
          <select id="biz-type" class="fi biz-focus">
            <option value="">ì„ íƒ</option>
            <option>ì¹´í˜Â·ì»¤í”¼ìˆ</option>
            <option>ìŒì‹ì Â·ì‹ë‹¹</option>
            <option>í—¬ìŠ¤ì¥Â·í”¼íŠ¸ë‹ˆìŠ¤</option>
            <option>ë¯¸ìš©ì‹¤Â·ë·°í‹°ìˆ</option>
            <option>í¸ì˜ì Â·ë¦¬í…Œì¼</option>
            <option>í˜¸í…”Â·ìˆ™ë°•</option>
            <option>ê¸°íƒ€</option>
          </select>
        </div>
      </div>
      <div class="fg" style="margin-top:12px">
        <label class="fl">ë§¤ì¥ ì£¼ì†Œ</label>
        <input type="text" id="biz-addr" class="fi biz-focus" placeholder="ì„œìš¸ì‹œ ê°•ë‚¨êµ¬...">
      </div>
    </div>

    <button class="btn btn-primary" id="p-submit-btn" onclick="doSignup()" style="margin-top:4px">
      ê°€ì…í•˜ê¸°
    </button>
    <div class="terms">
      ê°€ì… ì‹œ <a href="#">ì´ìš©ì•½ê´€</a>ê³¼ <a href="#">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>ì— ë™ì˜í•©ë‹ˆë‹¤.
    </div>
  </div>

  <!-- ==================== ì‚¬ì—…ì ê°€ì… ====================  -->
  <div id="form-business" style="display:none">

    <div class="info-box biz">
      ğŸ¢ <strong>ì‚¬ì—…ì ì „ìš© ê°€ì…</strong>ì…ë‹ˆë‹¤. ì¹´í˜Â·ë§¤ì¥ AI DJ ë°©ì†¡, ìƒì—…ìš© ìŒì› ë¼ì´ì„ ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
      ê¸°ì¡´ ê°œì¸ ê³„ì •ì´ ìˆë‹¤ë©´ <strong>ë¡œê·¸ì¸ í›„ ì‚¬ì—…ì ì¶”ê°€ ë“±ë¡</strong>ì„ ì´ìš©í•˜ì„¸ìš”.
    </div>

    <div class="sec-hd">ğŸ‘¤ ê³„ì • ì •ë³´</div>
    <div class="fg">
      <label class="fl">ë‹´ë‹¹ìëª… (ë‹‰ë„¤ì„)</label>
      <input type="text" id="b-name" class="fi" placeholder="ë‹´ë‹¹ì ì´ë¦„" required>
    </div>
    <div class="fg">
      <label class="fl">ì´ë©”ì¼</label>
      <input type="email" id="b-email" class="fi" placeholder="business@email.com" required>
    </div>
    <div class="two-col">
      <div class="fg" style="margin-bottom:0">
        <label class="fl">ë¹„ë°€ë²ˆí˜¸</label>
        <input type="password" id="b-pw" class="fi" placeholder="6ì ì´ìƒ" required minlength="6">
      </div>
      <div class="fg" style="margin-bottom:0">
        <label class="fl">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
        <input type="password" id="b-pw2" class="fi" placeholder="ì¬ì…ë ¥" required>
      </div>
    </div>

    <div class="divider"></div>
    <div class="sec-hd">ğŸ¢ ì‚¬ì—…ì ì •ë³´</div>

    <div class="fg">
      <label class="fl">ìƒí˜¸ëª…</label>
      <input type="text" id="bb-bname" class="fi biz-focus" placeholder="ì¹´í˜ ì´ë¦„ ë˜ëŠ” ìƒí˜¸ëª…" required>
    </div>
    <div class="two-col">
      <div class="fg" style="margin-bottom:0">
        <label class="fl">ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸</label>
        <input type="text" id="bb-reg" class="fi biz-focus" placeholder="000-00-00000" required>
      </div>
      <div class="fg" style="margin-bottom:0">
        <label class="fl">ì—…ì¢…</label>
        <select id="bb-type" class="fi biz-focus" required>
          <option value="">ì„ íƒ</option>
          <option>ì¹´í˜Â·ì»¤í”¼ìˆ</option>
          <option>ìŒì‹ì Â·ì‹ë‹¹</option>
          <option>í—¬ìŠ¤ì¥Â·í”¼íŠ¸ë‹ˆìŠ¤</option>
          <option>ë¯¸ìš©ì‹¤Â·ë·°í‹°ìˆ</option>
          <option>í¸ì˜ì Â·ë¦¬í…Œì¼</option>
          <option>í˜¸í…”Â·ìˆ™ë°•</option>
          <option>ê¸°íƒ€</option>
        </select>
      </div>
    </div>
    <div class="fg" style="margin-top:12px">
      <label class="fl">ë§¤ì¥ ì£¼ì†Œ</label>
      <input type="text" id="bb-addr" class="fi biz-focus" placeholder="ì„œìš¸ì‹œ ê°•ë‚¨êµ¬...">
    </div>

    <button class="btn btn-biz" id="b-submit-btn" onclick="doSignupBiz()" style="margin-top:16px">
      ğŸ¢ ì‚¬ì—…ì ê°€ì…í•˜ê¸°
    </button>
    <div class="terms">
      ê°€ì… ì‹œ <a href="#">ì´ìš©ì•½ê´€</a>, <a href="#">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>, <a href="#">ì‚¬ì—…ì ì´ìš©ì•½ê´€</a>ì— ë™ì˜í•©ë‹ˆë‹¤.
    </div>
  </div>

  <div class="footer">ì´ë¯¸ ê³„ì •ì´ ìˆë‚˜ìš”? <a href="login.html">ë¡œê·¸ì¸ â†’</a></div>

</div>

<script>
function $(i){return document.getElementById(i)}
function toast(msg,t='i'){
  const el=document.createElement('div');el.className=`t ${t}`;el.textContent=msg;
  $('toast-box').prepend(el);setTimeout(()=>el.remove(),3500);
}

let regType='personal';
let role='listener';
let bizAddon=false;

// ê°€ì… ìœ í˜• ì „í™˜
function setRegType(type){
  regType=type;
  $('tab-personal').className='reg-tab'+(type==='personal'?' active':'');
  $('tab-business').className='reg-tab'+(type==='business'?' biz-active':'');
  $('form-personal').style.display=type==='personal'?'block':'none';
  $('form-business').style.display=type==='business'?'block':'none';
}

// ì—­í•  ì„ íƒ
function setRole(r){
  role=r;
  $('role-listener').classList.toggle('active',r==='listener');
  $('role-creator').classList.toggle('active',r==='creator');
}

// ì‚¬ì—…ì ì¶”ê°€ ë“±ë¡ í† ê¸€
function toggleBizAddon(){
  bizAddon=!bizAddon;
  $('biz-addon-check').classList.toggle('checked',bizAddon);
  $('biz-cb-box').textContent=bizAddon?'âœ“':'';
  $('biz-addon-fields').classList.toggle('show',bizAddon);
}

// ì‚¬ì—…ìë²ˆí˜¸ í¬ë§·
$('biz-reg')&&$('biz-reg').addEventListener('input',function(){
  let v=this.value.replace(/\D/g,'');
  if(v.length>3)v=v.slice(0,3)+'-'+v.slice(3);
  if(v.length>6)v=v.slice(0,6)+'-'+v.slice(6,8);
  this.value=v.slice(0,12);
});
$('bb-reg')&&$('bb-reg').addEventListener('input',function(){
  let v=this.value.replace(/\D/g,'');
  if(v.length>3)v=v.slice(0,3)+'-'+v.slice(3);
  if(v.length>6)v=v.slice(0,6)+'-'+v.slice(6,8);
  this.value=v.slice(0,12);
});

// â”€â”€ ê°œì¸ ê°€ì… â”€â”€
async function doSignup(){
  const name=$('p-name').value.trim();
  const email=$('p-email').value.trim();
  const pw=$('p-pw').value;
  const pw2=$('p-pw2').value;

  if(!name||!email||!pw){toast('ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”','e');return}
  if(pw!==pw2){toast('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤','e');return}
  if(pw.length<6){toast('ë¹„ë°€ë²ˆí˜¸ëŠ” 6ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤','e');return}

  // ì‚¬ì—…ì ì¶”ê°€ ìœ íš¨ì„±
  if(bizAddon){
    const bname=$('biz-name').value.trim();
    const breg=$('biz-reg').value.trim();
    if(!bname||!breg){toast('ì‚¬ì—…ì ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”','e');return}
  }

  const btn=$('p-submit-btn');
  btn.disabled=true;btn.innerHTML='<div class="spin"></div>';

  const user={
    username:name,email,role,
    isBusiness:bizAddon,
    business:bizAddon?{
      name:$('biz-name').value.trim(),
      regNum:$('biz-reg').value.trim(),
      type:$('biz-type').value,
      address:$('biz-addr').value.trim(),
      verified:false
    }:null,
    tl:10000,tlc:0,
    createdAt:Date.now()
  };

  // API ì‹œë„
  let ok=false;
  try{
    const r=await fetch('https://api.timelink.digital/auth/signup',{
      method:'POST',headers:{'Content-Type':'application/json'},
      body:JSON.stringify({username:name,email,password:pw,role,business:user.business}),
      signal:AbortSignal.timeout(4000)
    });
    const d=await r.json();
    if(d.token){localStorage.setItem('tl_token',d.token);localStorage.setItem('tl_user',JSON.stringify(d.user));ok=true}
  }catch{}

  // ë°ëª¨ í´ë°±
  if(!ok){
    localStorage.setItem('tl_token','demo_'+Date.now());
    localStorage.setItem('tl_user',JSON.stringify(user));
    localStorage.setItem('tl_signup_'+email,JSON.stringify(user));
  }

  const msg=bizAddon
    ?'ğŸ‰ ê°€ì… ì™„ë£Œ! ì‚¬ì—…ì ì¸ì¦ í›„ ì¹´í˜ ë°©ì†¡ì„ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
    :'ğŸ‰ ê°€ì… ì™„ë£Œ! 10,000 TLì´ ì§€ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤!';
  toast(msg,'s');
  setTimeout(()=>window.location.href='index.html',1200);
}

// â”€â”€ ì‚¬ì—…ì ì „ìš© ê°€ì… â”€â”€
async function doSignupBiz(){
  const name=$('b-name').value.trim();
  const email=$('b-email').value.trim();
  const pw=$('b-pw').value;
  const pw2=$('b-pw2').value;
  const bname=$('bb-bname').value.trim();
  const breg=$('bb-reg').value.trim();
  const btype=$('bb-type').value;

  if(!name||!email||!pw||!bname||!breg){toast('ëª¨ë“  í•„ìˆ˜ í•­ëª©ì„ ì…ë ¥í•˜ì„¸ìš”','e');return}
  if(pw!==pw2){toast('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤','e');return}
  if(pw.length<6){toast('ë¹„ë°€ë²ˆí˜¸ëŠ” 6ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤','e');return}
  if(!btype){toast('ì—…ì¢…ì„ ì„ íƒí•˜ì„¸ìš”','e');return}

  const btn=$('b-submit-btn');
  btn.disabled=true;btn.innerHTML='<div class="spin su"></div>';

  const user={
    username:name,email,role:'listener',
    isBusiness:true,
    business:{
      name:bname,
      regNum:breg,
      type:btype,
      address:$('bb-addr').value.trim(),
      verified:false
    },
    tl:10000,tlc:0,
    createdAt:Date.now()
  };

  let ok=false;
  try{
    const r=await fetch('https://api.timelink.digital/auth/signup',{
      method:'POST',headers:{'Content-Type':'application/json'},
      body:JSON.stringify({username:name,email,password:pw,role:'business',business:user.business}),
      signal:AbortSignal.timeout(4000)
    });
    const d=await r.json();
    if(d.token){localStorage.setItem('tl_token',d.token);localStorage.setItem('tl_user',JSON.stringify(d.user));ok=true}
  }catch{}

  if(!ok){
    localStorage.setItem('tl_token','demo_'+Date.now());
    localStorage.setItem('tl_user',JSON.stringify(user));
    localStorage.setItem('tl_signup_'+email,JSON.stringify(user));
  }

  toast('ğŸ¢ ì‚¬ì—…ì ê°€ì… ì™„ë£Œ! ì¸ì¦ í›„ ì¹´í˜ ë°©ì†¡ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.','s');
  setTimeout(()=>window.location.href='index.html',1400);
}

// ì´ë¯¸ ë¡œê·¸ì¸ë¨
if(localStorage.getItem('tl_token'))window.location.href='index.html';
</script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"1271d078e0ec49ac83bc8dd8b8fac63b","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"1271d078e0ec49ac83bc8dd8b8fac63b","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"1271d078e0ec49ac83bc8dd8b8fac63b","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>

<style>
/* íƒ­ ë©”ë‰´ ì¤‘ì•™ ì •ë ¬ (ìµœì¢… í•´ê²°) */
.tabs-bar,
.tabs-inner,
div[class*="tabs-"] {
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    text-align: center !important;
    width: 100% !important;
    margin: 0 auto !important;
    padding: 7px 0 !important;
}

.tab,
.tab-btn,
a[class*="tab"],
button[class*="tab"] {
    display: inline-flex !important;
    justify-content: center !important;
    align-items: center !important;
    margin: 0 4px !important;
    padding: 8px 16px !important;
    text-align: center !important;
    white-space: nowrap !important;
}

@media (max-width: 768px) {
    .tab, .tab-btn {
        margin: 0 2px !important;
        padding: 6px 10px !important;
        font-size: 12px !important;
    }
}
</style>

<script>
// íƒ­ ë©”ë‰´ ê°•ì œ ì¤‘ì•™ ì •ë ¬
(function() {
    function centerTabs() {
        const selectors = [
            '.tabs-bar', '.tabs-inner',
            '.tab', '.tab-btn',
            '[class*="tabs-"]', '[class*="tab"]'
        ];
        
        selectors.forEach(selector => {
            document.querySelectorAll(selector).forEach(el => {
                if (selector.includes('tabs')) {
                    el.style.cssText = 'display: flex !important; justify-content: center !important; align-items: center !important; margin: 0 auto !important;';
                } else {
                    el.style.cssText = 'margin: 0 4px !important; text-align: center !important;';
                }
            });
        });
    }
    
    centerTabs();
    window.addEventListener('load', centerTabs);
    new MutationObserver(centerTabs).observe(document.body, { 
        childList: true, 
        subtree: true 
    });
})();
</script>
</body>
</html>



